import{j as k}from"./jsx-runtime-eab19201.js";import{u as $e,y as Ve,z as Ge,N as Fe,A as He,B as Be,R as ft,C as mt,D as vt,E as pt,r as Ce,F as gt,L as xt,G as ht,M as te}from"./is-react-element-31658998.js";import{F as ge,N as ke,C as qe,B as ve,M as pe}from"./met-flex-3378349a.js";import{C as re,a as D,g as ne,f as X,_ as oe,p as xe,b as _e,e as J,s as de,u as Oe,D as Ke,j as Ie,o as Me,w as Le}from"./app-17122a22.js";import{R as We,b as bt,h as Ue,d as Ct}from"./recoil-683f5e9e.js";import{l as Ye}from"./montage-editor-files-tabs-054deba3.js";import{a as yt}from"./normal-f21da9bc.js";import{r,a as S}from"./react-c9cfb105.js";import"./root-17bd990c.js";import"./no-match-23cbf0bb.js";import"./no-permission-b2d333ee.js";import{d as St}from"./styleChecker-8ca3bd0b.js";import{u as je,g as ce,a as Ze,S as wt,R as Et}from"./index-4fc3ca28.js";import{u as zt,b as Rt}from"./react-router-dom-95ce7bcb.js";import"./react-dom-26dc6dd6.js";import"./index-91c92bc7.js";const Nt=()=>{const[e,n]=r.useState(!1);return r.useEffect(()=>{n(St())},[]),e},$t=e=>{const{getPrefixCls:n,direction:a}=r.useContext(re),{prefixCls:t,className:o=""}=e,s=n("input-group",t),c=n("input"),[i,v]=je(c),u=D(s,{[`${s}-lg`]:e.size==="large",[`${s}-sm`]:e.size==="small",[`${s}-compact`]:e.compact,[`${s}-rtl`]:a==="rtl"},v,o),f=r.useContext(ge),C=r.useMemo(()=>Object.assign(Object.assign({},f),{isFormItemInput:!1}),[f]);return i(r.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(ge.Provider,{value:C},e.children)))},_t=$t;function se(e){return!!(e.addonBefore||e.addonAfter)}function ye(e){return!!(e.prefix||e.suffix||e.allowClear)}function ue(e,n,a,t){if(a){var o=n;if(n.type==="click"){var s=e.cloneNode(!0);o=Object.create(n,{target:{value:s},currentTarget:{value:s}}),s.value="",a(o);return}if(t!==void 0){o=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=t,a(o);return}a(o)}}function Ot(e,n){if(e){e.focus(n);var a=n||{},t=a.cursor;if(t){var o=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(o,o);break;default:e.setSelectionRange(0,o)}}}}function Ne(e){return typeof e>"u"||e===null?"":String(e)}var Qe=function(n){var a,t,o=n.inputElement,s=n.prefixCls,c=n.prefix,i=n.suffix,v=n.addonBefore,u=n.addonAfter,f=n.className,C=n.style,E=n.disabled,x=n.readOnly,N=n.focused,P=n.triggerFocus,z=n.allowClear,M=n.value,$=n.handleReset,p=n.hidden,m=n.classes,l=n.classNames,h=n.dataAttrs,w=n.styles,O=r.useRef(null),_=function(y){var I;(I=O.current)!==null&&I!==void 0&&I.contains(y.target)&&P?.()},L=function(){var y;if(!z)return null;var I=!E&&!x&&M,R="".concat(s,"-clear-icon"),d=xe(z)==="object"&&z!==null&&z!==void 0&&z.clearIcon?z.clearIcon:"âœ–";return S.createElement("span",{onClick:$,onMouseDown:function(H){return H.preventDefault()},className:D(R,(y={},X(y,"".concat(R,"-hidden"),!I),X(y,"".concat(R,"-has-suffix"),!!i),y)),role:"button",tabIndex:-1},d)},b=r.cloneElement(o,{value:M,hidden:p,className:D((a=o.props)===null||a===void 0?void 0:a.className,!ye(n)&&!se(n)&&f)||null,style:ne(ne({},(t=o.props)===null||t===void 0?void 0:t.style),!ye(n)&&!se(n)?C:{})});if(ye(n)){var T,F="".concat(s,"-affix-wrapper"),j=D(F,(T={},X(T,"".concat(F,"-disabled"),E),X(T,"".concat(F,"-focused"),N),X(T,"".concat(F,"-readonly"),x),X(T,"".concat(F,"-input-with-clear-btn"),i&&z&&M),T),!se(n)&&f,m?.affixWrapper),A=(i||z)&&S.createElement("span",{className:D("".concat(s,"-suffix"),l?.suffix),style:w?.suffix},L(),i);b=S.createElement("span",oe({className:j,style:se(n)?void 0:C,hidden:!se(n)&&p,onClick:_},h?.affixWrapper,{ref:O}),c&&S.createElement("span",{className:D("".concat(s,"-prefix"),l?.prefix),style:w?.prefix},c),r.cloneElement(o,{value:M,hidden:null}),A)}if(se(n)){var K="".concat(s,"-group"),q="".concat(K,"-addon"),V=D("".concat(s,"-wrapper"),K,m?.wrapper),G=D("".concat(s,"-group-wrapper"),f,m?.group);return S.createElement("span",{className:G,style:C,hidden:p},S.createElement("span",{className:V},v&&S.createElement("span",{className:q},v),r.cloneElement(b,{hidden:null}),u&&S.createElement("span",{className:q},u)))}return b},It=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],jt=r.forwardRef(function(e,n){var a=e.autoComplete,t=e.onChange,o=e.onFocus,s=e.onBlur,c=e.onPressEnter,i=e.onKeyDown,v=e.prefixCls,u=v===void 0?"rc-input":v,f=e.disabled,C=e.htmlSize,E=e.className,x=e.maxLength,N=e.suffix,P=e.showCount,z=e.type,M=z===void 0?"text":z,$=e.classes,p=e.classNames,m=e.styles,l=_e(e,It),h=$e(e.defaultValue,{value:e.value}),w=J(h,2),O=w[0],_=w[1],L=r.useState(!1),b=J(L,2),T=b[0],F=b[1],j=r.useRef(null),A=function(d){j.current&&Ot(j.current,d)};r.useImperativeHandle(n,function(){return{focus:A,blur:function(){var d;(d=j.current)===null||d===void 0||d.blur()},setSelectionRange:function(d,W,H){var U;(U=j.current)===null||U===void 0||U.setSelectionRange(d,W,H)},select:function(){var d;(d=j.current)===null||d===void 0||d.select()},input:j.current}}),r.useEffect(function(){F(function(R){return R&&f?!1:R})},[f]);var K=function(d){e.value===void 0&&_(d.target.value),j.current&&ue(j.current,d,t)},q=function(d){c&&d.key==="Enter"&&c(d),i?.(d)},V=function(d){F(!0),o?.(d)},G=function(d){F(!1),s?.(d)},g=function(d){_(""),A(),j.current&&ue(j.current,d,t)},y=function(){var d=Ve(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return S.createElement("input",oe({autoComplete:a},d,{onChange:K,onFocus:V,onBlur:G,onKeyDown:q,className:D(u,X({},"".concat(u,"-disabled"),f),p?.input),style:m?.input,ref:j,size:C,type:M}))},I=function(){var d=Number(x)>0;if(N||P){var W=Ne(O),H=de(W).length,U=xe(P)==="object"?P.formatter({value:W,count:H,maxLength:x}):"".concat(H).concat(d?" / ".concat(x):"");return S.createElement(S.Fragment,null,!!P&&S.createElement("span",{className:D("".concat(u,"-show-count-suffix"),X({},"".concat(u,"-show-count-has-suffix"),!!N),p?.count),style:ne({},m?.count)},U),N)}return null};return S.createElement(Qe,oe({},l,{prefixCls:u,className:E,inputElement:y(),handleReset:g,value:Ne(O),focused:T,triggerFocus:A,suffix:I(),disabled:f,classes:$,classNames:p,styles:m}))});function Xe(e,n){const a=r.useRef([]),t=()=>{a.current.push(setTimeout(()=>{var o,s,c,i;!((o=e.current)===null||o===void 0)&&o.input&&((s=e.current)===null||s===void 0?void 0:s.input.getAttribute("type"))==="password"&&(!((c=e.current)===null||c===void 0)&&c.input.hasAttribute("value"))&&((i=e.current)===null||i===void 0||i.input.removeAttribute("value"))}))};return r.useEffect(()=>(n&&t(),()=>a.current.forEach(o=>{o&&clearTimeout(o)})),[]),t}function At(e){return!!(e.prefix||e.suffix||e.allowClear)}var Pt=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};function Tt(e,n){if(!e)return;e.focus(n);const{cursor:a}=n||{};if(a){const t=e.value.length;switch(a){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t);break}}}const Ft=r.forwardRef((e,n)=>{const{prefixCls:a,bordered:t=!0,status:o,size:s,disabled:c,onBlur:i,onFocus:v,suffix:u,allowClear:f,addonAfter:C,addonBefore:E,className:x,rootClassName:N,onChange:P,classNames:z}=e,M=Pt(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","rootClassName","onChange","classNames"]),{getPrefixCls:$,direction:p,input:m}=S.useContext(re),l=$("input",a),h=r.useRef(null),[w,O]=je(l),{compactSize:_,compactItemClassnames:L}=Ge(l,p),b=Oe(H=>{var U;return(U=_??s)!==null&&U!==void 0?U:H}),T=S.useContext(Ke),F=c??T,{status:j,hasFeedback:A,feedbackIcon:K}=r.useContext(ge),q=Ze(j,o),V=At(e)||!!A,G=r.useRef(V);r.useEffect(()=>{V&&G.current,G.current=V},[V]);const g=Xe(h,!0),y=H=>{g(),i?.(H)},I=H=>{g(),v?.(H)},R=H=>{g(),P?.(H)},d=(A||u)&&S.createElement(S.Fragment,null,u,A&&K);let W;return typeof f=="object"&&f?.clearIcon?W=f:f&&(W={clearIcon:S.createElement(qe,null)}),w(S.createElement(jt,Object.assign({ref:Ie(n,h),prefixCls:l,autoComplete:m?.autoComplete},M,{disabled:F,onBlur:y,onFocus:I,suffix:d,allowClear:W,className:D(x,N,L),onChange:R,addonAfter:C&&S.createElement(Fe,null,S.createElement(ke,{override:!0,status:!0},C)),addonBefore:E&&S.createElement(Fe,null,S.createElement(ke,{override:!0,status:!0},E)),classNames:Object.assign(Object.assign({},z),{input:D({[`${l}-sm`]:b==="small",[`${l}-lg`]:b==="large",[`${l}-rtl`]:p==="rtl",[`${l}-borderless`]:!t},!V&&ce(l,q),z?.input,O)}),classes:{affixWrapper:D({[`${l}-affix-wrapper-sm`]:b==="small",[`${l}-affix-wrapper-lg`]:b==="large",[`${l}-affix-wrapper-rtl`]:p==="rtl",[`${l}-affix-wrapper-borderless`]:!t},ce(`${l}-affix-wrapper`,q,A),O),wrapper:D({[`${l}-group-rtl`]:p==="rtl"},O),group:D({[`${l}-group-wrapper-sm`]:b==="small",[`${l}-group-wrapper-lg`]:b==="large",[`${l}-group-wrapper-rtl`]:p==="rtl",[`${l}-group-wrapper-disabled`]:F},ce(`${l}-group-wrapper`,q,A),O)}})))}),Ae=Ft;var Bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const kt=Bt;var Mt=function(n,a){return r.createElement(He,oe({},n,{ref:a,icon:kt}))};const Lt=r.forwardRef(Mt);var Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const Vt=Dt;var Gt=function(n,a){return r.createElement(He,oe({},n,{ref:a,icon:Vt}))};const Ht=r.forwardRef(Gt);var qt=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const Kt=e=>e?r.createElement(Ht,null):r.createElement(Lt,null),Wt={click:"onClick",hover:"onMouseOver"},Ut=r.forwardRef((e,n)=>{const{visibilityToggle:a=!0}=e,t=typeof a=="object"&&a.visible!==void 0,[o,s]=r.useState(()=>t?a.visible:!1),c=r.useRef(null);r.useEffect(()=>{t&&s(a.visible)},[t,a]);const i=Xe(c),v=()=>{const{disabled:l}=e;l||(o&&i(),s(h=>{var w;const O=!h;return typeof a=="object"&&((w=a.onVisibleChange)===null||w===void 0||w.call(a,O)),O}))},u=l=>{const{action:h="click",iconRender:w=Kt}=e,O=Wt[h]||"",_=w(o),L={[O]:v,className:`${l}-icon`,key:"passwordIcon",onMouseDown:b=>{b.preventDefault()},onMouseUp:b=>{b.preventDefault()}};return r.cloneElement(r.isValidElement(_)?_:r.createElement("span",null,_),L)},{className:f,prefixCls:C,inputPrefixCls:E,size:x}=e,N=qt(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:P}=r.useContext(re),z=P("input",E),M=P("input-password",C),$=a&&u(M),p=D(M,f,{[`${M}-${x}`]:!!x}),m=Object.assign(Object.assign({},Ve(N,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:p,prefixCls:z,suffix:$});return x&&(m.size=x),r.createElement(Ae,Object.assign({ref:Ie(n,c)},m))}),Yt=Ut;var Zt=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const Qt=r.forwardRef((e,n)=>{const{prefixCls:a,inputPrefixCls:t,className:o,size:s,suffix:c,enterButton:i=!1,addonAfter:v,loading:u,disabled:f,onSearch:C,onChange:E,onCompositionStart:x,onCompositionEnd:N}=e,P=Zt(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:z,direction:M}=r.useContext(re),$=r.useRef(!1),p=z("input-search",a),m=z("input",t),{compactSize:l}=Ge(p,M),h=Oe(g=>{var y;return(y=l??s)!==null&&y!==void 0?y:g}),w=r.useRef(null),O=g=>{g&&g.target&&g.type==="click"&&C&&C(g.target.value,g),E&&E(g)},_=g=>{var y;document.activeElement===((y=w.current)===null||y===void 0?void 0:y.input)&&g.preventDefault()},L=g=>{var y,I;C&&C((I=(y=w.current)===null||y===void 0?void 0:y.input)===null||I===void 0?void 0:I.value,g)},b=g=>{$.current||u||L(g)},T=typeof i=="boolean"?r.createElement(wt,null):null,F=`${p}-button`;let j;const A=i||{},K=A.type&&A.type.__ANT_BUTTON===!0;K||A.type==="button"?j=Be(A,Object.assign({onMouseDown:_,onClick:g=>{var y,I;(I=(y=A?.props)===null||y===void 0?void 0:y.onClick)===null||I===void 0||I.call(y,g),L(g)},key:"enterButton"},K?{className:F,size:h}:{})):j=r.createElement(ve,{className:F,type:i?"primary":void 0,size:h,disabled:f,key:"enterButton",onMouseDown:_,onClick:L,loading:u,icon:T},i),v&&(j=[j,Be(v,{key:"addonAfter"})]);const q=D(p,{[`${p}-rtl`]:M==="rtl",[`${p}-${h}`]:!!h,[`${p}-with-button`]:!!i},o),V=g=>{$.current=!0,x?.(g)},G=g=>{$.current=!1,N?.(g)};return r.createElement(Ae,Object.assign({ref:Ie(w,n),onPressEnter:b},P,{size:h,onCompositionStart:V,onCompositionEnd:G,prefixCls:m,addonAfter:j,suffix:c,onChange:O,className:q,disabled:f}))}),Xt=Qt;var Jt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,en=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Se={},Z;function tn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(n&&Se[a])return Se[a];var t=window.getComputedStyle(e),o=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),s=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),c=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),i=en.map(function(u){return"".concat(u,":").concat(t.getPropertyValue(u))}).join(";"),v={sizingStyle:i,paddingSize:s,borderSize:c,boxSizing:o};return n&&a&&(Se[a]=v),v}function nn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Z||(Z=document.createElement("textarea"),Z.setAttribute("tab-index","-1"),Z.setAttribute("aria-hidden","true"),document.body.appendChild(Z)),e.getAttribute("wrap")?Z.setAttribute("wrap",e.getAttribute("wrap")):Z.removeAttribute("wrap");var o=tn(e,n),s=o.paddingSize,c=o.borderSize,i=o.boxSizing,v=o.sizingStyle;Z.setAttribute("style","".concat(v,";").concat(Jt)),Z.value=e.value||e.placeholder||"";var u=void 0,f=void 0,C,E=Z.scrollHeight;if(i==="border-box"?E+=c:i==="content-box"&&(E-=s),a!==null||t!==null){Z.value=" ";var x=Z.scrollHeight-s;a!==null&&(u=x*a,i==="border-box"&&(u=u+s+c),E=Math.max(u,E)),t!==null&&(f=x*t,i==="border-box"&&(f=f+s+c),C=E>f?"":"hidden",E=Math.min(f,E))}var N={height:E,overflowY:C,resize:"none"};return u&&(N.minHeight=u),f&&(N.maxHeight=f),N}var an=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],we=0,Ee=1,ze=2,on=r.forwardRef(function(e,n){var a=e,t=a.prefixCls;a.onPressEnter;var o=a.defaultValue,s=a.value,c=a.autoSize,i=a.onResize,v=a.className,u=a.style,f=a.disabled,C=a.onChange;a.onInternalAutoSize;var E=_e(a,an),x=$e(o,{value:s,postState:function(d){return d??""}}),N=J(x,2),P=N[0],z=N[1],M=function(d){z(d.target.value),C?.(d)},$=r.useRef();r.useImperativeHandle(n,function(){return{textArea:$.current}});var p=r.useMemo(function(){return c&&xe(c)==="object"?[c.minRows,c.maxRows]:[]},[c]),m=J(p,2),l=m[0],h=m[1],w=!!c,O=function(){try{if(document.activeElement===$.current){var d=$.current,W=d.selectionStart,H=d.selectionEnd,U=d.scrollTop;$.current.setSelectionRange(W,H),$.current.scrollTop=U}}catch{}},_=r.useState(ze),L=J(_,2),b=L[0],T=L[1],F=r.useState(),j=J(F,2),A=j[0],K=j[1],q=function(){T(we)};Me(function(){w&&q()},[s,l,h,w]),Me(function(){if(b===we)T(Ee);else if(b===Ee){var R=nn($.current,!1,l,h);T(ze),K(R)}else O()},[b]);var V=r.useRef(),G=function(){Le.cancel(V.current)},g=function(d){b===ze&&(i?.(d),c&&(G(),V.current=Le(function(){q()})))};r.useEffect(function(){return G},[]);var y=w?A:null,I=ne(ne({},u),y);return(b===we||b===Ee)&&(I.overflowY="hidden",I.overflowX="hidden"),r.createElement(ft,{onResize:g,disabled:!(c||i)},r.createElement("textarea",oe({},E,{ref:$,style:I,className:D(t,v,X({},"".concat(t,"-disabled"),f)),disabled:f,value:P,onChange:M})))}),sn=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","classes","showCount","className","style","disabled","hidden","classNames","styles","onResize"];function Je(e,n){return de(e||"").slice(0,n).join("")}function De(e,n,a,t){var o=a;return e?o=Je(a,t):de(n||"").length<a.length&&de(a||"").length>t&&(o=n),o}var rn=S.forwardRef(function(e,n){var a,t=e.defaultValue,o=e.value,s=e.onFocus,c=e.onBlur,i=e.onChange,v=e.allowClear,u=e.maxLength,f=e.onCompositionStart,C=e.onCompositionEnd,E=e.suffix,x=e.prefixCls,N=x===void 0?"rc-textarea":x,P=e.classes,z=e.showCount,M=e.className,$=e.style,p=e.disabled,m=e.hidden,l=e.classNames,h=e.styles,w=e.onResize,O=_e(e,sn),_=$e(t,{value:o,defaultValue:t}),L=J(_,2),b=L[0],T=L[1],F=r.useRef(null),j=S.useState(!1),A=J(j,2),K=A[0],q=A[1],V=S.useState(!1),G=J(V,2),g=G[0],y=G[1],I=S.useRef(),R=S.useRef(0),d=S.useState(null),W=J(d,2),H=W[0],U=W[1],he=function(){F.current.textArea.focus()};r.useImperativeHandle(n,function(){return{resizableTextArea:F.current,focus:he,blur:function(){F.current.textArea.blur()}}}),r.useEffect(function(){q(function(Q){return!p&&Q})},[p]);var me=Number(u)>0,nt=function(B){y(!0),I.current=b,R.current=B.currentTarget.selectionStart,f?.(B)},at=function(B){y(!1);var Y=B.currentTarget.value;if(me){var ee,dt=R.current>=u+1||R.current===((ee=I.current)===null||ee===void 0?void 0:ee.length);Y=De(dt,I.current,Y,u)}Y!==b&&(T(Y),ue(B.currentTarget,B,i,Y)),C?.(B)},ot=function(B){var Y=B.target.value;if(!g&&me){var ee=B.target.selectionStart>=u+1||B.target.selectionStart===Y.length||!B.target.selectionStart;Y=De(ee,b,Y,u)}T(Y),ue(B.currentTarget,B,i,Y)},st=function(B){var Y=O.onPressEnter,ee=O.onKeyDown;B.key==="Enter"&&Y&&Y(B),ee?.(B)},rt=function(B){q(!0),s?.(B)},lt=function(B){q(!1),c?.(B)},it=function(B){T(""),he(),ue(F.current.textArea,B,i)},le=Ne(b);!g&&me&&o==null&&(le=Je(le,u));var be=E,ie;if(z){var Te=de(le).length;xe(z)==="object"?ie=z.formatter({value:le,count:Te,maxLength:u}):ie="".concat(Te).concat(me?" / ".concat(u):""),be=S.createElement(S.Fragment,null,be,S.createElement("span",{className:D("".concat(N,"-data-count"),l?.count),style:h?.count},ie))}var ct=function(B){w?.(B),H===null?U("mounted"):H==="mounted"&&U("resized")},ut=S.createElement(Qe,{value:le,allowClear:v,handleReset:it,suffix:be,prefixCls:N,classes:{affixWrapper:D(P?.affixWrapper,(a={},X(a,"".concat(N,"-show-count"),z),X(a,"".concat(N,"-textarea-allow-clear"),v),a))},disabled:p,focused:K,className:M,style:ne(ne({},$),H==="resized"?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ie=="string"?ie:void 0}},hidden:m,inputElement:S.createElement(on,oe({},O,{onKeyDown:st,onChange:ot,onFocus:rt,onBlur:lt,onCompositionStart:nt,onCompositionEnd:at,className:l?.textarea,style:ne(ne({},h?.textarea),{},{resize:$?.resize}),disabled:p,prefixCls:N,onResize:ct,ref:F}))});return ut}),ln=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const cn=r.forwardRef((e,n)=>{var{prefixCls:a,bordered:t=!0,size:o,disabled:s,status:c,allowClear:i,showCount:v,classNames:u}=e,f=ln(e,["prefixCls","bordered","size","disabled","status","allowClear","showCount","classNames"]);const{getPrefixCls:C,direction:E}=r.useContext(re),x=Oe(o),N=r.useContext(Ke),P=s??N,{status:z,hasFeedback:M,feedbackIcon:$}=r.useContext(ge),p=Ze(z,c),m=r.useRef(null);r.useImperativeHandle(n,()=>{var _;return{resizableTextArea:(_=m.current)===null||_===void 0?void 0:_.resizableTextArea,focus:L=>{var b,T;Tt((T=(b=m.current)===null||b===void 0?void 0:b.resizableTextArea)===null||T===void 0?void 0:T.textArea,L)},blur:()=>{var L;return(L=m.current)===null||L===void 0?void 0:L.blur()}}});const l=C("input",a);let h;typeof i=="object"&&i?.clearIcon?h=i:i&&(h={clearIcon:r.createElement(qe,null)});const[w,O]=je(l);return w(r.createElement(rn,Object.assign({},f,{disabled:P,allowClear:h,classes:{affixWrapper:D(`${l}-textarea-affix-wrapper`,{[`${l}-affix-wrapper-rtl`]:E==="rtl",[`${l}-affix-wrapper-borderless`]:!t,[`${l}-affix-wrapper-sm`]:x==="small",[`${l}-affix-wrapper-lg`]:x==="large",[`${l}-textarea-show-count`]:v},ce(`${l}-affix-wrapper`,p),O)},classNames:Object.assign(Object.assign({},u),{textarea:D({[`${l}-borderless`]:!t,[`${l}-sm`]:x==="small",[`${l}-lg`]:x==="large"},ce(l,p),O,u?.textarea)}),prefixCls:l,suffix:M&&r.createElement("span",{className:`${l}-textarea-suffix`},$),showCount:v,ref:m})))}),un=cn,fe=Ae;fe.Group=_t;fe.Search=Xt;fe.TextArea=un;fe.Password=Yt;const dn=fe,et=S.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),fn=et.Provider;function mn(e){let{className:n,direction:a,index:t,marginDirection:o,children:s,split:c,wrap:i,style:v}=e;const{horizontalSize:u,verticalSize:f,latestIndex:C,supportFlexGap:E}=r.useContext(et);let x={};return E||(a==="vertical"?t<C&&(x={marginBottom:u/(c?2:1)}):x=Object.assign(Object.assign({},t<C&&{[o]:u/(c?2:1)}),i&&{paddingBottom:f})),s==null?null:r.createElement(r.Fragment,null,r.createElement("div",{className:n,style:Object.assign(Object.assign({},x),v)},s),t<C&&c&&r.createElement("span",{className:`${n}-split`,style:x},c))}var vn=globalThis&&globalThis.__rest||function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(a[t[o]]=e[t[o]]);return a};const pn={small:8,middle:16,large:24};function gn(e){return typeof e=="string"?pn[e]:e||0}const xn=r.forwardRef((e,n)=>{var a,t;const{getPrefixCls:o,space:s,direction:c}=r.useContext(re),{size:i=s?.size||"small",align:v,className:u,rootClassName:f,children:C,direction:E="horizontal",prefixCls:x,split:N,style:P,wrap:z=!1,classNames:M,styles:$}=e,p=vn(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),m=Nt(),[l,h]=r.useMemo(()=>(Array.isArray(i)?i:[i,i]).map(G=>gn(G)),[i]),w=vt(C,{keepEmpty:!0}),O=v===void 0&&E==="horizontal"?"center":v,_=o("space",x),[L,b]=pt(_),T=D(_,b,`${_}-${E}`,{[`${_}-rtl`]:c==="rtl",[`${_}-align-${O}`]:O},u??s?.className,f),F=D(`${_}-item`,(a=M?.item)!==null&&a!==void 0?a:(t=s?.classNames)===null||t===void 0?void 0:t.item),j=c==="rtl"?"marginLeft":"marginRight";let A=0;const K=w.map((G,g)=>{var y,I;G!=null&&(A=g);const R=G&&G.key||`${F}-${g}`;return r.createElement(mn,{className:F,key:R,direction:E,index:g,marginDirection:j,split:N,wrap:z,style:(y=$?.item)!==null&&y!==void 0?y:(I=s?.styles)===null||I===void 0?void 0:I.item},G)}),q=r.useMemo(()=>({horizontalSize:l,verticalSize:h,latestIndex:A,supportFlexGap:m}),[l,h,A,m]);if(w.length===0)return null;const V={};return z&&(V.flexWrap="wrap",m||(V.marginBottom=-h)),m&&(V.columnGap=l,V.rowGap=h),L(r.createElement("div",Object.assign({ref:n,className:T,style:Object.assign(Object.assign(Object.assign({},V),s?.style),P)},p),r.createElement(fn,{value:q},K)))}),tt=xn;tt.Compact=mt;const hn=tt,bn=function(e){return Math.random()*e%e|0};function Cn(e=8,n=!1){const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghijklmnopqrstuvwxyz";let t="";const o=a.length;for(let s=0;s<e;s++)t+=a[bn(o)];return n?`${Date.now().toString(36)}-${t}`:t}const yn="_todos_r3qo6_1",Sn="_title_r3qo6_6",wn="_main_r3qo6_12",En="_list_r3qo6_18",zn="_footer_r3qo6_41",ae={todos:yn,title:Sn,main:wn,list:En,"list-item":"_list-item_r3qo6_24","status-done":"_status-done_r3qo6_32",footer:zn},Rn=We({key:"todo/todoListGetState",get:async()=>await Ye.getItem("todoList")??[]}),Re=bt({key:"todo/todoListGetAtom",default:Rn}),Pe=We({key:"todo/todoListState",get:({get:e})=>{const n=e(Re),{status:a}=e(yt).params;return a?n?.filter(t=>t.status===a):n},set:({set:e,get:n},a)=>{const t=a[0],o=n(Re);let s=[];Ce(t.add,c=>{s=[{id:Cn(),title:c,status:"active"},...o]}),Ce(t.delete,c=>{s=o.filter(i=>i.id===c)}),Ce(t.update,c=>{const i=o.findIndex(v=>v.id===c.id);s=o.toSpliced(i,1,c)}),Ye.setItem("todoList",s),e(Re,s)}}),Nn=({item:e,inx:n})=>{const{title:a,status:t}=e,o=Ue(Pe),s=(c,i)=>{const v=c.status==="active"?"done":"active";o([{update:{...c,status:v}}])};return k.jsx(gt,{className:D(ae["list-item"],ae[`status-${t}`]),comment:`Todo List Item: ${n}`,children:k.jsx(xt,{children:k.jsxs(hn,{children:[k.jsx(Et,{checked:t==="done",onClick:()=>{s(e)}}),k.jsxs(ht,{children:["ooooooOooo ",a]})]})})})},$n=()=>{const e=zt(),{status:n=""}=Rt();return k.jsxs(pe,{gap:8,children:[k.jsx(ve,{shape:"round",type:n===""?"primary":"default",onClick:()=>e("/todos"),children:"All"}),k.jsx(ve,{shape:"round",type:n==="active"?"primary":"default",onClick:()=>e("/todos/active"),children:"Active"}),k.jsx(ve,{shape:"round",type:n==="done"?"primary":"default",onClick:()=>e("/todos/done"),children:"Done"})]})},_n=()=>{const e=Ue(Pe),[n,a]=r.useState(""),t=()=>{e([{add:n}]),a("")},o=s=>{const c=s.target.value.trim();a(c)};return k.jsx(te,{children:k.jsx(dn,{placeholder:"What needs to be done?",bordered:!1,size:"large",value:n,onPressEnter:t,onChange:o,style:{fontSize:20,fontWeight:200}})})},On=()=>{const e=Ct(Pe);return k.jsxs(te,{className:ae.todos,br:8,comment:"Todo Container",children:[k.jsxs(pe,{className:ae.title,placement:"center",comment:"Todo Header",align:"center",children:[k.jsx(te,{fw:200,children:"Todos"}),k.jsx(te,{ml:9,fs:20,fw:200,children:"React + Recoil + URLSync + Localforage"})]}),k.jsxs(te,{className:ae.main,children:[k.jsx(te,{className:ae.input,comment:"Todo Input",children:k.jsx(_n,{})}),k.jsx(te,{className:ae.list,comment:"Todo List",children:e.map((n,a)=>k.jsx(Nn,{item:n,inx:a},`${n.title}-${a}`))})]}),k.jsxs(pe,{p:16,className:ae.footer,children:[k.jsxs(te,{color:"#aaa",children:[e.length," items left"]}),k.jsx(pe,{placement:"center",flex:1,children:k.jsx($n,{})})]})]})},In=()=>k.jsx(te,{tag:"article",pt:30,children:k.jsx(On,{})}),Un=In;export{Un as Component};
