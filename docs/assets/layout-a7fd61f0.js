import{j as N}from"./jsx-runtime-eab19201.js";import{y as ge,g as L,b as We,s as ce,p as ct,h as ze,i as nt,_ as I,a as F,e as le,t as ot,f as j,o as Fe,C as qe,E as qt,F as Gt,m as Vt,G as Ce,l as Xt}from"./app-17122a22.js";import{o as Yt}from"./normal-f21da9bc.js";import{t as Zt,o as ut,m as Ge,M as X,e as Jt,i as Qt,h as ft,p as en,j as qn,s as rt,u as Gn,n as Vn,q as Xn,T as Yn,r as Me}from"./montage-editor-files-tabs-054deba3.js";import{D as Zn,y as Jn,K as tn,j as pt,T as ve,a2 as Qn,$ as nn,h as on,N as eo,a0 as bt,A as ie,a3 as Ct,B as Et,a4 as to,a5 as Ve,a6 as no,M as Y,m as St,a7 as oo,g as rn,r as ro}from"./is-react-element-31658998.js";import{p as vt,N as ao,L as io,M as Pe}from"./met-flex-3378349a.js";import{M as so,a as wt,P as lo}from"./monaco-editor-2aa85eca.js";import{M as Ue}from"./met-box-fc03a461.js";import{c as Xe,h as ae,d as Le,i as co}from"./recoil-683f5e9e.js";import{r as u,a as be}from"./react-c9cfb105.js";import{a as an,O as uo}from"./react-router-dom-95ce7bcb.js";import{L as fo,E as Nt}from"./index-09d2c34b.js";import{b as po,u as vo}from"./use-query-1ff30ea4.js";import"./root-17bd990c.js";import"./no-match-23cbf0bb.js";import"./no-permission-b2d333ee.js";import{a as go,u as ho}from"./use-route-56ee3bc5.js";import"./index-91c92bc7.js";import"./react-dom-26dc6dd6.js";import"./_isIterateeCall-898c5566.js";import"./styleChecker-8ca3bd0b.js";const mo=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),yo=mo;function te(t,n){return t[n]}function sn(t,n){var o=new Set;return t.forEach(function(e){n.has(e)||o.add(e)}),o}function xo(t){var n=t||{},o=n.disabled,e=n.disableCheckbox,i=n.checkable;return!!(o||e)||i===!1}function bo(t,n,o,e){for(var i=new Set(t),d=new Set,c=0;c<=o;c+=1){var r=n.get(c)||new Set;r.forEach(function(f){var p=f.key,v=f.node,m=f.children,h=m===void 0?[]:m;i.has(p)&&!e(v)&&h.filter(function(y){return!e(y.node)}).forEach(function(y){i.add(y.key)})})}for(var a=new Set,s=o;s>=0;s-=1){var l=n.get(s)||new Set;l.forEach(function(f){var p=f.parent,v=f.node;if(!(e(v)||!f.parent||a.has(f.parent.key))){if(e(f.parent.node)){a.add(p.key);return}var m=!0,h=!1;(p.children||[]).filter(function(y){return!e(y.node)}).forEach(function(y){var g=y.key,x=i.has(g);m&&!x&&(m=!1),!h&&(x||d.has(g))&&(h=!0)}),m&&i.add(p.key),h&&d.add(p.key),a.add(p.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(sn(d,i))}}function Co(t,n,o,e,i){for(var d=new Set(t),c=new Set(n),r=0;r<=e;r+=1){var a=o.get(r)||new Set;a.forEach(function(p){var v=p.key,m=p.node,h=p.children,y=h===void 0?[]:h;!d.has(v)&&!c.has(v)&&!i(m)&&y.filter(function(g){return!i(g.node)}).forEach(function(g){d.delete(g.key)})})}c=new Set;for(var s=new Set,l=e;l>=0;l-=1){var f=o.get(l)||new Set;f.forEach(function(p){var v=p.parent,m=p.node;if(!(i(m)||!p.parent||s.has(p.parent.key))){if(i(p.parent.node)){s.add(v.key);return}var h=!0,y=!1;(v.children||[]).filter(function(g){return!i(g.node)}).forEach(function(g){var x=g.key,b=d.has(x);h&&!b&&(h=!1),!y&&(b||c.has(x))&&(y=!0)}),h||d.delete(v.key),y&&c.add(v.key),s.add(v.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(sn(c,d))}}function Je(t,n,o,e){var i=[],d;e?d=e:d=xo;var c=new Set(t.filter(function(l){var f=!!te(o,l);return f||i.push(l),f})),r=new Map,a=0;Object.keys(o).forEach(function(l){var f=o[l],p=f.level,v=r.get(p);v||(v=new Set,r.set(p,v)),v.add(f),a=Math.max(a,p)}),ge(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(l){return"'".concat(l,"'")}).join(", ")));var s;return n===!0?s=bo(c,r,a,d):s=Co(c,n.halfCheckedKeys,r,a,d),s}var Eo=["children"];function dn(t,n){return"".concat(t,"-").concat(n)}function So(t){return t&&t.type&&t.type.isTreeNode}function Ie(t,n){return t??n}function Be(t){var n=t||{},o=n.title,e=n._title,i=n.key,d=n.children,c=o||"title";return{title:c,_title:e||[c],key:i||"key",children:d||"children"}}function ln(t){function n(o){var e=Zn(o);return e.map(function(i){if(!So(i))return ge(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var d=i.key,c=i.props,r=c.children,a=We(c,Eo),s=L({key:d},a),l=n(r);return l.length&&(s.children=l),s}).filter(function(i){return i})}return n(t)}function Qe(t,n,o){var e=Be(o),i=e._title,d=e.key,c=e.children,r=new Set(n===!0?[]:n),a=[];function s(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.map(function(p,v){for(var m=dn(f?f.pos:"0",v),h=Ie(p[d],m),y,g=0;g<i.length;g+=1){var x=i[g];if(p[x]!==void 0){y=p[x];break}}var b=L(L({},Jn(p,[].concat(ce(i),[d,c]))),{},{title:y,key:h,parent:f,pos:m,children:null,data:p,isStart:[].concat(ce(f?f.isStart:[]),[v===0]),isEnd:[].concat(ce(f?f.isEnd:[]),[v===l.length-1])});return a.push(b),n===!0||r.has(h)?b.children=s(p[c]||[],b):b.children=[],b})}return s(t),a}function wo(t,n,o){var e={};ct(o)==="object"?e=o:e={externalGetKey:o},e=e||{};var i=e,d=i.childrenPropName,c=i.externalGetKey,r=i.fieldNames,a=Be(r),s=a.key,l=a.children,f=d||l,p;c?typeof c=="string"?p=function(h){return h[c]}:typeof c=="function"&&(p=function(h){return c(h)}):p=function(h,y){return Ie(h[s],y)};function v(m,h,y,g){var x=m?m[f]:t,b=m?dn(y.pos,h):"0",C=m?[].concat(ce(g),[m]):[];if(m){var E=p(m,b),K={node:m,index:h,pos:b,key:E,parentPos:y.node?y.pos:null,level:y.level+1,nodes:C};n(K)}x&&x.forEach(function($,S){v($,S,{node:m,pos:b,level:y?y.level+1:-1},C)})}v(null)}function cn(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.initWrapper,e=n.processEntity,i=n.onProcessFinished,d=n.externalGetKey,c=n.childrenPropName,r=n.fieldNames,a=arguments.length>2?arguments[2]:void 0,s=d||a,l={},f={},p={posEntities:l,keyEntities:f};return o&&(p=o(p)||p),wo(t,function(v){var m=v.node,h=v.index,y=v.pos,g=v.key,x=v.parentPos,b=v.level,C=v.nodes,E={node:m,nodes:C,index:h,key:g,pos:y,level:b},K=Ie(g,y);l[y]=E,f[K]=E,E.parent=l[x],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),e&&e(E,p)},{externalGetKey:s,childrenPropName:c,fieldNames:r}),i&&i(p),p}function Te(t,n){var o=n.expandedKeys,e=n.selectedKeys,i=n.loadedKeys,d=n.loadingKeys,c=n.checkedKeys,r=n.halfCheckedKeys,a=n.dragOverNodeKey,s=n.dropPosition,l=n.keyEntities,f=te(l,t),p={eventKey:t,expanded:o.indexOf(t)!==-1,selected:e.indexOf(t)!==-1,loaded:i.indexOf(t)!==-1,loading:d.indexOf(t)!==-1,checked:c.indexOf(t)!==-1,halfChecked:r.indexOf(t)!==-1,pos:String(f?f.pos:""),dragOver:a===t&&s===0,dragOverGapTop:a===t&&s===-1,dragOverGapBottom:a===t&&s===1};return p}function B(t){var n=t.data,o=t.expanded,e=t.selected,i=t.checked,d=t.loaded,c=t.loading,r=t.halfChecked,a=t.dragOver,s=t.dragOverGapTop,l=t.dragOverGapBottom,f=t.pos,p=t.active,v=t.eventKey,m=L(L({},n),{},{expanded:o,selected:e,checked:i,loaded:d,loading:c,halfChecked:r,dragOver:a,dragOverGapTop:s,dragOverGapBottom:l,pos:f,active:p,key:v});return"props"in m||Object.defineProperty(m,"props",{get:function(){return ge(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),m}const No=new tn("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),Ko=t=>{const{checkboxCls:n}=t,o=`${n}-wrapper`;return[{[`${n}-group`]:Object.assign(Object.assign({},ze(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[o]:Object.assign(Object.assign({},ze(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${o}`]:{marginInlineStart:0},[`&${o}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[n]:Object.assign(Object.assign({},ze(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${n}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${n}-inner`]:Object.assign({},nt(t))},[`${n}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:t.checkboxSize/14*5,height:t.checkboxSize/14*8,border:`${t.lineWidthBold}px solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[n]:{"&-indeterminate":{[`${n}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:t.fontSizeLG/2,height:t.fontSizeLG/2,backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${o}:hover ${n}:after`]:{visibility:"visible"},[`
        ${o}:not(${o}-disabled),
        ${n}:not(${n}-disabled)
      `]:{[`&:hover ${n}-inner`]:{borderColor:t.colorPrimary}},[`${o}:not(${o}-disabled)`]:{[`&:hover ${n}-checked:not(${n}-disabled) ${n}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${n}-checked:not(${n}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${n}-checked`]:{[`${n}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:t.borderRadiusSM,visibility:"hidden",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,animationName:No,animationDuration:t.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${t.motionDurationSlow}`}},[`
        ${o}-checked:not(${o}-disabled),
        ${n}-checked:not(${n}-disabled)
      `]:{[`&:hover ${n}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${n}:after`]:{borderColor:t.colorPrimaryHover}}},{[`${o}-disabled`]:{cursor:"not-allowed"},[`${n}-disabled`]:{[`&, ${n}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${n}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${n}-indeterminate ${n}-inner::after`]:{background:t.colorTextDisabled}}}]};function ko(t,n){const o=pt(n,{checkboxCls:`.${t}`,checkboxSize:n.controlInteractiveSize});return[Ko(o)]}var Kt=u.createContext(null),$o=function(n){var o=n.prefixCls,e=n.className,i=n.style,d=n.children,c=n.containerRef,r=n.onMouseEnter,a=n.onMouseOver,s=n.onMouseLeave,l=n.onClick,f=n.onKeyDown,p=n.onKeyUp,v={onMouseEnter:r,onMouseOver:a,onMouseLeave:s,onClick:l,onKeyDown:f,onKeyUp:p};return u.createElement(u.Fragment,null,u.createElement("div",I({className:F("".concat(o,"-content"),e),style:L({},i),"aria-modal":"true",role:"dialog",ref:c},v),d))};function kt(t){return typeof t=="string"&&String(Number(t))===t?(ge(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(t)):t}var $t={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Do(t,n){var o,e,i,d,c=t.prefixCls,r=t.open,a=t.placement,s=t.inline,l=t.push,f=t.forceRender,p=t.autoFocus,v=t.keyboard,m=t.rootClassName,h=t.rootStyle,y=t.zIndex,g=t.className,x=t.style,b=t.motion,C=t.width,E=t.height,K=t.children,$=t.contentWrapperStyle,S=t.mask,w=t.maskClosable,k=t.maskMotion,P=t.maskClassName,O=t.maskStyle,D=t.afterOpenChange,T=t.onClose,_=t.onMouseEnter,H=t.onMouseOver,z=t.onMouseLeave,G=t.onClick,U=t.onKeyDown,J=t.onKeyUp,W=u.useRef(),q=u.useRef(),ee=u.useRef();u.useImperativeHandle(n,function(){return W.current});var ue=function(M){var Z=M.keyCode,Q=M.shiftKey;switch(Z){case ve.TAB:{if(Z===ve.TAB){if(!Q&&document.activeElement===ee.current){var de;(de=q.current)===null||de===void 0||de.focus({preventScroll:!0})}else if(Q&&document.activeElement===q.current){var re;(re=ee.current)===null||re===void 0||re.focus({preventScroll:!0})}}break}case ve.ESC:{T&&v&&(M.stopPropagation(),T(M));break}}};u.useEffect(function(){if(r&&p){var A;(A=W.current)===null||A===void 0||A.focus({preventScroll:!0})}},[r]);var he=u.useState(!1),Se=le(he,2),ne=Se[0],se=Se[1],R=u.useContext(Kt),me;l===!1?me={distance:0}:l===!0?me={}:me=l||{};var V=(o=(e=(i=me)===null||i===void 0?void 0:i.distance)!==null&&e!==void 0?e:R?.pushDistance)!==null&&o!==void 0?o:180,Ye=u.useMemo(function(){return{pushDistance:V,push:function(){se(!0)},pull:function(){se(!1)}}},[V]);u.useEffect(function(){if(r){var A;R==null||(A=R.push)===null||A===void 0||A.call(R)}else{var M;R==null||(M=R.pull)===null||M===void 0||M.call(R)}},[r]),u.useEffect(function(){return function(){var A;R==null||(A=R.pull)===null||A===void 0||A.call(R)}},[]);var Re=S&&u.createElement(ot,I({key:"mask"},k,{visible:r}),function(A,M){var Z=A.className,Q=A.style;return u.createElement("div",{className:F("".concat(c,"-mask"),Z,P),style:L(L({},Q),O),onClick:w&&r?T:void 0,ref:M})}),Ze=typeof b=="function"?b(a):b,oe={};if(ne&&V)switch(a){case"top":oe.transform="translateY(".concat(V,"px)");break;case"bottom":oe.transform="translateY(".concat(-V,"px)");break;case"left":oe.transform="translateX(".concat(V,"px)");break;default:oe.transform="translateX(".concat(-V,"px)");break}a==="left"||a==="right"?oe.width=kt(C):oe.height=kt(E);var Ae={onMouseEnter:_,onMouseOver:H,onMouseLeave:z,onClick:G,onKeyDown:U,onKeyUp:J},$e=u.createElement(ot,I({key:"panel"},Ze,{visible:r,forceRender:f,onVisibleChanged:function(M){D?.(M)},removeOnLeave:!1,leavedClassName:"".concat(c,"-content-wrapper-hidden")}),function(A,M){var Z=A.className,Q=A.style;return u.createElement("div",I({className:F("".concat(c,"-content-wrapper"),Z),style:L(L(L({},oe),Q),$)},vt(t,{data:!0})),u.createElement($o,I({containerRef:M,prefixCls:c,className:g,style:x},Ae),K))}),je=L({},h);return y&&(je.zIndex=y),u.createElement(Kt.Provider,{value:Ye},u.createElement("div",{className:F(c,"".concat(c,"-").concat(a),m,(d={},j(d,"".concat(c,"-open"),r),j(d,"".concat(c,"-inline"),s),d)),style:je,tabIndex:-1,ref:W,onKeyDown:ue},Re,u.createElement("div",{tabIndex:0,ref:q,style:$t,"aria-hidden":"true","data-sentinel":"start"}),$e,u.createElement("div",{tabIndex:0,ref:ee,style:$t,"aria-hidden":"true","data-sentinel":"end"})))}var Oo=u.forwardRef(Do),Mo=function(n){var o=n.open,e=o===void 0?!1:o,i=n.prefixCls,d=i===void 0?"rc-drawer":i,c=n.placement,r=c===void 0?"right":c,a=n.autoFocus,s=a===void 0?!0:a,l=n.keyboard,f=l===void 0?!0:l,p=n.width,v=p===void 0?378:p,m=n.mask,h=m===void 0?!0:m,y=n.maskClosable,g=y===void 0?!0:y,x=n.getContainer,b=n.forceRender,C=n.afterOpenChange,E=n.destroyOnClose,K=n.onMouseEnter,$=n.onMouseOver,S=n.onMouseLeave,w=n.onClick,k=n.onKeyDown,P=n.onKeyUp,O=u.useState(!1),D=le(O,2),T=D[0],_=D[1],H=u.useState(!1),z=le(H,2),G=z[0],U=z[1];Fe(function(){U(!0)},[]);var J=G?e:!1,W=u.useRef(),q=u.useRef();Fe(function(){J&&(q.current=document.activeElement)},[J]);var ee=function(ne){var se;if(_(ne),C?.(ne),!ne&&q.current&&!(!((se=W.current)===null||se===void 0)&&se.contains(q.current))){var R;(R=q.current)===null||R===void 0||R.focus({preventScroll:!0})}};if(!b&&!T&&!J&&E)return null;var ue={onMouseEnter:K,onMouseOver:$,onMouseLeave:S,onClick:w,onKeyDown:k,onKeyUp:P},he=L(L({},n),{},{open:J,prefixCls:d,placement:r,autoFocus:s,keyboard:f,width:v,mask:h,maskClosable:g,inline:x===!1,afterOpenChange:ee,ref:W},ue);return u.createElement(Qn,{open:J||b||T,autoDestroy:!1,getContainer:x,autoLock:h&&(J||T)},u.createElement(Oo,he))};const Po=t=>{const{prefixCls:n,title:o,footer:e,extra:i,closable:d=!0,closeIcon:c=u.createElement(nn,null),onClose:r,headerStyle:a,drawerStyle:s,bodyStyle:l,footerStyle:f,children:p}=t,v=d&&u.createElement("button",{type:"button",onClick:r,"aria-label":"Close",className:`${n}-close`},c),m=u.useMemo(()=>!o&&!d?null:u.createElement("div",{style:a,className:F(`${n}-header`,{[`${n}-header-close-only`]:d&&!o&&!i})},u.createElement("div",{className:`${n}-header-title`},v,o&&u.createElement("div",{className:`${n}-title`},o)),i&&u.createElement("div",{className:`${n}-extra`},i)),[d,v,i,a,n,o]),h=u.useMemo(()=>{if(!e)return null;const y=`${n}-footer`;return u.createElement("div",{className:y,style:f},e)},[e,f,n]);return u.createElement("div",{className:`${n}-wrapper-body`,style:s},m,u.createElement("div",{className:`${n}-body`,style:l},p),h)},un=Po,To=t=>{const{componentCls:n,motionDurationSlow:o}=t,e={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${o}`}}};return{[n]:{[`${n}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${o}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${n}-panel-motion`]:{"&-left":[e,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[e,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[e,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[e,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},Lo=To,Io=t=>{const{componentCls:n,zIndexPopup:o,colorBgMask:e,colorBgElevated:i,motionDurationSlow:d,motionDurationMid:c,padding:r,paddingLG:a,fontSizeLG:s,lineHeightLG:l,lineWidth:f,lineType:p,colorSplit:v,marginSM:m,colorIcon:h,colorIconHover:y,colorText:g,fontWeightStrong:x,footerPaddingBlock:b,footerPaddingInline:C}=t,E=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none","&-pure":{position:"relative",background:i,[`&${n}-left`]:{boxShadow:t.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:t.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:t.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:o,background:e,pointerEvents:"auto"},[E]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${d}`,"&-hidden":{display:"none"}},[`&-left > ${E}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},[`&-right > ${E}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},[`&-top > ${E}`]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},[`&-bottom > ${E}`]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},[`${n}-content`]:{width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${n}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${r}px ${a}px`,fontSize:s,lineHeight:l,borderBottom:`${f}px ${p} ${v}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:{display:"inline-block",marginInlineEnd:m,color:h,fontWeight:x,fontSize:s,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${c}`,textRendering:"auto","&:focus, &:hover":{color:y,textDecoration:"none"}},[`${n}-title`]:{flex:1,margin:0,color:g,fontWeight:t.fontWeightStrong,fontSize:s,lineHeight:l},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:a,overflow:"auto"},[`${n}-footer`]:{flexShrink:0,padding:`${b}px ${C}px`,borderTop:`${f}px ${p} ${v}`},"&-rtl":{direction:"rtl"}}}},fn=on("Drawer",t=>{const n=pt(t,{});return[Io(n),Lo(n)]},t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding}));var pn=globalThis&&globalThis.__rest||function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(o[e[i]]=t[e[i]]);return o};const Ro={distance:180};function vn(t){const{rootClassName:n,width:o,height:e,size:i="default",mask:d=!0,push:c=Ro,open:r,afterOpenChange:a,onClose:s,prefixCls:l,getContainer:f,visible:p,afterVisibleChange:v}=t,m=pn(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","visible","afterVisibleChange"]),{getPopupContainer:h,getPrefixCls:y,direction:g}=u.useContext(qe),x=y("drawer",l),[b,C]=fn(x),E=f===void 0&&h?()=>h(document.body):f,K=F({"no-mask":!d,[`${x}-rtl`]:g==="rtl"},n,C),$=u.useMemo(()=>o??(i==="large"?736:378),[o,i]),S=u.useMemo(()=>e??(i==="large"?736:378),[e,i]),w={motionName:bt(x,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},k=P=>({motionName:bt(x,`panel-motion-${P}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500});return b(u.createElement(eo,null,u.createElement(ao,{status:!0,override:!0},u.createElement(Mo,Object.assign({prefixCls:x,onClose:s,maskMotion:w,motion:k},m,{open:r??p,mask:d,push:c,width:$,height:S,rootClassName:K,getContainer:E,afterOpenChange:a??v}),u.createElement(un,Object.assign({prefixCls:x},m,{onClose:s}))))))}function Ao(t){var{prefixCls:n,style:o,className:e,placement:i="right"}=t,d=pn(t,["prefixCls","style","className","placement"]);const{getPrefixCls:c}=u.useContext(qe),r=c("drawer",n),[a,s]=fn(r);return a(u.createElement("div",{className:F(r,`${r}-pure`,`${r}-${i}`,s,e),style:o},u.createElement(un,Object.assign({prefixCls:r},d))))}vn._InternalPanelDoNotUseOrYouWillBeFired=Ao;var jo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const _o=jo;var Ho=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:_o}))};const zo=u.forwardRef(Ho);var Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 512.3v-.3c0-229.8-186.2-416-416-416S96 282.2 96 512v.4c0 229.8 186.2 416 416 416s416-186.2 416-416v-.3.2zm-6.7-74.6l.6 3.3-.6-3.3zM676.7 638.2c53.5-82.2 52.5-189.4-11.1-263.7l162.4-8.4c20.5 44.4 32 93.8 32 145.9 0 185.2-144.6 336.6-327.1 347.4l143.8-221.2zM512 652.3c-77.5 0-140.2-62.7-140.2-140.2 0-77.7 62.7-140.2 140.2-140.2S652.2 434.5 652.2 512 589.5 652.3 512 652.3zm369.2-331.7l-3-5.7 3 5.7zM512 164c121.3 0 228.2 62.1 290.4 156.2l-263.6-13.9c-97.5-5.7-190.2 49.2-222.3 141.1L227.8 311c63.1-88.9 166.9-147 284.2-147zM102.5 585.8c26 145 127.1 264 261.6 315.1C229.6 850 128.5 731 102.5 585.8zM164 512c0-55.9 13.2-108.7 36.6-155.5l119.7 235.4c44.1 86.7 137.4 139.7 234 121.6l-74 145.1C302.9 842.5 164 693.5 164 512zm324.7 415.4c4 .2 8 .4 12 .5-4-.2-8-.3-12-.5z"}}]},name:"chrome",theme:"outlined"};const Uo=Fo;var Bo=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:Uo}))};const Wo=u.forwardRef(Bo);var qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};const Go=qo;var Vo=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:Go}))};const Xo=u.forwardRef(Vo);var Yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const Zo=Yo;var Jo=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:Zo}))};const gn=u.forwardRef(Jo);var Qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const er=Qo;var tr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:er}))};const nr=u.forwardRef(tr);var or={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const rr=or;var ar=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:rr}))};const ir=u.forwardRef(ar);var sr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const dr=sr;var lr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:dr}))};const cr=u.forwardRef(lr);var ur={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};const fr=ur;var pr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:fr}))};const vr=u.forwardRef(pr);var gr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};const hr=gr;var mr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:hr}))};const yr=u.forwardRef(mr);var xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const br=xr;var Cr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:br}))};const Er=u.forwardRef(Cr);var Sr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const wr=Sr;var Nr=function(n,o){return u.createElement(ie,I({},n,{ref:o,icon:wr}))};const Kr=u.forwardRef(Nr);var gt=u.createContext(null);function kr(t){var n=t.dropPosition,o=t.dropLevelOffset,e=t.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:i.top=0,i.left=-o*e;break;case 1:i.bottom=0,i.left=-o*e;break;case 0:i.bottom=0,i.left=e;break}return u.createElement("div",{style:i})}function hn(t){if(t==null)throw new TypeError("Cannot destructure "+t)}var $r=function(n){for(var o=n.prefixCls,e=n.level,i=n.isStart,d=n.isEnd,c="".concat(o,"-indent-unit"),r=[],a=0;a<e;a+=1){var s;r.push(u.createElement("span",{key:a,className:F(c,(s={},j(s,"".concat(c,"-start"),i[a]),j(s,"".concat(c,"-end"),d[a]),s))}))}return u.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},r)};const Dr=u.memo($r);var Or=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Dt="open",Ot="close",Mr="---",Pr=function(t){qt(o,t);var n=Gt(o);function o(){var e;Vt(this,o);for(var i=arguments.length,d=new Array(i),c=0;c<i;c++)d[c]=arguments[c];return e=n.call.apply(n,[this].concat(d)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(r){var a=e.props.context.onNodeClick;a(r,B(e.props)),e.isSelectable()?e.onSelect(r):e.onCheck(r)},e.onSelectorDoubleClick=function(r){var a=e.props.context.onNodeDoubleClick;a(r,B(e.props))},e.onSelect=function(r){if(!e.isDisabled()){var a=e.props.context.onNodeSelect;a(r,B(e.props))}},e.onCheck=function(r){if(!e.isDisabled()){var a=e.props,s=a.disableCheckbox,l=a.checked,f=e.props.context.onNodeCheck;if(!(!e.isCheckable()||s)){var p=!l;f(r,B(e.props),p)}}},e.onMouseEnter=function(r){var a=e.props.context.onNodeMouseEnter;a(r,B(e.props))},e.onMouseLeave=function(r){var a=e.props.context.onNodeMouseLeave;a(r,B(e.props))},e.onContextMenu=function(r){var a=e.props.context.onNodeContextMenu;a(r,B(e.props))},e.onDragStart=function(r){var a=e.props.context.onNodeDragStart;r.stopPropagation(),e.setState({dragNodeHighlight:!0}),a(r,Ce(e));try{r.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(r){var a=e.props.context.onNodeDragEnter;r.preventDefault(),r.stopPropagation(),a(r,Ce(e))},e.onDragOver=function(r){var a=e.props.context.onNodeDragOver;r.preventDefault(),r.stopPropagation(),a(r,Ce(e))},e.onDragLeave=function(r){var a=e.props.context.onNodeDragLeave;r.stopPropagation(),a(r,Ce(e))},e.onDragEnd=function(r){var a=e.props.context.onNodeDragEnd;r.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(r,Ce(e))},e.onDrop=function(r){var a=e.props.context.onNodeDrop;r.preventDefault(),r.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(r,Ce(e))},e.onExpand=function(r){var a=e.props,s=a.loading,l=a.context.onNodeExpand;s||l(r,B(e.props))},e.setSelectHandle=function(r){e.selectHandle=r},e.getNodeState=function(){var r=e.props.expanded;return e.isLeaf()?null:r?Dt:Ot},e.hasChildren=function(){var r=e.props.eventKey,a=e.props.context.keyEntities,s=te(a,r)||{},l=s.children;return!!(l||[]).length},e.isLeaf=function(){var r=e.props,a=r.isLeaf,s=r.loaded,l=e.props.context.loadData,f=e.hasChildren();return a===!1?!1:a||!l&&!f||l&&s&&!f},e.isDisabled=function(){var r=e.props.disabled,a=e.props.context.disabled;return!!(a||r)},e.isCheckable=function(){var r=e.props.checkable,a=e.props.context.checkable;return!a||r===!1?!1:a},e.syncLoadData=function(r){var a=r.expanded,s=r.loading,l=r.loaded,f=e.props.context,p=f.loadData,v=f.onNodeLoad;s||p&&a&&!e.isLeaf()&&!e.hasChildren()&&!l&&v(B(e.props))},e.isDraggable=function(){var r=e.props,a=r.data,s=r.context.draggable;return!!(s&&(!s.nodeDraggable||s.nodeDraggable(a)))},e.renderDragHandler=function(){var r=e.props.context,a=r.draggable,s=r.prefixCls;return a?.icon?u.createElement("span",{className:"".concat(s,"-draggable-icon")},a.icon):null},e.renderSwitcherIconDom=function(r){var a=e.props.switcherIcon,s=e.props.context.switcherIcon,l=a||s;return typeof l=="function"?l(L(L({},e.props),{},{isLeaf:r})):l},e.renderSwitcher=function(){var r=e.props.expanded,a=e.props.context.prefixCls;if(e.isLeaf()){var s=e.renderSwitcherIconDom(!0);return s!==!1?u.createElement("span",{className:F("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},s):null}var l=F("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(r?Dt:Ot)),f=e.renderSwitcherIconDom(!1);return f!==!1?u.createElement("span",{onClick:e.onExpand,className:l},f):null},e.renderCheckbox=function(){var r=e.props,a=r.checked,s=r.halfChecked,l=r.disableCheckbox,f=e.props.context.prefixCls,p=e.isDisabled(),v=e.isCheckable();if(!v)return null;var m=typeof v!="boolean"?v:null;return u.createElement("span",{className:F("".concat(f,"-checkbox"),a&&"".concat(f,"-checkbox-checked"),!a&&s&&"".concat(f,"-checkbox-indeterminate"),(p||l)&&"".concat(f,"-checkbox-disabled")),onClick:e.onCheck},m)},e.renderIcon=function(){var r=e.props.loading,a=e.props.context.prefixCls;return u.createElement("span",{className:F("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(e.getNodeState()||"docu"),r&&"".concat(a,"-icon_loading"))})},e.renderSelector=function(){var r=e.state.dragNodeHighlight,a=e.props,s=a.title,l=s===void 0?Mr:s,f=a.selected,p=a.icon,v=a.loading,m=a.data,h=e.props.context,y=h.prefixCls,g=h.showIcon,x=h.icon,b=h.loadData,C=h.titleRender,E=e.isDisabled(),K="".concat(y,"-node-content-wrapper"),$;if(g){var S=p||x;$=S?u.createElement("span",{className:F("".concat(y,"-iconEle"),"".concat(y,"-icon__customize"))},typeof S=="function"?S(e.props):S):e.renderIcon()}else b&&v&&($=e.renderIcon());var w;typeof l=="function"?w=l(m):C?w=C(m):w=l;var k=u.createElement("span",{className:"".concat(y,"-title")},w);return u.createElement("span",{ref:e.setSelectHandle,title:typeof l=="string"?l:"",className:F("".concat(K),"".concat(K,"-").concat(e.getNodeState()||"normal"),!E&&(f||r)&&"".concat(y,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},$,k,e.renderDropIndicator())},e.renderDropIndicator=function(){var r=e.props,a=r.disabled,s=r.eventKey,l=e.props.context,f=l.draggable,p=l.dropLevelOffset,v=l.dropPosition,m=l.prefixCls,h=l.indent,y=l.dropIndicatorRender,g=l.dragOverNodeKey,x=l.direction,b=!!f,C=!a&&b&&g===s,E=h??e.cacheIndent;return e.cacheIndent=h,C?y({dropPosition:v,dropLevelOffset:p,indent:E,prefixCls:m,direction:x}):null},e}return Xt(o,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var i=this.props.selectable,d=this.props.context.selectable;return typeof i=="boolean"?i:d}},{key:"render",value:function(){var i,d=this.props,c=d.eventKey,r=d.className,a=d.style,s=d.dragOver,l=d.dragOverGapTop,f=d.dragOverGapBottom,p=d.isLeaf,v=d.isStart,m=d.isEnd,h=d.expanded,y=d.selected,g=d.checked,x=d.halfChecked,b=d.loading,C=d.domRef,E=d.active;d.data;var K=d.onMouseMove,$=d.selectable,S=We(d,Or),w=this.props.context,k=w.prefixCls,P=w.filterTreeNode,O=w.keyEntities,D=w.dropContainerKey,T=w.dropTargetKey,_=w.draggingNodeKey,H=this.isDisabled(),z=vt(S,{aria:!0,data:!0}),G=te(O,c)||{},U=G.level,J=m[m.length-1],W=this.isDraggable(),q=!H&&W,ee=_===c,ue=$!==void 0?{"aria-selected":!!$}:void 0;return u.createElement("div",I({ref:C,className:F(r,"".concat(k,"-treenode"),(i={},j(i,"".concat(k,"-treenode-disabled"),H),j(i,"".concat(k,"-treenode-switcher-").concat(h?"open":"close"),!p),j(i,"".concat(k,"-treenode-checkbox-checked"),g),j(i,"".concat(k,"-treenode-checkbox-indeterminate"),x),j(i,"".concat(k,"-treenode-selected"),y),j(i,"".concat(k,"-treenode-loading"),b),j(i,"".concat(k,"-treenode-active"),E),j(i,"".concat(k,"-treenode-leaf-last"),J),j(i,"".concat(k,"-treenode-draggable"),W),j(i,"dragging",ee),j(i,"drop-target",T===c),j(i,"drop-container",D===c),j(i,"drag-over",!H&&s),j(i,"drag-over-gap-top",!H&&l),j(i,"drag-over-gap-bottom",!H&&f),j(i,"filter-node",P&&P(B(this.props))),i)),style:a,draggable:q,"aria-grabbed":ee,onDragStart:q?this.onDragStart:void 0,onDragEnter:W?this.onDragEnter:void 0,onDragOver:W?this.onDragOver:void 0,onDragLeave:W?this.onDragLeave:void 0,onDrop:W?this.onDrop:void 0,onDragEnd:W?this.onDragEnd:void 0,onMouseMove:K},ue,z),u.createElement(Dr,{prefixCls:k,level:U,isStart:v,isEnd:m}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),o}(u.Component),ke=function(n){return u.createElement(gt.Consumer,null,function(o){return u.createElement(Pr,I({},n,{context:o}))})};ke.displayName="TreeNode";ke.isTreeNode=1;function Tr(t,n){var o=u.useState(!1),e=le(o,2),i=e[0],d=e[1];u.useLayoutEffect(function(){if(i)return t(),function(){n()}},[i]),u.useLayoutEffect(function(){return d(!0),function(){d(!1)}},[])}var Lr=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],mn=function(n,o){var e=n.className,i=n.style,d=n.motion,c=n.motionNodes,r=n.motionType,a=n.onMotionStart,s=n.onMotionEnd,l=n.active,f=n.treeNodeRequiredProps,p=We(n,Lr),v=u.useState(!0),m=le(v,2),h=m[0],y=m[1],g=u.useContext(gt),x=g.prefixCls,b=c&&r!=="hide";Fe(function(){c&&b!==h&&y(b)},[c]);var C=function(){c&&a()},E=u.useRef(!1),K=function(){c&&!E.current&&(E.current=!0,s())};Tr(C,K);var $=function(w){b===w&&K()};return c?u.createElement(ot,I({ref:o,visible:h},d,{motionAppear:r==="show",onVisibleChanged:$}),function(S,w){var k=S.className,P=S.style;return u.createElement("div",{ref:w,className:F("".concat(x,"-treenode-motion"),k),style:P},c.map(function(O){var D=I({},(hn(O.data),O.data)),T=O.title,_=O.key,H=O.isStart,z=O.isEnd;delete D.children;var G=Te(_,f);return u.createElement(ke,I({},D,G,{title:T,active:l,data:O.data,key:_,isStart:H,isEnd:z}))}))}):u.createElement(ke,I({domRef:o,className:e,style:i},p,{active:l}))};mn.displayName="MotionTreeNode";var Ir=u.forwardRef(mn);function Rr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=t.length,e=n.length;if(Math.abs(o-e)!==1)return{add:!1,key:null};function i(d,c){var r=new Map;d.forEach(function(s){r.set(s,!0)});var a=c.filter(function(s){return!r.has(s)});return a.length===1?a[0]:null}return o<e?{add:!0,key:i(t,n)}:{add:!1,key:i(n,t)}}function Mt(t,n,o){var e=t.findIndex(function(r){return r.key===o}),i=t[e+1],d=n.findIndex(function(r){return r.key===o});if(i){var c=n.findIndex(function(r){return r.key===i.key});return n.slice(d+1,c)}return n.slice(d+1)}var Ar=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Pt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},jr=function(){},Ne="RC_TREE_MOTION_".concat(Math.random()),at={key:Ne},yn={key:Ne,level:0,index:0,pos:"0",node:at,nodes:[at]},Tt={parent:null,children:[],pos:yn.pos,data:at,title:null,key:Ne,isStart:[],isEnd:[]};function Lt(t,n,o,e){return n===!1||!o?t:t.slice(0,Math.ceil(o/e)+1)}function It(t){var n=t.key,o=t.pos;return Ie(n,o)}function _r(t){for(var n=String(t.data.key),o=t;o.parent;)o=o.parent,n="".concat(o.data.key," > ").concat(n);return n}var xn=u.forwardRef(function(t,n){var o=t.prefixCls,e=t.data;t.selectable,t.checkable;var i=t.expandedKeys,d=t.selectedKeys,c=t.checkedKeys,r=t.loadedKeys,a=t.loadingKeys,s=t.halfCheckedKeys,l=t.keyEntities,f=t.disabled,p=t.dragging,v=t.dragOverNodeKey,m=t.dropPosition,h=t.motion,y=t.height,g=t.itemHeight,x=t.virtual,b=t.focusable,C=t.activeItem,E=t.focused,K=t.tabIndex,$=t.onKeyDown,S=t.onFocus,w=t.onBlur,k=t.onActiveChange,P=t.onListChangeStart,O=t.onListChangeEnd,D=We(t,Ar),T=u.useRef(null),_=u.useRef(null);u.useImperativeHandle(n,function(){return{scrollTo:function(Z){T.current.scrollTo(Z)},getIndentWidth:function(){return _.current.offsetWidth}}});var H=u.useState(i),z=le(H,2),G=z[0],U=z[1],J=u.useState(e),W=le(J,2),q=W[0],ee=W[1],ue=u.useState(e),he=le(ue,2),Se=he[0],ne=he[1],se=u.useState([]),R=le(se,2),me=R[0],V=R[1],Ye=u.useState(null),Re=le(Ye,2),Ze=Re[0],oe=Re[1],Ae=u.useRef(e);Ae.current=e;function $e(){var M=Ae.current;ee(M),ne(M),V([]),oe(null),O()}Fe(function(){U(i);var M=Rr(G,i);if(M.key!==null)if(M.add){var Z=q.findIndex(function(De){var Oe=De.key;return Oe===M.key}),Q=Lt(Mt(q,e,M.key),x,y,g),de=q.slice();de.splice(Z+1,0,Tt),ne(de),V(Q),oe("show")}else{var re=e.findIndex(function(De){var Oe=De.key;return Oe===M.key}),we=Lt(Mt(e,q,M.key),x,y,g),_e=e.slice();_e.splice(re+1,0,Tt),ne(_e),V(we),oe("hide")}else q!==e&&(ee(e),ne(e))},[i,e]),u.useEffect(function(){p||$e()},[p]);var je=h?Se:e,A={expandedKeys:i,selectedKeys:d,loadedKeys:r,loadingKeys:a,checkedKeys:c,halfCheckedKeys:s,dragOverNodeKey:v,dropPosition:m,keyEntities:l};return u.createElement(u.Fragment,null,E&&C&&u.createElement("span",{style:Pt,"aria-live":"assertive"},_r(C)),u.createElement("div",null,u.createElement("input",{style:Pt,disabled:b===!1||f,tabIndex:b!==!1?K:null,onKeyDown:$,onFocus:S,onBlur:w,value:"",onChange:jr,"aria-label":"for screen reader"})),u.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},u.createElement("div",{className:"".concat(o,"-indent")},u.createElement("div",{ref:_,className:"".concat(o,"-indent-unit")}))),u.createElement(fo,I({},D,{data:je,itemKey:It,height:y,fullHeight:!1,virtual:x,itemHeight:g,prefixCls:"".concat(o,"-list"),ref:T,onVisibleChange:function(Z,Q){var de=new Set(Z),re=Q.filter(function(we){return!de.has(we)});re.some(function(we){return It(we)===Ne})&&$e()}}),function(M){var Z=M.pos,Q=I({},(hn(M.data),M.data)),de=M.title,re=M.key,we=M.isStart,_e=M.isEnd,De=Ie(re,Z);delete Q.key,delete Q.children;var Oe=Te(De,A);return u.createElement(Ir,I({},Q,Oe,{title:de,active:!!C&&re===C.key,pos:Z,data:M.data,isStart:we,isEnd:_e,motion:h,motionNodes:re===Ne?me:null,motionType:Ze,onMotionStart:P,onMotionEnd:$e,treeNodeRequiredProps:A,onMouseMove:function(){k(null)}}))}))});xn.displayName="NodeList";function fe(t,n){if(!t)return[];var o=t.slice(),e=o.indexOf(n);return e>=0&&o.splice(e,1),o}function ye(t,n){var o=(t||[]).slice();return o.indexOf(n)===-1&&o.push(n),o}function ht(t){return t.split("-")}function Hr(t,n){var o=[],e=te(n,t);function i(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];d.forEach(function(c){var r=c.key,a=c.children;o.push(r),i(a)})}return i(e.children),o}function zr(t){if(t.parent){var n=ht(t.pos);return Number(n[n.length-1])===t.parent.children.length-1}return!1}function Fr(t){var n=ht(t.pos);return Number(n[n.length-1])===0}function Rt(t,n,o,e,i,d,c,r,a,s){var l,f=t.clientX,p=t.clientY,v=t.target.getBoundingClientRect(),m=v.top,h=v.height,y=(s==="rtl"?-1:1)*((i?.x||0)-f),g=(y-12)/e,x=te(r,o.props.eventKey);if(p<m+h/2){var b=c.findIndex(function(_){return _.key===x.key}),C=b<=0?0:b-1,E=c[C].key;x=te(r,E)}var K=x.key,$=x,S=x.key,w=0,k=0;if(!a.includes(K))for(var P=0;P<g&&zr(x);P+=1)x=x.parent,k+=1;var O=n.props.data,D=x.node,T=!0;return Fr(x)&&x.level===0&&p<m+h/2&&d({dragNode:O,dropNode:D,dropPosition:-1})&&x.key===o.props.eventKey?w=-1:($.children||[]).length&&a.includes(S)?d({dragNode:O,dropNode:D,dropPosition:0})?w=0:T=!1:k===0?g>-1.5?d({dragNode:O,dropNode:D,dropPosition:1})?w=1:T=!1:d({dragNode:O,dropNode:D,dropPosition:0})?w=0:d({dragNode:O,dropNode:D,dropPosition:1})?w=1:T=!1:d({dragNode:O,dropNode:D,dropPosition:1})?w=1:T=!1,{dropPosition:w,dropLevelOffset:k,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:S,dropContainerKey:w===0?null:((l=x.parent)===null||l===void 0?void 0:l.key)||null,dropAllowed:T}}function At(t,n){if(t){var o=n.multiple;return o?t.slice():t.length?[t[0]]:t}}function et(t){if(!t)return null;var n;if(Array.isArray(t))n={checkedKeys:t,halfCheckedKeys:void 0};else if(ct(t)==="object")n={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return ge(!1,"`checkedKeys` is not an array or an object"),null;return n}function it(t,n){var o=new Set;function e(i){if(!o.has(i)){var d=te(n,i);if(d){o.add(i);var c=d.parent,r=d.node;r.disabled||c&&e(c.key)}}}return(t||[]).forEach(function(i){e(i)}),ce(o)}var Ur=10,mt=function(t){qt(o,t);var n=Gt(o);function o(){var e;Vt(this,o);for(var i=arguments.length,d=new Array(i),c=0;c<i;c++)d[c]=arguments[c];return e=n.call.apply(n,[this].concat(d)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Be()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=u.createRef(),e.onNodeDragStart=function(r,a){var s=e.state,l=s.expandedKeys,f=s.keyEntities,p=e.props.onDragStart,v=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:r.clientX,y:r.clientY};var m=fe(l,v);e.setState({draggingNodeKey:v,dragChildrenKeys:Hr(v,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(m),window.addEventListener("dragend",e.onWindowDragEnd),p?.({event:r,node:B(a.props)})},e.onNodeDragEnter=function(r,a){var s=e.state,l=s.expandedKeys,f=s.keyEntities,p=s.dragChildrenKeys,v=s.flattenNodes,m=s.indent,h=e.props,y=h.onDragEnter,g=h.onExpand,x=h.allowDrop,b=h.direction,C=a.props,E=C.pos,K=C.eventKey,$=Ce(e),S=$.dragNode;if(e.currentMouseOverDroppableNodeKey!==K&&(e.currentMouseOverDroppableNodeKey=K),!S){e.resetDragState();return}var w=Rt(r,S,a,m,e.dragStartMousePosition,x,v,f,l,b),k=w.dropPosition,P=w.dropLevelOffset,O=w.dropTargetKey,D=w.dropContainerKey,T=w.dropTargetPos,_=w.dropAllowed,H=w.dragOverNodeKey;if(p.indexOf(O)!==-1||!_){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(z){clearTimeout(e.delayedDragEnterLogic[z])}),S.props.eventKey!==a.props.eventKey&&(r.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var z=ce(l),G=te(f,a.props.eventKey);G&&(G.children||[]).length&&(z=ye(l,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(z),g?.(z,{node:B(a.props),expanded:!0,nativeEvent:r.nativeEvent})}},800)),S.props.eventKey===O&&P===0){e.resetDragState();return}e.setState({dragOverNodeKey:H,dropPosition:k,dropLevelOffset:P,dropTargetKey:O,dropContainerKey:D,dropTargetPos:T,dropAllowed:_}),y?.({event:r,node:B(a.props),expandedKeys:l})},e.onNodeDragOver=function(r,a){var s=e.state,l=s.dragChildrenKeys,f=s.flattenNodes,p=s.keyEntities,v=s.expandedKeys,m=s.indent,h=e.props,y=h.onDragOver,g=h.allowDrop,x=h.direction,b=Ce(e),C=b.dragNode;if(C){var E=Rt(r,C,a,m,e.dragStartMousePosition,g,f,p,v,x),K=E.dropPosition,$=E.dropLevelOffset,S=E.dropTargetKey,w=E.dropContainerKey,k=E.dropAllowed,P=E.dropTargetPos,O=E.dragOverNodeKey;l.indexOf(S)!==-1||!k||(C.props.eventKey===S&&$===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():K===e.state.dropPosition&&$===e.state.dropLevelOffset&&S===e.state.dropTargetKey&&w===e.state.dropContainerKey&&P===e.state.dropTargetPos&&k===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:K,dropLevelOffset:$,dropTargetKey:S,dropContainerKey:w,dropTargetPos:P,dropAllowed:k,dragOverNodeKey:O}),y?.({event:r,node:B(a.props)}))}},e.onNodeDragLeave=function(r,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var s=e.props.onDragLeave;s?.({event:r,node:B(a.props)})},e.onWindowDragEnd=function(r){e.onNodeDragEnd(r,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(r,a){var s=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),s?.({event:r,node:B(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(r,a){var s,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,p=f.dragChildrenKeys,v=f.dropPosition,m=f.dropTargetKey,h=f.dropTargetPos,y=f.dropAllowed;if(y){var g=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),m!==null){var x=L(L({},Te(m,e.getTreeNodeRequiredProps())),{},{active:((s=e.getActiveItem())===null||s===void 0?void 0:s.key)===m,data:te(e.state.keyEntities,m).node}),b=p.indexOf(m)!==-1;ge(!b,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=ht(h),E={event:r,node:B(x),dragNode:e.dragNode?B(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(p),dropToGap:v!==0,dropPosition:v+Number(C[C.length-1])};l||g?.(E),e.dragNode=null}}},e.cleanDragState=function(){var r=e.state.draggingNodeKey;r!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(r,a){var s=e.state,l=s.expandedKeys,f=s.flattenNodes,p=a.expanded,v=a.key,m=a.isLeaf;if(!(m||r.shiftKey||r.metaKey||r.ctrlKey)){var h=f.filter(function(g){return g.key===v})[0],y=B(L(L({},Te(v,e.getTreeNodeRequiredProps())),{},{data:h.data}));e.setExpandedKeys(p?fe(l,v):ye(l,v)),e.onNodeExpand(r,y)}},e.onNodeClick=function(r,a){var s=e.props,l=s.onClick,f=s.expandAction;f==="click"&&e.triggerExpandActionExpand(r,a),l?.(r,a)},e.onNodeDoubleClick=function(r,a){var s=e.props,l=s.onDoubleClick,f=s.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(r,a),l?.(r,a)},e.onNodeSelect=function(r,a){var s=e.state.selectedKeys,l=e.state,f=l.keyEntities,p=l.fieldNames,v=e.props,m=v.onSelect,h=v.multiple,y=a.selected,g=a[p.key],x=!y;x?h?s=ye(s,g):s=[g]:s=fe(s,g);var b=s.map(function(C){var E=te(f,C);return E?E.node:null}).filter(function(C){return C});e.setUncontrolledState({selectedKeys:s}),m?.(s,{event:"select",selected:x,node:a,selectedNodes:b,nativeEvent:r.nativeEvent})},e.onNodeCheck=function(r,a,s){var l=e.state,f=l.keyEntities,p=l.checkedKeys,v=l.halfCheckedKeys,m=e.props,h=m.checkStrictly,y=m.onCheck,g=a.key,x,b={event:"check",node:a,checked:s,nativeEvent:r.nativeEvent};if(h){var C=s?ye(p,g):fe(p,g),E=fe(v,g);x={checked:C,halfChecked:E},b.checkedNodes=C.map(function(P){return te(f,P)}).filter(function(P){return P}).map(function(P){return P.node}),e.setUncontrolledState({checkedKeys:C})}else{var K=Je([].concat(ce(p),[g]),!0,f),$=K.checkedKeys,S=K.halfCheckedKeys;if(!s){var w=new Set($);w.delete(g);var k=Je(Array.from(w),{checked:!1,halfCheckedKeys:S},f);$=k.checkedKeys,S=k.halfCheckedKeys}x=$,b.checkedNodes=[],b.checkedNodesPositions=[],b.halfCheckedKeys=S,$.forEach(function(P){var O=te(f,P);if(O){var D=O.node,T=O.pos;b.checkedNodes.push(D),b.checkedNodesPositions.push({node:D,pos:T})}}),e.setUncontrolledState({checkedKeys:$},!1,{halfCheckedKeys:S})}y?.(x,b)},e.onNodeLoad=function(r){var a=r.key,s=new Promise(function(l,f){e.setState(function(p){var v=p.loadedKeys,m=v===void 0?[]:v,h=p.loadingKeys,y=h===void 0?[]:h,g=e.props,x=g.loadData,b=g.onLoad;if(!x||m.indexOf(a)!==-1||y.indexOf(a)!==-1)return null;var C=x(r);return C.then(function(){var E=e.state.loadedKeys,K=ye(E,a);b?.(K,{event:"load",node:r}),e.setUncontrolledState({loadedKeys:K}),e.setState(function($){return{loadingKeys:fe($.loadingKeys,a)}}),l()}).catch(function(E){if(e.setState(function($){return{loadingKeys:fe($.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=Ur){var K=e.state.loadedKeys;ge(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ye(K,a)}),l()}f(E)}),{loadingKeys:ye(y,a)}})});return s.catch(function(){}),s},e.onNodeMouseEnter=function(r,a){var s=e.props.onMouseEnter;s?.({event:r,node:a})},e.onNodeMouseLeave=function(r,a){var s=e.props.onMouseLeave;s?.({event:r,node:a})},e.onNodeContextMenu=function(r,a){var s=e.props.onRightClick;s&&(r.preventDefault(),s({event:r,node:a}))},e.onFocus=function(){var r=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];r?.apply(void 0,s)},e.onBlur=function(){var r=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];r?.apply(void 0,s)},e.getTreeNodeRequiredProps=function(){var r=e.state,a=r.expandedKeys,s=r.selectedKeys,l=r.loadedKeys,f=r.loadingKeys,p=r.checkedKeys,v=r.halfCheckedKeys,m=r.dragOverNodeKey,h=r.dropPosition,y=r.keyEntities;return{expandedKeys:a||[],selectedKeys:s||[],loadedKeys:l||[],loadingKeys:f||[],checkedKeys:p||[],halfCheckedKeys:v||[],dragOverNodeKey:m,dropPosition:h,keyEntities:y}},e.setExpandedKeys=function(r){var a=e.state,s=a.treeData,l=a.fieldNames,f=Qe(s,r,l);e.setUncontrolledState({expandedKeys:r,flattenNodes:f},!0)},e.onNodeExpand=function(r,a){var s=e.state.expandedKeys,l=e.state,f=l.listChanging,p=l.fieldNames,v=e.props,m=v.onExpand,h=v.loadData,y=a.expanded,g=a[p.key];if(!f){var x=s.indexOf(g),b=!y;if(ge(y&&x!==-1||!y&&x===-1,"Expand state not sync with index check"),b?s=ye(s,g):s=fe(s,g),e.setExpandedKeys(s),m?.(s,{node:a,expanded:b,nativeEvent:r.nativeEvent}),b&&h){var C=e.onNodeLoad(a);C&&C.then(function(){var E=Qe(e.state.treeData,s,p);e.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=e.state.expandedKeys,K=fe(E,g);e.setExpandedKeys(K)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(r){var a=e.state.activeKey,s=e.props.onActiveChange;a!==r&&(e.setState({activeKey:r}),r!==null&&e.scrollTo({key:r}),s?.(r))},e.getActiveItem=function(){var r=e.state,a=r.activeKey,s=r.flattenNodes;return a===null?null:s.find(function(l){var f=l.key;return f===a})||null},e.offsetActiveKey=function(r){var a=e.state,s=a.flattenNodes,l=a.activeKey,f=s.findIndex(function(m){var h=m.key;return h===l});f===-1&&r<0&&(f=s.length),f=(f+r+s.length)%s.length;var p=s[f];if(p){var v=p.key;e.onActiveChange(v)}else e.onActiveChange(null)},e.onKeyDown=function(r){var a=e.state,s=a.activeKey,l=a.expandedKeys,f=a.checkedKeys,p=a.fieldNames,v=e.props,m=v.onKeyDown,h=v.checkable,y=v.selectable;switch(r.which){case ve.UP:{e.offsetActiveKey(-1),r.preventDefault();break}case ve.DOWN:{e.offsetActiveKey(1),r.preventDefault();break}}var g=e.getActiveItem();if(g&&g.data){var x=e.getTreeNodeRequiredProps(),b=g.data.isLeaf===!1||!!(g.data[p.children]||[]).length,C=B(L(L({},Te(s,x)),{},{data:g.data,active:!0}));switch(r.which){case ve.LEFT:{b&&l.includes(s)?e.onNodeExpand({},C):g.parent&&e.onActiveChange(g.parent.key),r.preventDefault();break}case ve.RIGHT:{b&&!l.includes(s)?e.onNodeExpand({},C):g.children&&g.children.length&&e.onActiveChange(g.children[0].key),r.preventDefault();break}case ve.ENTER:case ve.SPACE:{h&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?e.onNodeCheck({},C,!f.includes(s)):!h&&y&&!C.disabled&&C.selectable!==!1&&e.onNodeSelect({},C);break}}}m?.(r)},e.setUncontrolledState=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,f=!0,p={};Object.keys(r).forEach(function(v){if(v in e.props){f=!1;return}l=!0,p[v]=r[v]}),l&&(!a||f)&&e.setState(L(L({},p),s))}},e.scrollTo=function(r){e.listRef.current.scrollTo(r)},e}return Xt(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props.activeKey;i!==void 0&&i!==this.state.activeKey&&(this.setState({activeKey:i}),i!==null&&this.scrollTo({key:i}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i,d=this.state,c=d.focused,r=d.flattenNodes,a=d.keyEntities,s=d.draggingNodeKey,l=d.activeKey,f=d.dropLevelOffset,p=d.dropContainerKey,v=d.dropTargetKey,m=d.dropPosition,h=d.dragOverNodeKey,y=d.indent,g=this.props,x=g.prefixCls,b=g.className,C=g.style,E=g.showLine,K=g.focusable,$=g.tabIndex,S=$===void 0?0:$,w=g.selectable,k=g.showIcon,P=g.icon,O=g.switcherIcon,D=g.draggable,T=g.checkable,_=g.checkStrictly,H=g.disabled,z=g.motion,G=g.loadData,U=g.filterTreeNode,J=g.height,W=g.itemHeight,q=g.virtual,ee=g.titleRender,ue=g.dropIndicatorRender,he=g.onContextMenu,Se=g.onScroll,ne=g.direction,se=g.rootClassName,R=g.rootStyle,me=vt(this.props,{aria:!0,data:!0}),V;return D&&(ct(D)==="object"?V=D:typeof D=="function"?V={nodeDraggable:D}:V={}),u.createElement(gt.Provider,{value:{prefixCls:x,selectable:w,showIcon:k,icon:P,switcherIcon:O,draggable:V,draggingNodeKey:s,checkable:T,checkStrictly:_,disabled:H,keyEntities:a,dropLevelOffset:f,dropContainerKey:p,dropTargetKey:v,dropPosition:m,dragOverNodeKey:h,indent:y,direction:ne,dropIndicatorRender:ue,loadData:G,filterTreeNode:U,titleRender:ee,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},u.createElement("div",{role:"tree",className:F(x,b,se,(i={},j(i,"".concat(x,"-show-line"),E),j(i,"".concat(x,"-focused"),c),j(i,"".concat(x,"-active-focused"),l!==null),i)),style:R},u.createElement(xn,I({ref:this.listRef,prefixCls:x,style:C,data:r,disabled:H,selectable:w,checkable:!!T,motion:z,dragging:s!==null,height:J,itemHeight:W,virtual:q,focusable:K,focused:c,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:he,onScroll:Se},this.getTreeNodeRequiredProps(),me))))}}],[{key:"getDerivedStateFromProps",value:function(i,d){var c=d.prevProps,r={prevProps:i};function a(K){return!c&&K in i||c&&c[K]!==i[K]}var s,l=d.fieldNames;if(a("fieldNames")&&(l=Be(i.fieldNames),r.fieldNames=l),a("treeData")?s=i.treeData:a("children")&&(ge(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),s=ln(i.children)),s){r.treeData=s;var f=cn(s,{fieldNames:l});r.keyEntities=L(j({},Ne,yn),f.keyEntities)}var p=r.keyEntities||d.keyEntities;if(a("expandedKeys")||c&&a("autoExpandParent"))r.expandedKeys=i.autoExpandParent||!c&&i.defaultExpandParent?it(i.expandedKeys,p):i.expandedKeys;else if(!c&&i.defaultExpandAll){var v=L({},p);delete v[Ne],r.expandedKeys=Object.keys(v).map(function(K){return v[K].key})}else!c&&i.defaultExpandedKeys&&(r.expandedKeys=i.autoExpandParent||i.defaultExpandParent?it(i.defaultExpandedKeys,p):i.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,s||r.expandedKeys){var m=Qe(s||d.treeData,r.expandedKeys||d.expandedKeys,l);r.flattenNodes=m}if(i.selectable&&(a("selectedKeys")?r.selectedKeys=At(i.selectedKeys,i):!c&&i.defaultSelectedKeys&&(r.selectedKeys=At(i.defaultSelectedKeys,i))),i.checkable){var h;if(a("checkedKeys")?h=et(i.checkedKeys)||{}:!c&&i.defaultCheckedKeys?h=et(i.defaultCheckedKeys)||{}:s&&(h=et(i.checkedKeys)||{checkedKeys:d.checkedKeys,halfCheckedKeys:d.halfCheckedKeys}),h){var y=h,g=y.checkedKeys,x=g===void 0?[]:g,b=y.halfCheckedKeys,C=b===void 0?[]:b;if(!i.checkStrictly){var E=Je(x,!0,p);x=E.checkedKeys,C=E.halfCheckedKeys}r.checkedKeys=x,r.halfCheckedKeys=C}}return a("loadedKeys")&&(r.loadedKeys=i.loadedKeys),r}}]),o}(u.Component);mt.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:kr,allowDrop:function(){return!0},expandAction:!1};mt.TreeNode=ke;const Br=new tn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Wr=(t,n)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${n.motionDurationSlow}`}}}),qr=(t,n)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:n.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${n.lineWidthBold}px solid ${n.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Gr=(t,n)=>{const{treeCls:o,treeNodeCls:e,treeNodePadding:i,treeTitleHeight:d}=n,c=n.paddingXS;return{[o]:Object.assign(Object.assign({},ze(n)),{background:n.colorBgContainer,borderRadius:n.borderRadius,transition:`background-color ${n.motionDurationSlow}`,[`&${o}-rtl`]:{[`${o}-switcher`]:{"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${o}-active-focused)`]:Object.assign({},nt(n)),[`${o}-list-holder-inner`]:{alignItems:"flex-start"},[`&${o}-block-node`]:{[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,border:`1px solid ${n.colorPrimary}`,opacity:0,animationName:Br,animationDuration:n.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${e}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${i}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${o}-node-content-wrapper`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${o}-node-content-wrapper`]:Object.assign({},nt(n)),[`&:not(${e}-disabled).filter-node ${o}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${o}-draggable-icon`]:{flexShrink:0,width:d,lineHeight:`${d}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${n.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${o}-draggable-icon`]:{visibility:"hidden"}}}},[`${o}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:d}},[`${o}-draggable-icon`]:{visibility:"hidden"},[`${o}-switcher`]:Object.assign(Object.assign({},Wr(t,n)),{position:"relative",flex:"none",alignSelf:"stretch",width:d,margin:0,lineHeight:`${d}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:n.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-i,marginInlineStart:-1,borderInlineEnd:`1px solid ${n.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:d/2*.8,height:d/2,borderBottom:`1px solid ${n.colorBorder}`,content:'""'}}}),[`${o}-checkbox`]:{top:"initial",marginInlineEnd:c},[`${o}-node-content-wrapper, ${o}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:d,margin:0,padding:`0 ${n.paddingXS/2}px`,color:"inherit",lineHeight:`${d}px`,background:"transparent",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:n.controlItemBgHover},[`&${o}-node-selected`]:{backgroundColor:n.controlItemBgActive},[`${o}-iconEle`]:{display:"inline-block",width:d,height:d,lineHeight:`${d}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${o}-unselectable ${o}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}-node-content-wrapper`]:Object.assign({lineHeight:`${d}px`,userSelect:"none"},qr(t,n)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${n.colorPrimary}`}},"&-show-line":{[`${o}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:d/2,bottom:-i,borderInlineEnd:`1px solid ${n.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${o}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${o}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${d/2}px !important`}}}}})}},Vr=t=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:e}=t;return{[`${n}${n}-directory`]:{[o]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${t.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:t.controlItemBgHover}},"> *":{zIndex:1},[`${n}-switcher`]:{transition:`color ${t.motionDurationMid}`},[`${n}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${n}-node-selected`]:{color:t.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:t.colorPrimary},[`${n}-switcher`]:{color:t.colorTextLightSolid},[`${n}-node-content-wrapper`]:{color:t.colorTextLightSolid,background:"transparent"}}}}}},Xr=(t,n)=>{const o=`.${t}`,e=`${o}-treenode`,i=n.paddingXS/2,d=n.controlHeightSM,c=pt(n,{treeCls:o,treeNodeCls:e,treeNodePadding:i,treeTitleHeight:d});return[Gr(t,c),Vr(c)]},Yr=on("Tree",(t,n)=>{let{prefixCls:o}=n;return[{[t.componentCls]:ko(`${o}-checkbox`,t)},Xr(o,t),yo(t)]}),jt=4;function Zr(t){const{dropPosition:n,dropLevelOffset:o,prefixCls:e,indent:i,direction:d="ltr"}=t,c=d==="ltr"?"left":"right",r=d==="ltr"?"right":"left",a={[c]:-o*i+jt,[r]:0};switch(n){case-1:a.top=-3;break;case 1:a.bottom=-3;break;default:a.bottom=-3,a[c]=i+jt;break}return be.createElement("div",{style:a,className:`${e}-drop-indicator`})}const Jr=t=>{const{prefixCls:n,switcherIcon:o,treeNodeProps:e,showLine:i}=t,{isLeaf:d,expanded:c,loading:r}=e;if(r)return u.createElement(io,{className:`${n}-switcher-loading-icon`});let a;if(i&&typeof i=="object"&&(a=i.showLeafIcon),d){if(!i)return null;if(typeof a!="boolean"&&a){const f=typeof a=="function"?a(e):a,p=`${n}-switcher-line-custom-icon`;return Ct(f)?Et(f,{className:F(f.props.className||"",p)}):f}return a?u.createElement(gn,{className:`${n}-switcher-line-icon`}):u.createElement("span",{className:`${n}-switcher-leaf-line`})}const s=`${n}-switcher-icon`,l=typeof o=="function"?o(e):o;return Ct(l)?Et(l,{className:F(l.props.className||"",s)}):l!==void 0?l:i?c?u.createElement(Er,{className:`${n}-switcher-line-icon`}):u.createElement(Kr,{className:`${n}-switcher-line-icon`}):u.createElement(zo,{className:s})},Qr=Jr,ea=be.forwardRef((t,n)=>{const{getPrefixCls:o,direction:e,virtual:i}=be.useContext(qe),{prefixCls:d,className:c,showIcon:r=!1,showLine:a,switcherIcon:s,blockNode:l=!1,children:f,checkable:p=!1,selectable:v=!0,draggable:m,motion:h}=t,y=o("tree",d),g=o(),x=h??Object.assign(Object.assign({},to(g)),{motionAppear:!1}),b=Object.assign(Object.assign({},t),{checkable:p,selectable:v,showIcon:r,motion:x,blockNode:l,showLine:!!a,dropIndicatorRender:Zr}),[C,E]=Yr(y),K=be.useMemo(()=>{if(!m)return!1;let S={};switch(typeof m){case"function":S.nodeDraggable=m;break;case"object":S=Object.assign({},m);break}return S.icon!==!1&&(S.icon=S.icon||be.createElement(cr,null)),S},[m]),$=S=>be.createElement(Qr,{prefixCls:y,switcherIcon:s,treeNodeProps:S,showLine:a});return C(be.createElement(mt,Object.assign({itemHeight:20,ref:n,virtual:i},b,{prefixCls:y,className:F({[`${y}-icon-hide`]:!r,[`${y}-block-node`]:l,[`${y}-unselectable`]:!v,[`${y}-rtl`]:e==="rtl"},c,E),direction:e,checkable:p&&be.createElement("span",{className:`${y}-checkbox-inner`}),selectable:v,switcherIcon:$,draggable:K}),f))}),bn=ea;var pe;(function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"})(pe||(pe={}));function yt(t,n){function o(e){const{key:i,children:d}=e;n(i,e)!==!1&&yt(d||[],n)}t.forEach(o)}function ta(t){let{treeData:n,expandedKeys:o,startKey:e,endKey:i}=t;const d=[];let c=pe.None;if(e&&e===i)return[e];if(!e||!i)return[];function r(a){return a===e||a===i}return yt(n,a=>{if(c===pe.End)return!1;if(r(a)){if(d.push(a),c===pe.None)c=pe.Start;else if(c===pe.Start)return c=pe.End,!1}else c===pe.Start&&d.push(a);return o.includes(a)}),d}function tt(t,n){const o=ce(n),e=[];return yt(t,(i,d)=>{const c=o.indexOf(i);return c!==-1&&(e.push(d),o.splice(c,1)),!!o.length}),e}var _t=globalThis&&globalThis.__rest||function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)n.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(o[e[i]]=t[e[i]]);return o};function na(t){const{isLeaf:n,expanded:o}=t;return n?u.createElement(gn,null):o?u.createElement(nr,null):u.createElement(ir,null)}function Ht(t){let{treeData:n,children:o}=t;return n||ln(o)}const oa=(t,n)=>{var{defaultExpandAll:o,defaultExpandParent:e,defaultExpandedKeys:i}=t,d=_t(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const c=u.useRef(),r=u.useRef(),a=()=>{const{keyEntities:S}=cn(Ht(d));let w;return o?w=Object.keys(S):e?w=it(d.expandedKeys||i||[],S):w=d.expandedKeys||i,w},[s,l]=u.useState(d.selectedKeys||d.defaultSelectedKeys||[]),[f,p]=u.useState(()=>a());u.useEffect(()=>{"selectedKeys"in d&&l(d.selectedKeys)},[d.selectedKeys]),u.useEffect(()=>{"expandedKeys"in d&&p(d.expandedKeys)},[d.expandedKeys]);const v=(S,w)=>{var k;return"expandedKeys"in d||p(S),(k=d.onExpand)===null||k===void 0?void 0:k.call(d,S,w)},m=(S,w)=>{var k;const{multiple:P}=d,{node:O,nativeEvent:D}=w,{key:T=""}=O,_=Ht(d),H=Object.assign(Object.assign({},w),{selected:!0}),z=D?.ctrlKey||D?.metaKey,G=D?.shiftKey;let U;P&&z?(U=S,c.current=T,r.current=U,H.selectedNodes=tt(_,U)):P&&G?(U=Array.from(new Set([].concat(ce(r.current||[]),ce(ta({treeData:_,expandedKeys:f,startKey:T,endKey:c.current}))))),H.selectedNodes=tt(_,U)):(U=[T],c.current=T,r.current=U,H.selectedNodes=tt(_,U)),(k=d.onSelect)===null||k===void 0||k.call(d,U,H),"selectedKeys"in d||l(U)},{getPrefixCls:h,direction:y}=u.useContext(qe),{prefixCls:g,className:x,showIcon:b=!0,expandAction:C="click"}=d,E=_t(d,["prefixCls","className","showIcon","expandAction"]),K=h("tree",g),$=F(`${K}-directory`,{[`${K}-directory-rtl`]:y==="rtl"},x);return u.createElement(bn,Object.assign({icon:na,ref:n,blockNode:!0},E,{showIcon:b,expandAction:C,prefixCls:K,className:$,expandedKeys:f,selectedKeys:s,onSelect:m,onExpand:v}))},ra=u.forwardRef(oa),aa=ra,xt=bn;xt.DirectoryTree=aa;xt.TreeNode=ke;const ia=xt;function sa(t,n,o){var e=t.length;return o=o===void 0?e:o,!n&&o>=e?t:po(t,n,o)}var da="\\ud800-\\udfff",la="\\u0300-\\u036f",ca="\\ufe20-\\ufe2f",ua="\\u20d0-\\u20ff",fa=la+ca+ua,pa="\\ufe0e\\ufe0f",va="\\u200d",ga=RegExp("["+va+da+fa+pa+"]");function Cn(t){return ga.test(t)}function ha(t){return t.split("")}var En="\\ud800-\\udfff",ma="\\u0300-\\u036f",ya="\\ufe20-\\ufe2f",xa="\\u20d0-\\u20ff",ba=ma+ya+xa,Ca="\\ufe0e\\ufe0f",Ea="["+En+"]",st="["+ba+"]",dt="\\ud83c[\\udffb-\\udfff]",Sa="(?:"+st+"|"+dt+")",Sn="[^"+En+"]",wn="(?:\\ud83c[\\udde6-\\uddff]){2}",Nn="[\\ud800-\\udbff][\\udc00-\\udfff]",wa="\\u200d",Kn=Sa+"?",kn="["+Ca+"]?",Na="(?:"+wa+"(?:"+[Sn,wn,Nn].join("|")+")"+kn+Kn+")*",Ka=kn+Kn+Na,ka="(?:"+[Sn+st+"?",st,wn,Nn,Ea].join("|")+")",$a=RegExp(dt+"(?="+dt+")|"+ka+Ka,"g");function Da(t){return t.match($a)||[]}function Oa(t){return Cn(t)?Da(t):ha(t)}function Ma(t){return function(n){n=Ve(n);var o=Cn(n)?Oa(n):void 0,e=o?o[0]:n.charAt(0),i=o?sa(o,1).join(""):n.slice(1);return e[t]()+i}}var Pa=Ma("toUpperCase");const Ta=Pa;function La(t){return Ta(Ve(t).toLowerCase())}function Ia(t,n,o,e){var i=-1,d=t==null?0:t.length;for(e&&d&&(o=t[++i]);++i<d;)o=n(o,t[i],i,t);return o}function Ra(t){return function(n){return t?.[n]}}var Aa={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ja=Ra(Aa);const _a=ja;var Ha=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,za="\\u0300-\\u036f",Fa="\\ufe20-\\ufe2f",Ua="\\u20d0-\\u20ff",Ba=za+Fa+Ua,Wa="["+Ba+"]",qa=RegExp(Wa,"g");function Ga(t){return t=Ve(t),t&&t.replace(Ha,_a).replace(qa,"")}var Va=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Xa(t){return t.match(Va)||[]}var Ya=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Za(t){return Ya.test(t)}var $n="\\ud800-\\udfff",Ja="\\u0300-\\u036f",Qa="\\ufe20-\\ufe2f",ei="\\u20d0-\\u20ff",ti=Ja+Qa+ei,Dn="\\u2700-\\u27bf",On="a-z\\xdf-\\xf6\\xf8-\\xff",ni="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ri="\\u2000-\\u206f",ai=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mn="A-Z\\xc0-\\xd6\\xd8-\\xde",ii="\\ufe0e\\ufe0f",Pn=ni+oi+ri+ai,Tn="['’]",zt="["+Pn+"]",si="["+ti+"]",Ln="\\d+",di="["+Dn+"]",In="["+On+"]",Rn="[^"+$n+Pn+Ln+Dn+On+Mn+"]",li="\\ud83c[\\udffb-\\udfff]",ci="(?:"+si+"|"+li+")",ui="[^"+$n+"]",An="(?:\\ud83c[\\udde6-\\uddff]){2}",jn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ke="["+Mn+"]",fi="\\u200d",Ft="(?:"+In+"|"+Rn+")",pi="(?:"+Ke+"|"+Rn+")",Ut="(?:"+Tn+"(?:d|ll|m|re|s|t|ve))?",Bt="(?:"+Tn+"(?:D|LL|M|RE|S|T|VE))?",_n=ci+"?",Hn="["+ii+"]?",vi="(?:"+fi+"(?:"+[ui,An,jn].join("|")+")"+Hn+_n+")*",gi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mi=Hn+_n+vi,yi="(?:"+[di,An,jn].join("|")+")"+mi,xi=RegExp([Ke+"?"+In+"+"+Ut+"(?="+[zt,Ke,"$"].join("|")+")",pi+"+"+Bt+"(?="+[zt,Ke+Ft,"$"].join("|")+")",Ke+"?"+Ft+"+"+Ut,Ke+"+"+Bt,hi,gi,Ln,yi].join("|"),"g");function bi(t){return t.match(xi)||[]}function Ci(t,n,o){return t=Ve(t),n=o?void 0:n,n===void 0?Za(t)?bi(t):Xa(t):t.match(n)||[]}var Ei="['’]",Si=RegExp(Ei,"g");function zn(t){return function(n){return Ia(Ci(Ga(n).replace(Si,"")),t,"")}}var wi=zn(function(t,n,o){return n=n.toLowerCase(),t+(o?La(n):n)});const lt=wi;function He(t,n){return no(t,n)}var Ni=zn(function(t,n,o){return t+(o?"-":"")+n.toLowerCase()});const Ki=Ni;function ki(t){const{elementType:n,tag:o}=t;switch(o){case 0:case 1:return n.displayName||n.name||"Anonymous Component";case 5:return n;case 6:return"String";case 7:return"React.Fragment";case 9:return"Context.Consumer";case 10:return"Context.Provider";case 11:return"React.forwardRef";case 15:return n.type.name||"React.memo";case 16:return"React.lazy";default:return console.warn(`Unrecognized React Fiber tag: ${o}`,t),"Unknown Component"}}function $i(t){const{columnNumber:n=1,fileName:o,lineNumber:e=1}=t;return`${o}:${e}:${n}`}function Di(t){const n={};return Object.entries(t.memoizedProps).forEach(([o,e])=>{const i=typeof e;["key"].includes(o)||e===t.type.defaultProps?.[o]||(["string","number","boolean","symbol"].includes(i)||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Symbol)&&(n[o]=e)}),n}function Oi(t){if(t){if("__REACT_DEVTOOLS_GLOBAL_HOOK__"in window){const{renderers:n}=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;for(const o of n.values())try{const e=o.findFiberByHostInstance(t);if(e)return e}catch{}}if("_reactRootContainer"in t)return t._reactRootContainer._internalRoot.current.child;for(const n in t)if(n.startsWith("__reactInternalInstance$")||n.startsWith("__reactFiber"))return t[n]}}function Mi(t){const n=new Set;let o=Oi(t);for(;o;)n.add(o),o=o._debugOwner;return Array.from(n)}function Wt(t){const{_debugSource:n}=t;if(!n)return;const{columnNumber:o=1,fileName:e,lineNumber:i=1}=n;return{columnNumber:o,fileName:e,lineNumber:i}}function Fn(t){if(!t)return;const{stateNode:n}=t;return n instanceof HTMLElement?n:Fn(t?.child)}const Ee=t=>{const n=lt(t),o=`[data-${Ki(t)}]`,e=document.querySelectorAll(o);for(const i of Array.from(e))i instanceof HTMLElement&&delete i.dataset[n]},Un=(t,n)=>{if(t&&t instanceof HTMLElement)return t.classList.contains(n)?t:Un(t.parentElement,n)},Bn=t=>{if(!t||!(t instanceof HTMLElement))return;const n=window.getComputedStyle(t);return["auto","unset","inherit","initial","revert"].includes(n.zIndex)||(t.dataset.metMontagePreviewFixed="auto"),Bn(t.parentElement)};function Wn(t){return!t||!(t instanceof HTMLElement)?!1:t?.dataset?.metMontageIgnore||t.classList.contains("met-montage-ignore")?!0:Wn(t?.parentElement)}const Pi=t=>{const[n,o]=Xe(Zt),e=ae(ut),i=ae(Ge),d=[{pt:13,h:"auto",w:"100%",inline:!0,flexWrap:"wrap",placement:"top"},{h:46,w:"100%",inline:!1,flexWrap:"nowrap",placement:"left"}],c=()=>{Ee("met-montage-preview"),Ee("met-montage-preview-fixed"),i(X.IDLE),e(!1)};return N.jsx(Pe,{gap:8,...d[+n.openAside],children:N.jsxs(Y,{tag:u.Fragment,color:"rgb(171, 171, 171)",fs:20,cursor:"pointer",children:[N.jsx(nn,{onClick:c}),!n.openAside&&N.jsx(vr,{onClick:()=>o({openAside:!0})}),n.openAside&&N.jsx(yr,{onClick:()=>o({openAside:!1})})]})})},{DirectoryTree:Ti}=ia,Li=t=>{const n=Le(Jt),[o,e]=Xe(Qt),{source:i}=o,d=ae(ft),c=ae(en),r=Le(qn),a=St(oo(n,"pathname"),(f,p)=>{const v=St(f,m=>{const h=N.jsxs(Ue,{inline:!0,children:[N.jsx(Y,{fs:15,children:m.name}),N.jsx(Y,{fw:200,children:m.relative})]});return{key:m.key,title:h,isLeaf:!0,item:m}});return{key:p,title:N.jsx(Y,{fs:15,inline:!0,children:p}),children:v}},[]),s=f=>{const{closestElement:p,source:v,closestElementSelector:m}=f,h=document.querySelector(`.${rt["montage-editor-intances-tree"]}`),y="met-montage-preview";if(Ee(y),Ee("met-montage-preview-fixed"),!p)return;p.dataset[lt(y)]=v.fileName;let g=p;document.querySelector(`[data-${y}]`)||(g=document.querySelector(m),g.dataset[lt(y)]=v.fileName);const b=(Un(h,"ant-tree-treenode")??h).getBoundingClientRect(),{width:C,height:E}=g.getBoundingClientRect();c(`
            left: calc((${b.left}px - ${C}px) / 2);
            top: calc((100% - ${E}px) / 2);
        `),Bn(g?.parentElement)},l=(f,p)=>{const{item:v}=p.node;if(rn(v))return;e(v);const{source:m}=v;d(m.fileName)};return u.useEffect(()=>{setTimeout(()=>{s(o)},200)},[o.closestElementSelector,r]),N.jsx(Ti,{treeData:a,showLine:!0,selectedKeys:[`${i.fileName}:${i.lineNumber}:${i.columnNumber}`],className:rt["montage-editor-intances-tree"],onSelect:l,defaultExpandAll:!0,blockNode:!0})},Ii=t=>{const[n,o]=Xe(ut),e=Le(Zt),i=Le(ft),d=ae(Ge),c=Gn(),r=u.useRef(),[a,s]=u.useState(),l=()=>{Ee("met-montage-preview"),Ee("met-montage-preview-fixed"),o(!1),d(X.IDLE)};return N.jsx(vn,{width:e.width,open:n,closable:!1,className:rt["montage-editor-drawer"],onClose:l,...t,"data-met-montage-ignore":!0,children:N.jsxs(Pe,{bg:"#1e1e1e",h:"100%",children:[N.jsxs(Y,{w:e.openAside?e.asideWidth:48,bdr:"rgb(71, 71, 71)",pl:8,pr:8,gap:16,transition:"all .3s",ref:r,children:[N.jsx(Pi,{}),e.openAside&&N.jsx(Li,{aaa:a})]}),N.jsxs(Ue,{flex:1,pl:16,scroll:!1,children:[N.jsx(Y,{h:46,children:N.jsx(u.Suspense,{children:N.jsx(Vn,{})})}),N.jsx(Y,{flex:1,children:N.jsx(so,{save:c,filePath:i,"data-met-montage-ignore":!0})})]})]})})},Ri=(t,n)=>[...t.classList??[]].map(o=>`.${o}`).join(""),Ai=(t,n)=>t.parentElement?`> :nth-child(${[...t.parentElement.children].findIndex(e=>e===t)+1})`:t.tagName,ji=(t,n)=>{const o=Ri(t),e=Ai(t);return t.tagName==="body"?"body":o&&n.querySelectorAll(o).length===1?o:e},_i=t=>{const n=[];let o=t;for(;o;){const e=ji(o,t.ownerDocument);n.push(e);const i=n.toReversed().join(" ");if(!/^\>/.test(i)&&document.querySelectorAll(i).length||o.tagName==="body")break;o=o.parentElement}return n.toReversed().join(" ")},Hi=({propKeys:t=[],props:n={}})=>N.jsx(N.Fragment,{children:t.map(o=>N.jsx(Y,{tag:"var",bg:"rgba(0 0 0 / 5%)",p:"0 4px",br:4,children:N.jsx(Yn,{title:n[o],children:o})},o))}),zi=(t,n)=>Mi(t).filter(o=>Wt(o)).map((o,e)=>{const i=o,d=ki(i),c=Wt(i),r=$i(c),a=Di(i),s=Object.keys(a),l=Fn(i)??t,f=_i(l),p=r.replace(/.*src(.*)$/,"@$1");return{key:r,relative:p,name:d,source:c,path:r,props:a,propKeys:s,closestElement:l,pathname:n,closestElementSelector:f}}),Fi=t=>{const{target:n,editor:o}=t,{pathname:e}=an(),i=ae(Ge);ae(Xn);const d=ae(ut),c=ae(ft),r=ae(Jt),a=ae(Qt),s=zi(n,e),l=v=>{const m=`${o}://file${v}`;window.open(m)},f=(v,m)=>{const h=document.querySelectorAll("[data-met-montage-target]");for(const g of Array.from(h))g instanceof HTMLElement&&delete g.dataset.metMontageTarget;v instanceof HTMLElement&&(v.dataset.metMontageTarget=X.CONTEXT_MENU);const y=m.target;ro(y.parentElement.querySelector(".hover"),g=>{g.classList.remove("hover")})},p=v=>{i(X.MONTAGE_EDITOR),setTimeout(()=>{d(!0),r(s),a(v),c(v?.source.fileName)},10)};return rn(s)?N.jsx(wt,{w:300,children:N.jsx(Nt,{description:"",image:Nt.PRESENTED_IMAGE_SIMPLE})}):N.jsxs(Ue,{br:8,gap:4,p:4,"data-montage-instance-list":!0,children:[Yt`
                <style key="montage-instance-list">
                    [data-montage-instance-list] > section.hover,
                    [data-montage-instance-list] > section:hover {
                        background: royalblue;
                        border-radius: 8px;
                        cursor: pointer;
                    }

                    [data-montage-instance-list] > section.hover code,
                    [data-montage-instance-list] > section:hover code {
                        color: #fff !important;
                    }

                    [data-montage-instance-list] > section.hover [data-montage-path],
                    [data-montage-instance-list] > section:hover [data-montage-path] {
                        color: rgba(255, 255, 255, 0.6) !important;
                    }

                    [data-montage-instance-list] code {
                        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
                            'Courier New', monospace;
                    }

                    [data-montage-instance-list] code var {
                        background: rgba(0 0 0 / 5%);
                        cursor: help;
                        border-radius: 3px;
                        padding: 3px 6px;
                        font-style: normal;
                        font-weight: normal;
                        font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                            'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
                            'Segoe UI Symbol', 'Noto Color Emoji';
                    }
                </style>
            `,s.map((v,m)=>{const{name:h,source:y,path:g,props:x,propKeys:b,closestElement:C}=v;return N.jsxs(Pe,{gap:16,padding:"8px 12px",className:m?"":"hover",onMouseOver:E=>{f(C,E)},children:[N.jsx(wt,{gap:8,children:N.jsxs(Y,{tag:u.Fragment,fs:22,color:"#cecece",children:[N.jsx(Y,{tag:Wo,onClick:()=>p(v)}),N.jsx(Y,{tag:Xo,onClick:()=>l(g)})]})}),N.jsxs(Ue,{gap:2,flex:1,children:[N.jsxs(Pe,{tag:"code",gap:8,color:"royalblue",placement:"left",children:[N.jsxs(Y,{fontWeight:500,children:["<",h]}),N.jsx(Hi,{propKeys:b,props:x}),N.jsx(Y,{children:"/>"})]}),N.jsxs(Pe,{placement:"betweenMiddle",gap:16,color:"#aaa",children:[N.jsx(Y,{children:y.fileName.replace(/.*(src|pages)/,"$1")}),N.jsxs(Y,{fs:"small",children:[y.lineNumber,":",y.columnNumber]})]})]})]},g)})]})},Ui=t=>{const{open:n,target:o,editor:e,inset:i={},onOpenChange:d}=t;return N.jsx(lo,{open:n,arrow:!1,content:N.jsx(Fi,{target:o,editor:e}),placement:"rightTop",overlayInnerStyle:{padding:0},destroyTooltipOnHide:!0,onOpenChange:d,rootClassName:"met-montage-ignore","data-met-montage-ignore":!0,children:N.jsx(Y,{w:1,h:1,bg:"transparent",position:"absolute",...i})})},xe=new Map,Bi=t=>{const{editor:n}=t,[o,e]=u.useState(),[i,d]=u.useState({}),[c,r]=Xe(Ge),a=Le(en),s=window.document.body,l=u.useCallback(h=>{const{altKey:y}=h;if(y&&s.dataset.metMontage!==X.MONTAGE_EDITOR){const g=c===X.SELECT?X.IDLE:X.SELECT;r(g)}},[c]),f=u.useCallback(h=>{const{target:y}=h;y instanceof HTMLElement&&c===X.SELECT&&!Wn(y)&&e(y)},[c]),p=u.useCallback(h=>{const{target:y,pageX:g,pageY:x,clientY:b}=h;s.dataset.metMontage===X.SELECT&&y instanceof HTMLElement&&(h.preventDefault(),s.dataset.metMontage===X.SELECT&&(r(X.CONTEXT_MENU),d({left:g,top:b-30}),e(y)))},[c]);u.useEffect(()=>{if(Ee("met-montage-target"),X.IDLE===c){delete s.dataset.metMontage;return}s.dataset.metMontage=c,X.MONTAGE_EDITOR!==c&&o instanceof HTMLElement&&(o.dataset.metMontageTarget=c)},[c,o]);const v=h=>{r(X.SELECT)},m=()=>{Ee("met-montage-preview"),Me(xe.get("keydown"),h=>{window.removeEventListener("keydown",h,{capture:!0})}),Me(xe.get("mousemove"),h=>{window.removeEventListener("mousemove",h)}),Me(xe.get("click"),h=>{window.removeEventListener("click",h,{capture:!0})}),Me(xe.get("contextmenu"),h=>{window.removeEventListener("contextmenu",h,{capture:!0})}),Me(xe.get("keyup"),h=>{window.removeEventListener("keyup",h)})};return u.useEffect(function(){return window.addEventListener("contextmenu",p,{capture:!0}),window.addEventListener("keydown",l,{capture:!0}),window.addEventListener("mousemove",f),xe.set("keydown",l),xe.set("mousemove",f),xe.set("contextmenu",p),m},[l,f,p]),Yt`
        <style key="click-to-component-style">
            [data-met-montage] {
                cursor: var(--click-to-component-cursor, context-menu) !important;

                * {
                    pointer-events: auto !important;
                }
            }

            [data-met-montage] [data-met-montage-target] {
                outline: 3px solid red;
                outline-offset: -4px;
                outline-style: dotted;
                transition: all 0.2s ease-in-out;
            }

            [data-met-montage-preview] {
                position: fixed !important;
                outline: 3px solid #1677ff;
                outline-offset: -4px;
                outline-style: dotted;
                transition: all 0.2s ease-in-out;
                background: #fff;
                z-index: 9000;
            }

            [data-met-montage-preview] {
                ${a}
            }

            [data-met-montage-preview-fixed] {
                z-index: auto !important;
            }
        </style>

        <!-- Montage 右键菜单 -->
        <${Ui}
            key="context-menu"
            open=${c===X.CONTEXT_MENU}
            inset=${i}
            target=${o}
            editor=${n}
            onOpenChange=${v}
        />

        <!-- Montage 编辑器 -->
        <${Ii} key="montage-editor" />
    `},Wi=t=>N.jsxs(N.Fragment,{children:[N.jsx(Bi,{editor:"vscode"}),N.jsx(uo,{})]}),qi=t=>Vi()?N.jsx(N.Fragment,{children:t.children}):null,Gi=()=>co(({set:t,snapshot:n})=>(o,e,i,d)=>{const c=n.getNodes_UNSTABLE();for(const r of c){const a=r.key;if(a.startsWith("urlSync::")){const{contents:s}=n.getLoadable(r);switch(!0){case a.startsWith("urlSync::query"):{const l={...o};!He(s,l)&&t(r,l);break}case a.startsWith("urlSync::params"):{const l={...e};!He(s,l)&&t(r,l);break}case a.startsWith("urlSync::mix"):{const l={...e,...o};!He(s,l)&&t(r,l);break}default:{const l={query:o,params:e,meta:i,state:d};!He(s,l)&&t(r,l)}}}}return!0}),Vi=()=>{const t=Gi(),[n]=vo(),[o]=go(),{meta:e}=ho(),{state:i}=an(),[d,c]=u.useState(!1);return u.useEffect(()=>{c(t(n,o,e,i))},[n,o,e,i]),d},ms=function(){return N.jsx(qi,{children:N.jsx(Wi,{})})};export{ms as Component};
