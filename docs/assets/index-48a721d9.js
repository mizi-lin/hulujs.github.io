import{j as jsxRuntimeExports}from"./jsx-runtime-eab19201.js";import{a as Recoil_index,b as Recoil_index_8,R as Recoil_index_9,c as Recoil_index_22,d as Recoil_index_20}from"./recoil-683f5e9e.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs,a as react}from"./react-c9cfb105.js";import"./app-17122a22.js";import{u as urlSyncAtom,m as mixURLSyncState}from"./normal-f21da9bc.js";import{c as each,r as run,m as map$3,d as isNil}from"./is-react-element-31658998.js";import{f as format}from"./montage-editor-files-tabs-054deba3.js";import"./root-17bd990c.js";import{u as useRoute,a as useParams$1}from"./use-route-56ee3bc5.js";import"./no-match-23cbf0bb.js";import"./no-permission-b2d333ee.js";import{u as useNavigate$1,a as useLocation,b as useParams,g as generatePath,O as Outlet}from"./react-router-dom-95ce7bcb.js";import{u as useQuery}from"./use-query-1ff30ea4.js";import"./react-dom-26dc6dd6.js";import"./index-91c92bc7.js";import"./_isIterateeCall-898c5566.js";const CURRENT_URL_SIGN="-",CURRENT_ROUTE_SIGNS=[".","./"],MODAL_REGEX=/~[^/]/g,getToURL=(t,e,n=!1)=>{const{pathname:r,search:o}=e;return CURRENT_URL_SIGN===t?`${r}${o}`:n?`${t}${o}`:t},getNavigate=(t,e,{srcParams:n,location:r,route:o})=>{const{params:i={},query:c={},...s}=e,u=MODAL_REGEX.test(t);if(typeof t!="string")return{lastTo:t,navigateOptions:e};let[g,l]=getToURL(t,r,u).split(/[?#]/);const p=new URLSearchParams(l);each(c,(m,$)=>{p.set($,m)}),run(i,()=>{const m=[CURRENT_URL_SIGN,...CURRENT_ROUTE_SIGNS].includes(t)?o.path:g,$=map$3({...n??{},...i},y=>isNil(y)?"::break":y.toString());g=generatePath(m,$)});const h=p.toString();return u&&(s.state={...s?.state??{},modalBgLocation:r}),{lastTo:format("{pathname}{?:lastSearch}",{pathname:g,lastSearch:h},""),navigateOptions:s}},useNavigate=(t={})=>{const e=useNavigate$1(),n=useLocation(),r=useParams(),{route:o}=useRoute();return(i,c={})=>{const{lastTo:s,navigateOptions:u}=getNavigate(i,{...c,...t},{srcParams:r,location:n,route:o});e(s,u)}};function err$1(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var err_1$1=err$1,Recoil_err$1=err_1$1;function raiseError$1(t,e){if(e!=null){const n=e.path.toString(),r=e.message;throw Recoil_err$1(`[refine.js (path=${n}, message=${r})]: ${t}`)}throw Recoil_err$1(`[refine.js (null result)]: ${t}`)}function assertion$4(t,e="assertion error"){return n=>{const r=t(n);return r.type==="success"?r.value:raiseError$1(e,r)}}function coercion$2(t,e){return n=>{const r=t(n);return e?.(r),r.type==="success"?r.value:null}}var Refine_API$1={assertion:assertion$4,coercion:coercion$2};function _defineProperty$1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}let Path$5=class C{constructor(e=null,n="<root>"){_defineProperty$1(this,"parent",void 0),_defineProperty$1(this,"field",void 0),this.parent=e,this.field=n}extend(e){return new C(this,e)}toString(){const e=[];let n=this;for(;n!=null;){const{field:r,parent:o}=n;e.push(r),n=o}return e.reverse().join("")}};function success$4(t,e){return{type:"success",value:t,warnings:e}}function failure$4(t,e){return{type:"failure",message:t,path:e}}function compose$4(t,e){return(n,r=new Path$5)=>{const o=t(n,r);return o.type==="failure"?o:e(o,r)}}var Refine_Checkers$2={Path:Path$5,success:success$4,failure:failure$4,compose:compose$4},Refine_Checkers_1$1=Refine_Checkers$2.Path,Refine_Checkers_2$1=Refine_Checkers$2.success,Refine_Checkers_3$1=Refine_Checkers$2.failure,Refine_Checkers_4$1=Refine_Checkers$2.compose,Refine_Checkers$1$1=Object.freeze({__proto__:null,Path:Refine_Checkers_1$1,success:Refine_Checkers_2$1,failure:Refine_Checkers_3$1,compose:Refine_Checkers_4$1});const{Path:Path$1$1,compose:compose$1$1,failure:failure$1$1,success:success$1$1}=Refine_Checkers$1$1;function isPlainObject$1(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function array$2(t){return(e,n=new Path$1$1)=>{if(!Array.isArray(e))return failure$1$1("value is not an array",n);const r=e.length,o=new Array(r),i=[];for(let c=0;c<r;c++){const s=e[c],u=t(s,n.extend(`[${c}]`));if(u.type==="failure")return failure$1$1(u.message,u.path);o[c]=u.value,u.warnings.length!==0&&i.push(...u.warnings)}return success$1$1(o,i)}}function tuple$2(...t){return(e,n=new Path$1$1)=>{if(!Array.isArray(e))return failure$1$1("value is not an array",n);const r=new Array(t.length),o=[];for(const[i,c]of t.entries()){const s=c(e[i],n.extend(`[${i}]`));if(s.type==="failure")return failure$1$1(s.message,s.path);r[i]=s.value,s.warnings.length!==0&&o.push(...s.warnings)}return success$1$1(r,o)}}function dict$2(t){return(e,n=new Path$1$1)=>{if(typeof e!="object"||e===null||!isPlainObject$1(e))return failure$1$1("value is not an object",n);const r={},o=[];for(const[i,c]of Object.entries(e)){const s=t(c,n.extend(`.${i}`));if(s.type==="failure")return failure$1$1(s.message,s.path);r[i]=s.value,s.warnings.length!==0&&o.push(...s.warnings)}return success$1$1(r,o)}}let OptionalProperty$1=class{constructor(e){_defineProperty$1(this,"checker",void 0),this.checker=e}};function optional$2(t){return new OptionalProperty$1((e,n=new Path$1$1)=>{const r=t(e,n);return r.type==="failure"?{...r,message:"(optional property) "+r.message}:r})}function object$2(t){const e=Object.keys(t);return(n,r=new Path$1$1)=>{if(typeof n!="object"||n===null||!isPlainObject$1(n))return failure$1$1("value is not an object",r);const o={},i=[];for(const c of e){const s=t[c];let u,g;if(s instanceof OptionalProperty$1){if(u=s.checker,!n.hasOwnProperty(c))continue;g=n[c]}else u=s,g=n.hasOwnProperty(c)?n[c]:void 0;const l=u(g,r.extend(`.${c}`));if(l.type==="failure")return failure$1$1(l.message,l.path);o[c]=l.value,l.warnings.length!==0&&i.push(...l.warnings)}return success$1$1(o,i)}}function set$2(t){return(e,n=new Path$1$1)=>{if(!(e instanceof Set))return failure$1$1("value is not a Set",n);const r=new Set,o=[];for(const i of e){const c=t(i,n.extend("[]"));if(c.type==="failure")return failure$1$1(c.message,c.path);r.add(c.value),c.warnings.length&&o.push(...c.warnings)}return success$1$1(r,o)}}function map$2(t,e){return(n,r=new Path$1$1)=>{if(!(n instanceof Map))return failure$1$1("value is not a Map",r);const o=new Map,i=[];for(const[c,s]of n.entries()){const u=t(c,r.extend(`[${c}] key`));if(u.type==="failure")return failure$1$1(u.message,u.path);const g=e(s,r.extend(`[${c}]`));if(g.type==="failure")return failure$1$1(g.message,g.path);o.set(c,s),i.push(...u.warnings,...g.warnings)}return success$1$1(o,i)}}function writableArray$2(t){return compose$1$1(array$2(t),({value:e,warnings:n})=>success$1$1([...e],n))}function writableDict$3(t){return compose$1$1(dict$2(t),({value:e,warnings:n})=>success$1$1({...e},n))}function writableObject$2(t){return compose$1$1(object$2(t),({value:e,warnings:n})=>success$1$1({...e},n))}var Refine_ContainerCheckers$2={array:array$2,tuple:tuple$2,object:object$2,optional:optional$2,dict:dict$2,set:set$2,map:map$2,writableArray:writableArray$2,writableDict:writableDict$3,writableObject:writableObject$2},Refine_ContainerCheckers_1$1=Refine_ContainerCheckers$2.array,Refine_ContainerCheckers_2$1=Refine_ContainerCheckers$2.tuple,Refine_ContainerCheckers_3$1=Refine_ContainerCheckers$2.object,Refine_ContainerCheckers_4$1=Refine_ContainerCheckers$2.optional,Refine_ContainerCheckers_5$1=Refine_ContainerCheckers$2.dict,Refine_ContainerCheckers_6$1=Refine_ContainerCheckers$2.set,Refine_ContainerCheckers_7$1=Refine_ContainerCheckers$2.map,Refine_ContainerCheckers_8$1=Refine_ContainerCheckers$2.writableArray,Refine_ContainerCheckers_9$1=Refine_ContainerCheckers$2.writableDict,Refine_ContainerCheckers_10$1=Refine_ContainerCheckers$2.writableObject,Refine_ContainerCheckers$1$1=Object.freeze({__proto__:null,array:Refine_ContainerCheckers_1$1,tuple:Refine_ContainerCheckers_2$1,object:Refine_ContainerCheckers_3$1,optional:Refine_ContainerCheckers_4$1,dict:Refine_ContainerCheckers_5$1,set:Refine_ContainerCheckers_6$1,map:Refine_ContainerCheckers_7$1,writableArray:Refine_ContainerCheckers_8$1,writableDict:Refine_ContainerCheckers_9$1,writableObject:Refine_ContainerCheckers_10$1});const{assertion:assertion$1$1}=Refine_API$1;function tryParseJSONMixed$1(t,e){if(t==null)return null;try{return JSON.parse(t,e)}catch{return null}}function jsonParserEnforced$2(t,e){const n=assertion$1$1(t,e??"value is invalid");return r=>n(tryParseJSONMixed$1(r??""))}function jsonParser$2(t){return e=>{const n=t(tryParseJSONMixed$1(e));return n.type==="success"?n.value:null}}var Refine_JSON$1={jsonParserEnforced:jsonParserEnforced$2,jsonParser:jsonParser$2};const{Path:Path$2$1,compose:compose$2$1,failure:failure$2$1,success:success$2$1}=Refine_Checkers$1$1;function mixed$3(){return MIXED_CHECKER$1}const MIXED_CHECKER$1=t=>success$2$1(t,[]);function literal$2(t){const e=n=>JSON.stringify(n);return(n,r=new Path$2$1)=>{var o;return n===t?success$2$1(t,[]):failure$2$1(`value is not literal ${(o=e(t))!==null&&o!==void 0?o:"void"}`,r)}}function bool$2(){return(t,e=new Path$2$1)=>typeof t=="boolean"?success$2$1(t,[]):failure$2$1("value is not a boolean",e)}function number$2(){return(t,e=new Path$2$1)=>typeof t=="number"?success$2$1(t,[]):failure$2$1("value is not a number",e)}function string$2(t){return(e,n=new Path$2$1)=>typeof e!="string"?failure$2$1("value is not a string",n):t!=null&&!t.test(e)?failure$2$1(`value does not match regex: ${t.toString()}`,n):success$2$1(e,[])}function stringLiterals$2(t){return(e,n=new Path$2$1)=>{if(typeof e!="string")return failure$2$1("value must be a string",n);const r=t[e];return r==null?failure$2$1(`value is not one of ${Object.values(t).join(", ")}`,n):success$2$1(r,[])}}function date$2(){return(t,e=new Path$2$1)=>t instanceof Date?isNaN(t)?failure$2$1("invalid date",e):success$2$1(t,[]):failure$2$1("value is not a date",e)}function jsonDate$2(){return compose$2$1(string$2(),({value:t,warnings:e},n)=>{const r=new Date(t);return Number.isNaN(r)?failure$2$1("value is not valid date string",n):success$2$1(r,e)})}var Refine_PrimitiveCheckers$1={mixed:mixed$3,literal:literal$2,bool:bool$2,number:number$2,string:string$2,stringLiterals:stringLiterals$2,date:date$2,jsonDate:jsonDate$2};const{Path:Path$3$1,compose:compose$3$1,failure:failure$3$1,success:success$3$1}=Refine_Checkers$1$1;function asType$2(t,e){return compose$3$1(t,({value:n,warnings:r})=>success$3$1(e(n),r))}function unionFailure$1(t,e,n){return failure$3$1(`${t}: ${n.map(r=>r.message).join(", ")}`,e)}function or$2(t,e){return(n,r=new Path$3$1)=>{const o=t(n,r);if(o.type==="success")return success$3$1(o.value,o.warnings);const i=e(n,r);return i.type==="success"?success$3$1(i.value,i.warnings):unionFailure$1("value did not match any types in or()",r,[o,i])}}function union$2(...t){return(e,n=new Path$3$1)=>{const r=[];for(const o of t){const i=o(e,n);if(i.type==="success")return success$3$1(i.value,i.warnings);r.push(i)}return unionFailure$1("value did not match any types in union",n,r)}}function match$2(...t){return union$2(...t)}function nullable$2(t,e){const{nullWithWarningWhenInvalid:n=!1}=e??{};return(r,o=new Path$3$1)=>{if(r==null)return success$3$1(r,[]);const i=t(r,o);if(i.type==="success")return success$3$1(i.value,i.warnings);if(n)return success$3$1(null,[i]);const{message:c,path:s}=i;return failure$3$1(c,s)}}function voidable$2(t,e){const{undefinedWithWarningWhenInvalid:n=!1}=e??{};return(r,o=new Path$3$1)=>{if(r===void 0)return success$3$1(void 0,[]);const i=t(r,o);if(i.type==="success")return success$3$1(i.value,i.warnings);if(n)return success$3$1(void 0,[i]);const{message:c,path:s}=i;return failure$3$1(c,s)}}function withDefault$2(t,e){return(n,r=new Path$3$1)=>{if(n==null)return success$3$1(e,[]);const o=t(n,r);return o.type==="failure"||o.value!=null?o:success$3$1(e,[])}}function constraint$2(t,e){return compose$3$1(t,({value:n,warnings:r},o)=>{const i=e(n),[c,s]=typeof i=="boolean"?[i,"value failed constraint check"]:i;return c?success$3$1(n,r):failure$3$1(s,o)})}function lazy$2(t){return(e,n=new Path$3$1)=>t()(e,n)}function custom$2(t,e="failed to return non-null from custom checker."){return(n,r=new Path$3$1)=>{try{const o=t(n);return o!=null?success$3$1(o,[]):failure$3$1(e,r)}catch(o){return failure$3$1(o.message,r)}}}var Refine_UtilityCheckers$1={or:or$2,union:union$2,match:match$2,nullable:nullable$2,voidable:voidable$2,withDefault:withDefault$2,constraint:constraint$2,asType:asType$2,lazy:lazy$2,custom:custom$2};const{assertion:assertion$2$1,coercion:coercion$1$1}=Refine_API$1,{Path:Path$4$1}=Refine_Checkers$1$1,{array:array$1$1,dict:dict$1$1,map:map$1$1,object:object$1$1,optional:optional$1$1,set:set$1$1,tuple:tuple$1$1,writableArray:writableArray$1$1,writableDict:writableDict$1$1,writableObject:writableObject$1$1}=Refine_ContainerCheckers$1$1,{jsonParser:jsonParser$1$1,jsonParserEnforced:jsonParserEnforced$1$1}=Refine_JSON$1,{bool:bool$1$1,date:date$1$1,jsonDate:jsonDate$1$1,literal:literal$1$1,mixed:mixed$1$1,number:number$1$1,string:string$1$1,stringLiterals:stringLiterals$1$1}=Refine_PrimitiveCheckers$1,{asType:asType$1$1,constraint:constraint$1$1,custom:custom$1$1,lazy:lazy$1$1,match:match$1$1,nullable:nullable$1$1,or:or$1$1,union:union$1$1,voidable:voidable$1$1,withDefault:withDefault$1$1}=Refine_UtilityCheckers$1;var Refine_index$1={assertion:assertion$2$1,coercion:coercion$1$1,jsonParser:jsonParser$1$1,jsonParserEnforced:jsonParserEnforced$1$1,Path:Path$4$1,mixed:mixed$1$1,literal:literal$1$1,bool:bool$1$1,number:number$1$1,string:string$1$1,stringLiterals:stringLiterals$1$1,date:date$1$1,jsonDate:jsonDate$1$1,asType:asType$1$1,or:or$1$1,union:union$1$1,match:match$1$1,nullable:nullable$1$1,voidable:voidable$1$1,withDefault:withDefault$1$1,constraint:constraint$1$1,lazy:lazy$1$1,custom:custom$1$1,array:array$1$1,tuple:tuple$1$1,dict:dict$1$1,object:object$1$1,optional:optional$1$1,set:set$1$1,map:map$1$1,writableArray:writableArray$1$1,writableDict:writableDict$1$1,writableObject:writableObject$1$1},Refine_index_9=Refine_index$1.number,transit={exports:{}},COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self;goog.exportPath_=function(t,e,n,r){t=t.split("."),r=r||goog.global,t[0]in r||typeof r.execScript>"u"||r.execScript("var "+t[0]);for(var o;t.length&&(o=t.shift());)if(t.length||e===void 0)r=r[o]&&r[o]!==Object.prototype[o]?r[o]:r[o]={};else if(!n&&goog.isObject(e)&&goog.isObject(r[o]))for(var i in e)e.hasOwnProperty(i)&&(r[o][i]=e[i]);else r[o]=e};goog.define=function(t,e){return e};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(t)};goog.constructNamespace_=function(t,e,n){goog.exportPath_(t,e,n)};goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/;goog.cspNonce_=null;goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(t){if(typeof t!="string"||!t||t.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=t};goog.module.get=function(t){return goog.module.getInternal_(t)};goog.module.getInternal_=function(t){return null};goog.ModuleType={ES6:"es6",GOOG:"goog"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return t?typeof t.getCurrentModulePath!="function"?!1:!!t.getCurrentModulePath():!1};goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.declareModuleId=function(t){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||typeof e.getCurrentModulePath!="function")throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}};goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))};goog.forwardDeclare=function(t){};goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var n=0;n<t.length;n++)if(e=e[t[n]],e==null)return null;return e};goog.addDependency=function(t,e,n,r){};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)};goog.require=function(t){};goog.requireType=function(t){return{}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED;goog.TRANSPILE="detect";goog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE="";goog.TRANSPILER="transpile.js";goog.TRUSTED_TYPES_POLICY_NAME="goog";goog.hasBadLetScoping=null;goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};var n={},r=n;if(typeof t=="function")r=t.call(void 0,r);else if(typeof t=="string")r=goog.loadModuleFromSource_.call(void 0,r,t);else throw Error("Invalid module definition");var o=goog.moduleLoaderState_.moduleName;if(typeof o=="string"&&o)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,r,n!==r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[o]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name "'+o+'"')}finally{goog.moduleLoaderState_=e}};goog.loadModuleFromSource_=function(a,b){return eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(b)),a};goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)t[e]=="."?t.splice(e,1):e&&t[e]==".."&&t[e-1]&&t[e-1]!=".."?t.splice(--e,2):e++;return t.join("/")};goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),e.status==0||e.status==200?e.responseText:null}catch{return null}};goog.transpile_=function(t,e,n){var r=goog.global.$jscomp;r||(goog.global.$jscomp=r={});var o=r.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,c=goog.loadFileSync_(i);if(c){if(function(){(0,eval)(c+`
//# sourceURL=`+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,r=goog.global.$jscomp,o=r.transpile}}return o||(o=r.transpile=function(s,u){return goog.logToConsole_(u+" requires transpilation but no transpiler was found."),s}),o(t,e,n)};goog.typeOf=function(t){var e=typeof t;return e!="object"?e:t?Array.isArray(t)?"array":e:"null"};goog.isArrayLike=function(t){var e=goog.typeOf(t);return e=="array"||e=="object"&&typeof t.length=="number"};goog.isDateLike=function(t){return goog.isObject(t)&&typeof t.getFullYear=="function"};goog.isObject=function(t){var e=typeof t;return e=="object"&&t!=null||e=="function"};goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]};goog.removeUid=function(t){t!==null&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch{}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.cloneObject=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(typeof t.clone=="function")return t.clone();e=e=="array"?[]:{};for(var n in t)e[n]=goog.cloneObject(t[n]);return e}return t};goog.bindNative_=function(t,e,n){return t.call.apply(t.bind,arguments)};goog.bindJs_=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}};goog.bind=function(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}};goog.mixin=function(t,e){for(var n in e)t[n]=e[n]};goog.now=function(){return Date.now()};goog.globalEval=function(t){(0,eval)(t)};goog.getCssName=function(t,e){if(String(t).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var n=function(o){return goog.cssNameMapping_[o]||o},r=function(o){o=o.split("-");for(var i=[],c=0;c<o.length;c++)i.push(n(o[c]));return i.join("-")};return r=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?n:r:function(o){return o},t=e?t+"-"+r(e):r(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t};goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e};goog.getMsg=function(t,e,n){return n&&n.html&&(t=t.replace(/</g,"&lt;")),n&&n.unescapeHtmlEntities&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(r,o){return e!=null&&o in e?e[o]:r})),t};goog.getMsgWithFallback=function(t,e){return t};goog.exportSymbol=function(t,e,n){goog.exportPath_(t,e,!0,n)};goog.exportProperty=function(t,e,n){t[e]=n};goog.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(r,o,i){for(var c=Array(arguments.length-2),s=2;s<arguments.length;s++)c[s-2]=arguments[s];return e.prototype[o].apply(r,c)}};goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)};goog.defineClass=function(t,e){var n=e.constructor,r=e.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,t),t&&goog.inherits(n,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),r!=null&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(t,e){return goog.defineClass.SEAL_CLASS_INSTANCES?function(){var n=t.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],n}:t};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};goog.identity_=function(t){return t};goog.createTrustedTypesPolicy=function(t){var e=null,n=goog.global.trustedTypes;if(!n||!n.createPolicy)return e;try{e=n.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_})}catch(r){goog.logToConsole_(r.message)}return e};goog.object={};goog.object.forEach=function(t,e,n){for(const r in t)e.call(n,t[r],r,t)};goog.object.filter=function(t,e,n){const r={};for(const o in t)e.call(n,t[o],o,t)&&(r[o]=t[o]);return r};goog.object.map=function(t,e,n){const r={};for(const o in t)r[o]=e.call(n,t[o],o,t);return r};goog.object.some=function(t,e,n){for(const r in t)if(e.call(n,t[r],r,t))return!0;return!1};goog.object.every=function(t,e,n){for(const r in t)if(!e.call(n,t[r],r,t))return!1;return!0};goog.object.getCount=function(t){let e=0;for(const n in t)e++;return e};goog.object.getAnyKey=function(t){for(const e in t)return e};goog.object.getAnyValue=function(t){for(const e in t)return t[e]};goog.object.contains=function(t,e){return goog.object.containsValue(t,e)};goog.object.getValues=function(t){const e=[];let n=0;for(const r in t)e[n++]=t[r];return e};goog.object.getKeys=function(t){const e=[];let n=0;for(const r in t)e[n++]=r;return e};goog.object.getValueByKeys=function(t,e){var n=goog.isArrayLike(e);const r=n?e:arguments;for(n=n?0:1;n<r.length;n++){if(t==null)return;t=t[r[n]]}return t};goog.object.containsKey=function(t,e){return t!==null&&e in t};goog.object.containsValue=function(t,e){for(const n in t)if(t[n]==e)return!0;return!1};goog.object.findKey=function(t,e,n){for(const r in t)if(e.call(n,t[r],r,t))return r};goog.object.findValue=function(t,e,n){return(e=goog.object.findKey(t,e,n))&&t[e]};goog.object.isEmpty=function(t){for(const e in t)return!1;return!0};goog.object.clear=function(t){for(const e in t)delete t[e]};goog.object.remove=function(t,e){let n;return(n=e in t)&&delete t[e],n};goog.object.add=function(t,e,n){if(t!==null&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,n)};goog.object.get=function(t,e,n){return t!==null&&e in t?t[e]:n};goog.object.set=function(t,e,n){t[e]=n};goog.object.setIfUndefined=function(t,e,n){return e in t?t[e]:t[e]=n};goog.object.setWithReturnValueIfNotSet=function(t,e,n){return e in t?t[e]:(n=n(),t[e]=n)};goog.object.equals=function(t,e){for(const n in t)if(!(n in e)||t[n]!==e[n])return!1;for(const n in e)if(!(n in t))return!1;return!0};goog.object.clone=function(t){const e={};for(const n in t)e[n]=t[n];return e};goog.object.unsafeClone=function(t){if(!t||typeof t!="object")return t;if(typeof t.clone=="function")return t.clone();const e=Array.isArray(t)?[]:typeof ArrayBuffer!="function"||typeof ArrayBuffer.isView!="function"||!ArrayBuffer.isView(t)||t instanceof DataView?{}:new t.constructor(t.length);for(const n in t)e[n]=goog.object.unsafeClone(t[n]);return e};goog.object.transpose=function(t){const e={};for(const n in t)e[t[n]]=n;return e};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}};goog.object.create=function(t){const e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");const n={};for(let r=0;r<e;r+=2)n[arguments[r]]=arguments[r+1];return n};goog.object.createSet=function(t){const e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);const n={};for(let r=0;r<e;r++)n[arguments[r]]=!0;return n};goog.object.createImmutableView=function(t){let e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e};goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)};goog.object.getAllPropertyNames=function(t,e,n){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);const r={};for(;t&&(t!==Object.prototype||e)&&(t!==Function.prototype||n);){const o=Object.getOwnPropertyNames(t);for(let i=0;i<o.length;i++)r[o[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(r)};goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor};var com={cognitect:{}};com.cognitect.transit={};com.cognitect.transit.util={};com.cognitect.transit.util.objectKeys=typeof Object.keys<"u"?function(t){return Object.keys(t)}:function(t){return goog.object.getKeys(t)};com.cognitect.transit.util.isArray=typeof Array.isArray<"u"?function(t){return Array.isArray(t)}:function(t){return goog.typeOf(t)==="array"};com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";com.cognitect.transit.util.randInt=function(t){return Math.round(Math.random()*t)};com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)};com.cognitect.transit.util.randomUUID=function(){var t=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+t+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()};com.cognitect.transit.util.btoa=function(t){if(typeof btoa<"u")return btoa(t);t=String(t);for(var e,n,r=0,o=com.cognitect.transit.util.chars,i="";t.charAt(r|0)||(o="=",r%1);i+=o.charAt(63&e>>8-r%1*8)){if(n=t.charCodeAt(r+=.75),255<n)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i};com.cognitect.transit.util.atob=function(t){if(typeof atob<"u")return atob(t);if(t=String(t).replace(/=+$/,""),t.length%4==1)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e=0,n,r,o=0,i="";r=t.charAt(o++);~r&&(n=e%4?64*n+r:r,e++%4)?i+=String.fromCharCode(255&n>>(-2*e&6)):0)r=com.cognitect.transit.util.chars.indexOf(r);return i};com.cognitect.transit.util.Uint8ToBase64=function(t){for(var e=0,n=t.length,r="",o;e<n;)o=t.subarray(e,Math.min(e+32768,n)),r+=String.fromCharCode.apply(null,o),e+=32768;return com.cognitect.transit.util.btoa(r)};com.cognitect.transit.util.Base64ToUint8=function(t){t=com.cognitect.transit.util.atob(t);for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++){var o=t.charCodeAt(r);n[r]=o}return n};com.cognitect.transit.delimiters={};com.cognitect.transit.delimiters.ESC="~";com.cognitect.transit.delimiters.TAG="#";com.cognitect.transit.delimiters.SUB="^";com.cognitect.transit.delimiters.RES="`";com.cognitect.transit.delimiters.ESC_TAG="~#";com.cognitect.transit.caching={};com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3;com.cognitect.transit.caching.BASE_CHAR_IDX=48;com.cognitect.transit.caching.CACHE_CODE_DIGITS=44;com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS;com.cognitect.transit.caching.MAX_CACHE_SIZE=4096;com.cognitect.transit.caching.isCacheable=function(t,e){return t.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE?e?!0:(e=t.charAt(0),t=t.charAt(1),e===com.cognitect.transit.delimiters.ESC?t===":"||t==="$"||t==="#":!1):!1};com.cognitect.transit.caching.idxToCode=function(t){var e=Math.floor(t/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return t=String.fromCharCode(t%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),e===0?com.cognitect.transit.delimiters.SUB+t:com.cognitect.transit.delimiters.SUB+String.fromCharCode(e+com.cognitect.transit.caching.BASE_CHAR_IDX)+t};com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}};com.cognitect.transit.caching.WriteCache.prototype.write=function(t,e){return com.cognitect.transit.caching.isCacheable(t,e)?(this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear(),e=this.cache[t],e==null?(this.cache[t]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,t):e[1]!=this.gen?(e[1]=this.gen,e[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,t):e[0]):t};com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++};com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache};com.cognitect.transit.caching.isCacheCode=function(t){return t.charAt(0)===com.cognitect.transit.delimiters.SUB&&t.charAt(1)!==" "};com.cognitect.transit.caching.codeToIdx=function(t){if(t.length===2)return t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX;var e=(t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS;return t=t.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX,e+t};com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]};com.cognitect.transit.caching.ReadCache.prototype.write=function(t,e){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=t,this.idx++,t};com.cognitect.transit.caching.ReadCache.prototype.read=function(t,e){return this.cache[com.cognitect.transit.caching.codeToIdx(t)]};com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0};com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache};com.cognitect.transit.eq={};com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$";com.cognitect.transit.eq.hashCodeCounter=1;com.cognitect.transit.eq.equals=function(t,e){if(t==null)return e==null;if(t===e)return!0;if(typeof t=="object"){if(com.cognitect.transit.util.isArray(t)){if(com.cognitect.transit.util.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!com.cognitect.transit.eq.equals(t[n],e[n]))return!1;return!0}return!1}if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);if(e!=null&&typeof e=="object"){if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);n=0;var r=com.cognitect.transit.util.objectKeys(e).length,o;for(o in t)if(t.hasOwnProperty(o)&&(n++,!e.hasOwnProperty(o)||!com.cognitect.transit.eq.equals(t[o],e[o])))return!1;return n===r}}return!1};com.cognitect.transit.eq.hashCombine=function(t,e){return t^e+2654435769+(t<<6)+(t>>2)};com.cognitect.transit.eq.stringCodeCache={};com.cognitect.transit.eq.stringCodeCacheSize=0;com.cognitect.transit.eq.STR_CACHE_MAX=256;com.cognitect.transit.eq.hashString=function(t){var e=com.cognitect.transit.eq.stringCodeCache[t];if(e!=null)return e;for(var n=e=0;n<t.length;++n)e=31*e+t.charCodeAt(n),e%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[t]=e};com.cognitect.transit.eq.hashMapLike=function(t){var e=0;if(t.forEach!=null)t.forEach(function(c,s,u){e=(e+(com.cognitect.transit.eq.hashCode(s)^com.cognitect.transit.eq.hashCode(c)))%4503599627370496});else for(var n=com.cognitect.transit.util.objectKeys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];e=(e+(com.cognitect.transit.eq.hashCode(o)^com.cognitect.transit.eq.hashCode(i)))%4503599627370496}return e};com.cognitect.transit.eq.hashArrayLike=function(t){var e=0;if(com.cognitect.transit.util.isArray(t))for(var n=0;n<t.length;n++)e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t[n]));else t.forEach&&t.forEach(function(r,o){e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(r))});return e};com.cognitect.transit.eq.hashCode=function(t){if(t==null)return 0;switch(typeof t){case"number":return t;case"boolean":return t===!0?1:0;case"string":return com.cognitect.transit.eq.hashString(t);case"function":var e=t[com.cognitect.transit.eq.hashCodeProperty];return e||(e=com.cognitect.transit.eq.hashCodeCounter,typeof Object.defineProperty<"u"?Object.defineProperty(t,com.cognitect.transit.eq.hashCodeProperty,{value:e,enumerable:!1}):t[com.cognitect.transit.eq.hashCodeProperty]=e,com.cognitect.transit.eq.hashCodeCounter++),e;default:return t instanceof Date?t.valueOf():com.cognitect.transit.util.isArray(t)?com.cognitect.transit.eq.hashArrayLike(t):t.com$cognitect$transit$hashCode?t.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(t)}};com.cognitect.transit.eq.extendToEQ=function(t,e){return t.com$cognitect$transit$hashCode=e.hashCode,t.com$cognitect$transit$equals=e.equals,t};goog.debug={};function module$contents$goog$debug$Error_DebugError(t,e){if(Error.captureStackTrace)Error.captureStackTrace(this,module$contents$goog$debug$Error_DebugError);else{const n=Error().stack;n&&(this.stack=n)}t&&(this.message=String(t)),e&&(this.cause=e),this.reportErrorToServer=!0}goog.inherits(module$contents$goog$debug$Error_DebugError,Error);module$contents$goog$debug$Error_DebugError.prototype.name="CustomError";goog.debug.Error=module$contents$goog$debug$Error_DebugError;goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(t,e){module$contents$goog$debug$Error_DebugError.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t};goog.inherits(goog.asserts.AssertionError,module$contents$goog$debug$Error_DebugError);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.subs_=function(t,e){t=t.split("%s");for(var n="",r=t.length-1,o=0;o<r;o++)n+=t[o]+(o<e.length?e[o]:"%s");return n+t[r]};goog.asserts.doAssertFailure_=function(t,e,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else t&&(o+=": "+t,i=e);t=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(t)};goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)};goog.asserts.assert=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertExists=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&t==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&typeof t!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertString=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&typeof t!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertFunction=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&typeof t!="function"&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertObject=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertArray=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertBoolean=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&typeof t!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertElement=function(t,e,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.assertInstanceof=function(t,e,n,r){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],n,Array.prototype.slice.call(arguments,3)),t};goog.asserts.assertFinite=function(t,e,n){return!goog.asserts.ENABLE_ASSERTS||typeof t=="number"&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t};goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t};goog.reflect={};goog.reflect.object=function(t,e){return e};goog.reflect.objectProperty=function(t,e){return t};goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch{}return!1};goog.reflect.cache=function(t,e,n,r){return r=r?r(e):e,Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=n(e)};goog.math={};class module$contents$goog$math$Long_Long{constructor(e,n){this.low_=e|0,this.high_=n|0}toInt(){return this.low_}toNumber(){return this.high_*module$contents$goog$math$Long_TWO_PWR_32_DBL_+this.getLowBitsUnsigned()}isSafeInteger(){var e=this.high_>>21;return e==0||e==-1&&!(this.low_==0&&this.high_==-2097152)}toString(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(this.isSafeInteger()){var n=this.toNumber();return e==10?""+n:n.toString(e)}n=14-(e>>2);var r=Math.pow(e,n),o=module$contents$goog$math$Long_Long.fromBits(r,r/module$contents$goog$math$Long_TWO_PWR_32_DBL_);r=this.div(o),o=Math.abs(this.subtract(r.multiply(o)).toNumber());var i=e==10?""+o:o.toString(e);return i.length<n&&(i="0000000000000".substr(i.length-n)+i),o=r.toNumber(),(e==10?o:o.toString(e))+i}getHighBits(){return this.high_}getLowBits(){return this.low_}getLowBitsUnsigned(){return this.low_>>>0}getNumBitsAbs(){if(this.isNegative())return this.equals(module$contents$goog$math$Long_Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var e=this.high_!=0?this.high_:this.low_,n=31;0<n&&!(e&1<<n);n--);return this.high_!=0?n+33:n+1}isZero(){return this.low_==0&&this.high_==0}isNegative(){return 0>this.high_}isOdd(){return(this.low_&1)==1}equals(e){return this.low_==e.low_&&this.high_==e.high_}notEquals(e){return!this.equals(e)}lessThan(e){return 0>this.compare(e)}lessThanOrEqual(e){return 0>=this.compare(e)}greaterThan(e){return 0<this.compare(e)}greaterThanOrEqual(e){return 0<=this.compare(e)}compare(e){return this.high_==e.high_?this.low_==e.low_?0:this.getLowBitsUnsigned()>e.getLowBitsUnsigned()?1:-1:this.high_>e.high_?1:-1}negate(){var e=~this.low_+1|0;return module$contents$goog$math$Long_Long.fromBits(e,~this.high_+!e|0)}add(e){var n=this.high_>>>16,r=this.high_&65535,o=this.low_>>>16,i=e.high_>>>16,c=e.high_&65535,s=e.low_>>>16;return e=(this.low_&65535)+(e.low_&65535),s=(e>>>16)+(o+s),o=s>>>16,o+=r+c,n=(o>>>16)+(n+i)&65535,module$contents$goog$math$Long_Long.fromBits((s&65535)<<16|e&65535,n<<16|o&65535)}subtract(e){return this.add(e.negate())}multiply(e){if(this.isZero())return this;if(e.isZero())return e;var n=this.high_>>>16,r=this.high_&65535,o=this.low_>>>16,i=this.low_&65535,c=e.high_>>>16,s=e.high_&65535,u=e.low_>>>16;e=e.low_&65535;var g=i*e,l=(g>>>16)+o*e,p=l>>>16;l=(l&65535)+i*u,p+=l>>>16,p+=r*e;var h=p>>>16;return p=(p&65535)+o*u,h+=p>>>16,p=(p&65535)+i*s,h=h+(p>>>16)+(n*e+r*u+o*s+i*c)&65535,module$contents$goog$math$Long_Long.fromBits((l&65535)<<16|g&65535,h<<16|p&65535)}div(e){if(e.isZero())throw Error("division by zero");if(this.isNegative()){if(this.equals(module$contents$goog$math$Long_Long.getMinValue())){if(e.equals(module$contents$goog$math$Long_Long.getOne())||e.equals(module$contents$goog$math$Long_Long.getNegOne()))return module$contents$goog$math$Long_Long.getMinValue();if(e.equals(module$contents$goog$math$Long_Long.getMinValue()))return module$contents$goog$math$Long_Long.getOne();var n=this.shiftRight(1).div(e).shiftLeft(1);if(n.equals(module$contents$goog$math$Long_Long.getZero()))return e.isNegative()?module$contents$goog$math$Long_Long.getOne():module$contents$goog$math$Long_Long.getNegOne();var r=this.subtract(e.multiply(n));return n.add(r.div(e))}return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate()}if(this.isZero())return module$contents$goog$math$Long_Long.getZero();if(e.isNegative())return e.equals(module$contents$goog$math$Long_Long.getMinValue())?module$contents$goog$math$Long_Long.getZero():this.div(e.negate()).negate();var o=module$contents$goog$math$Long_Long.getZero();for(r=this;r.greaterThanOrEqual(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var i=Math.ceil(Math.log(n)/Math.LN2);i=48>=i?1:Math.pow(2,i-48);for(var c=module$contents$goog$math$Long_Long.fromNumber(n),s=c.multiply(e);s.isNegative()||s.greaterThan(r);)n-=i,c=module$contents$goog$math$Long_Long.fromNumber(n),s=c.multiply(e);c.isZero()&&(c=module$contents$goog$math$Long_Long.getOne()),o=o.add(c),r=r.subtract(s)}return o}modulo(e){return this.subtract(this.div(e).multiply(e))}not(){return module$contents$goog$math$Long_Long.fromBits(~this.low_,~this.high_)}and(e){return module$contents$goog$math$Long_Long.fromBits(this.low_&e.low_,this.high_&e.high_)}or(e){return module$contents$goog$math$Long_Long.fromBits(this.low_|e.low_,this.high_|e.high_)}xor(e){return module$contents$goog$math$Long_Long.fromBits(this.low_^e.low_,this.high_^e.high_)}shiftLeft(e){if(e&=63,e==0)return this;var n=this.low_;return 32>e?module$contents$goog$math$Long_Long.fromBits(n<<e,this.high_<<e|n>>>32-e):module$contents$goog$math$Long_Long.fromBits(0,n<<e-32)}shiftRight(e){if(e&=63,e==0)return this;var n=this.high_;return 32>e?module$contents$goog$math$Long_Long.fromBits(this.low_>>>e|n<<32-e,n>>e):module$contents$goog$math$Long_Long.fromBits(n>>e-32,0<=n?0:-1)}shiftRightUnsigned(e){if(e&=63,e==0)return this;var n=this.high_;return 32>e?module$contents$goog$math$Long_Long.fromBits(this.low_>>>e|n<<32-e,n>>>e):e==32?module$contents$goog$math$Long_Long.fromBits(n,0):module$contents$goog$math$Long_Long.fromBits(n>>>e-32,0)}static fromInt(e){var n=e|0;return goog.asserts.assert(e===n,"value should be a 32-bit integer"),-128<=n&&128>n?module$contents$goog$math$Long_getCachedIntValue_(n):new module$contents$goog$math$Long_Long(n,0>n?-1:0)}static fromNumber(e){return 0<e?e>=module$contents$goog$math$Long_TWO_PWR_63_DBL_?module$contents$goog$math$Long_Long.getMaxValue():new module$contents$goog$math$Long_Long(e,e/module$contents$goog$math$Long_TWO_PWR_32_DBL_):0>e?e<=-module$contents$goog$math$Long_TWO_PWR_63_DBL_?module$contents$goog$math$Long_Long.getMinValue():new module$contents$goog$math$Long_Long(-e,-e/module$contents$goog$math$Long_TWO_PWR_32_DBL_).negate():module$contents$goog$math$Long_Long.getZero()}static fromBits(e,n){return new module$contents$goog$math$Long_Long(e,n)}static fromString(e,n){if(e.charAt(0)=="-")return module$contents$goog$math$Long_Long.fromString(e.substring(1),n).negate();var r=parseInt(e,n||10);if(r<=module$contents$goog$math$Long_MAX_SAFE_INTEGER_)return new module$contents$goog$math$Long_Long(r%module$contents$goog$math$Long_TWO_PWR_32_DBL_|0,r/module$contents$goog$math$Long_TWO_PWR_32_DBL_|0);if(e.length==0)throw Error("number format error: empty string");if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character: '+e);if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);r=module$contents$goog$math$Long_Long.fromNumber(Math.pow(n,8));for(var o=module$contents$goog$math$Long_Long.getZero(),i=0;i<e.length;i+=8){var c=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+c),n);8>c?(c=module$contents$goog$math$Long_Long.fromNumber(Math.pow(n,c)),o=o.multiply(c).add(module$contents$goog$math$Long_Long.fromNumber(s))):(o=o.multiply(r),o=o.add(module$contents$goog$math$Long_Long.fromNumber(s)))}return o}static isStringInRange(e,n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);return n=e.charAt(0)=="-"?module$contents$goog$math$Long_MIN_VALUE_FOR_RADIX_[n]:module$contents$goog$math$Long_MAX_VALUE_FOR_RADIX_[n],e.length<n.length?!0:e.length==n.length&&e<=n}static getZero(){return module$contents$goog$math$Long_ZERO_}static getOne(){return module$contents$goog$math$Long_ONE_}static getNegOne(){return module$contents$goog$math$Long_NEG_ONE_}static getMaxValue(){return module$contents$goog$math$Long_MAX_VALUE_}static getMinValue(){return module$contents$goog$math$Long_MIN_VALUE_}static getTwoPwr24(){return module$contents$goog$math$Long_TWO_PWR_24_}}goog.math.Long=module$contents$goog$math$Long_Long;const module$contents$goog$math$Long_IntCache_={};function module$contents$goog$math$Long_getCachedIntValue_(t){return goog.reflect.cache(module$contents$goog$math$Long_IntCache_,t,function(e){return new module$contents$goog$math$Long_Long(e,0>e?-1:0)})}const module$contents$goog$math$Long_MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),module$contents$goog$math$Long_MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),module$contents$goog$math$Long_MAX_SAFE_INTEGER_=9007199254740991,module$contents$goog$math$Long_TWO_PWR_32_DBL_=4294967296,module$contents$goog$math$Long_TWO_PWR_63_DBL_=9223372036854776e3,module$contents$goog$math$Long_ZERO_=module$contents$goog$math$Long_Long.fromBits(0,0),module$contents$goog$math$Long_ONE_=module$contents$goog$math$Long_Long.fromBits(1,0),module$contents$goog$math$Long_NEG_ONE_=module$contents$goog$math$Long_Long.fromBits(-1,-1),module$contents$goog$math$Long_MAX_VALUE_=module$contents$goog$math$Long_Long.fromBits(4294967295,2147483647),module$contents$goog$math$Long_MIN_VALUE_=module$contents$goog$math$Long_Long.fromBits(0,2147483648),module$contents$goog$math$Long_TWO_PWR_24_=module$contents$goog$math$Long_Long.fromBits(16777216,0);com.cognitect.transit.types={};com.cognitect.transit.types.ITERATOR=typeof Symbol<"u"?Symbol.iterator:"@@iterator";com.cognitect.transit.types.TaggedValue=function(t,e){this.tag=t,this.rep=e,this.hashCode=-1};com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};com.cognitect.transit.types.TaggedValue.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)};com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv;com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TaggedValue?this.tag===t.tag&&com.cognitect.transit.eq.equals(this.rep,t.rep):!1};com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode};com.cognitect.transit.types.taggedValue=function(t,e){return new com.cognitect.transit.types.TaggedValue(t,e)};com.cognitect.transit.types.isTaggedValue=function(t){return t instanceof com.cognitect.transit.types.TaggedValue};com.cognitect.transit.types.nullValue=function(){return null};com.cognitect.transit.types.boolValue=function(t){return t==="t"};com.cognitect.transit.types.MAX_INT=module$contents$goog$math$Long_Long.fromString("9007199254740991");com.cognitect.transit.types.MIN_INT=module$contents$goog$math$Long_Long.fromString("-9007199254740991");com.cognitect.transit.types.intValue=function(t){return typeof t=="number"||t instanceof module$contents$goog$math$Long_Long?t:(t=module$contents$goog$math$Long_Long.fromString(t,10),t.greaterThan(com.cognitect.transit.types.MAX_INT)||t.lessThan(com.cognitect.transit.types.MIN_INT)?t:t.toNumber())};module$contents$goog$math$Long_Long.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)};module$contents$goog$math$Long_Long.prototype.equiv=module$contents$goog$math$Long_Long.prototype.equiv;module$contents$goog$math$Long_Long.prototype.com$cognitect$transit$equals=function(t){return t instanceof module$contents$goog$math$Long_Long&&this.equals(t)};module$contents$goog$math$Long_Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()};com.cognitect.transit.types.isInteger=function(t){return t instanceof module$contents$goog$math$Long_Long?!0:typeof t=="number"&&!isNaN(t)&&t!==1/0&&parseFloat(t)===parseInt(t,10)};com.cognitect.transit.types.floatValue=function(t){return parseFloat(t)};com.cognitect.transit.types.bigInteger=function(t){return com.cognitect.transit.types.taggedValue("n",t)};com.cognitect.transit.types.isBigInteger=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="n"};com.cognitect.transit.types.bigDecimalValue=function(t){return com.cognitect.transit.types.taggedValue("f",t)};com.cognitect.transit.types.isBigDecimal=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="f"};com.cognitect.transit.types.charValue=function(t){return t};com.cognitect.transit.types.Keyword=function(t){this._name=t,this.hashCode=-1};com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name};com.cognitect.transit.types.Keyword.prototype.namespace=function(){var t=this._name.indexOf("/");return t!=-1?this._name.substring(0,t):null};com.cognitect.transit.types.Keyword.prototype.name=function(){var t=this._name.indexOf("/");return t!=-1?this._name.substring(t+1,this._name.length):this._name};com.cognitect.transit.types.Keyword.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)};com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv;com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Keyword&&this._name==t._name};com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode};com.cognitect.transit.types.keyword=function(t){return new com.cognitect.transit.types.Keyword(t)};com.cognitect.transit.types.isKeyword=function(t){return t instanceof com.cognitect.transit.types.Keyword};com.cognitect.transit.types.Symbol=function(t){this._name=t,this.hashCode=-1};com.cognitect.transit.types.Symbol.prototype.namespace=function(){var t=this._name.indexOf("/");return t!=-1?this._name.substring(0,t):null};com.cognitect.transit.types.Symbol.prototype.name=function(){var t=this._name.indexOf("/");return t!=-1?this._name.substring(t+1,this._name.length):this._name};com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name};com.cognitect.transit.types.Symbol.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)};com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv;com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Symbol&&this._name==t._name};com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode};com.cognitect.transit.types.symbol=function(t){return new com.cognitect.transit.types.Symbol(t)};com.cognitect.transit.types.isSymbol=function(t){return t instanceof com.cognitect.transit.types.Symbol};com.cognitect.transit.types.hexFor=function(t,e,n){var r="";n=n||e+1;for(var o=8*(7-e),i=module$contents$goog$math$Long_Long.fromInt(255).shiftLeft(o);e<n;e++,o-=8,i=i.shiftRightUnsigned(8)){var c=t.and(i).shiftRightUnsigned(o).toString(16);c.length==1&&(c="0"+c),r+=c}return r};com.cognitect.transit.types.UUID=function(t,e){this.high=t,this.low=e,this.hashCode=-1};com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low};com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high};com.cognitect.transit.types.UUID.prototype.toString=function(){var t=this.high,e=this.low,n=com.cognitect.transit.types.hexFor(t,0,4)+"-";return n+=com.cognitect.transit.types.hexFor(t,4,6)+"-",n+=com.cognitect.transit.types.hexFor(t,6,8)+"-",n+=com.cognitect.transit.types.hexFor(e,0,2)+"-",n+=com.cognitect.transit.types.hexFor(e,2,8)};com.cognitect.transit.types.UUID.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)};com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv;com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.UUID&&this.high.equals(t.high)&&this.low.equals(t.low)};com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode};com.cognitect.transit.types.UUIDfromString=function(t){t=t.replace(/-/g,"");var e,n,r=e=0;for(n=24;8>r;r+=2,n-=8)e|=parseInt(t.substring(r,r+2),16)<<n;var o=0;for(r=8,n=24;16>r;r+=2,n-=8)o|=parseInt(t.substring(r,r+2),16)<<n;var i=module$contents$goog$math$Long_Long.fromBits(o,e);for(e=0,r=16,n=24;24>r;r+=2,n-=8)e|=parseInt(t.substring(r,r+2),16)<<n;for(o=0,n=r=24;32>r;r+=2,n-=8)o|=parseInt(t.substring(r,r+2),16)<<n;return t=module$contents$goog$math$Long_Long.fromBits(o,e),new com.cognitect.transit.types.UUID(i,t)};com.cognitect.transit.types.uuid=function(t){return com.cognitect.transit.types.UUIDfromString(t)};com.cognitect.transit.types.isUUID=function(t){return t instanceof com.cognitect.transit.types.UUID};com.cognitect.transit.types.date=function(t){return t=typeof t=="number"?t:parseInt(t,10),new Date(t)};com.cognitect.transit.types.verboseDate=function(t){return new Date(t)};Date.prototype.com$cognitect$transit$equals=function(t){return t instanceof Date?this.valueOf()===t.valueOf():!1};Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()};com.cognitect.transit.types.binary=function(t,e){return e&&e.preferBuffers===!1||typeof goog.global.Buffer>"u"?typeof Uint8Array<"u"?com.cognitect.transit.util.Base64ToUint8(t):com.cognitect.transit.types.taggedValue("b",t):new goog.global.Buffer(t,"base64")};com.cognitect.transit.types.isBinary=function(t){return typeof goog.global.Buffer<"u"&&t instanceof goog.global.Buffer||typeof Uint8Array<"u"&&t instanceof Uint8Array?!0:t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="b"};com.cognitect.transit.types.uri=function(t){return com.cognitect.transit.types.taggedValue("r",t)};com.cognitect.transit.types.isURI=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="r"};com.cognitect.transit.types.KEYS=0;com.cognitect.transit.types.VALUES=1;com.cognitect.transit.types.ENTRIES=2;com.cognitect.transit.types.TransitArrayMapIterator=function(t,e){this.entries=t,this.type=e||com.cognitect.transit.types.KEYS,this.idx=0};com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var t={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,t}return{value:null,done:!0}};com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next;com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this};com.cognitect.transit.types.TransitMapIterator=function(t,e){this.map=t,this.type=e||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0};com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){this.bucket!=null&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var t={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,t}return{value:null,done:!0}};com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next;com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this};com.cognitect.transit.types.mapEquals=function(t,e){if(t instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(var n in t.map)for(var r=t.map[n],o=0;o<r.length;o+=2)if(!com.cognitect.transit.eq.equals(r[o+1],e.get(r[o])))return!1;return!0}if(t instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(t=t._entries,o=0;o<t.length;o+=2)if(!com.cognitect.transit.eq.equals(t[o+1],e.get(t[o])))return!1;return!0}if(e!=null&&typeof e=="object"&&(o=com.cognitect.transit.util.objectKeys(e),n=o.length,t.size===n)){for(r=0;r<n;r++){var i=o[r];if(!t.has(i)||!com.cognitect.transit.eq.equals(e[i],t.get(i)))return!1}return!0}return!1};com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8;com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32;com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32;com.cognitect.transit.types.print=function(t){return t==null?"null":goog.typeOf(t)==="array"?"["+t.toString()+"]":goog.typeOf(t)==="string"?'"'+t+'"':t.toString()};com.cognitect.transit.types.printMap=function(t){var e=0,n="TransitMap {";return t.forEach(function(r,o){n+=com.cognitect.transit.types.print(o)+" => "+com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"};com.cognitect.transit.types.printSet=function(t){var e=0,n="TransitSet {";return t.forEach(function(r){n+=com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"};com.cognitect.transit.types.TransitArrayMap=function(t){this._entries=t,this.backingMap=null,this.hashCode=-1,this.size=t.length/2,this.accesses=0};com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)};com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()};com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD?!1:(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD?(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0):!1)};com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0};com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear;com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)};com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys;com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var t=[],e=0,n=0;n<this._entries.length;e++,n+=2)t[e]=this._entries[n];return t};com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet;com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)};com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries;com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)};com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values;com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(t){if(this.backingMap)this.backingMap.forEach(t);else for(var e=0;e<this._entries.length;e+=2)t(this._entries[e+1],this._entries[e])};com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach;com.cognitect.transit.types.TransitArrayMap.prototype.get=function(t,e){if(this.backingMap)return this.backingMap.get(t);if(this.convert())return this.get(t);for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t))return this._entries[n+1];return e};com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get;com.cognitect.transit.types.TransitArrayMap.prototype.has=function(t){if(this.backingMap)return this.backingMap.has(t);if(this.convert())return this.has(t);for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return!0;return!1};com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has;com.cognitect.transit.types.TransitArrayMap.prototype.set=function(t,e){if(this.hashCode=-1,this.backingMap)this.backingMap.set(t,e),this.size=this.backingMap.size;else{for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t)){this._entries[n+1]=e;return}this._entries.push(t),this._entries.push(e),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}};com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set;com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(t){if(this.hashCode=-1,this.backingMap)return t=this.backingMap.delete(t),this.size=this.backingMap.size,t;for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return t=this._entries[e+1],this._entries.splice(e,2),this.size--,t};com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t};com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone;com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()};com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)};com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(t){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,t):com.cognitect.transit.types.mapEquals(this,t)};com.cognitect.transit.types.TransitMap=function(t,e,n){this.map=e||{},this._keys=t||[],this.size=n||0,this.hashCode=-1};com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)};com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()};com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0};com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear;com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return this._keys!=null?this._keys:com.cognitect.transit.util.objectKeys(this.map)};com.cognitect.transit.types.TransitMap.prototype.delete=function(t){this.hashCode=-1,this._keys=null;for(var e=com.cognitect.transit.eq.hashCode(t),n=this.map[e],r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(t,n[r]))return t=n[r+1],n.splice(r,2),n.length===0&&delete this.map[e],this.size--,t};com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)};com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries;com.cognitect.transit.types.TransitMap.prototype.forEach=function(t){for(var e=this.getKeys(),n=0;n<e.length;n++)for(var r=this.map[e[n]],o=0;o<r.length;o+=2)t(r[o+1],r[o],this)};com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach;com.cognitect.transit.types.TransitMap.prototype.get=function(t,e){var n=com.cognitect.transit.eq.hashCode(t);if(n=this.map[n],n!=null){for(e=0;e<n.length;e+=2)if(com.cognitect.transit.eq.equals(t,n[e]))return n[e+1]}else return e};com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get;com.cognitect.transit.types.TransitMap.prototype.has=function(t){var e=com.cognitect.transit.eq.hashCode(t);if(e=this.map[e],e!=null){for(var n=0;n<e.length;n+=2)if(com.cognitect.transit.eq.equals(t,e[n]))return!0}return!1};com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has;com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)};com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys;com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var t=this.getKeys(),e=[],n=0;n<t.length;n++)for(var r=this.map[t[n]],o=0;o<r.length;o+=2)e.push(r[o]);return e};com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet;com.cognitect.transit.types.TransitMap.prototype.set=function(t,e){this.hashCode=-1;var n=com.cognitect.transit.eq.hashCode(t),r=this.map[n];if(r==null)this._keys&&this._keys.push(n),this.map[n]=[t,e],this.size++;else{n=!0;for(var o=0;o<r.length;o+=2)if(com.cognitect.transit.eq.equals(e,r[o])){n=!1,r[o]=e;break}n&&(r.push(t),r.push(e),this.size++)}};com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set;com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)};com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values;com.cognitect.transit.types.TransitMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t};com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone;com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()};com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return this.hashCode===-1&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode};com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(t){return com.cognitect.transit.types.mapEquals(this,t)};com.cognitect.transit.types.map=function(t,e,n){if(t=t||[],e=e===!1?e:!0,(n!==!0||!n)&&t.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(e){var r=t;for(t=[],e=0;e<r.length;e+=2){var o=!1;for(n=0;n<t.length;n+=2)if(com.cognitect.transit.eq.equals(t[n],r[e])){t[n+1]=r[e+1],o=!0;break}o||(t.push(r[e]),t.push(r[e+1]))}}return new com.cognitect.transit.types.TransitArrayMap(t)}r={},o=[];var i=0;for(e=0;e<t.length;e+=2){n=com.cognitect.transit.eq.hashCode(t[e]);var c=r[n];if(c==null)o.push(n),r[n]=[t[e],t[e+1]],i++;else{var s=!0;for(n=0;n<c.length;n+=2)if(com.cognitect.transit.eq.equals(c[n],t[e])){c[n+1]=t[e+1],s=!1;break}s&&(c.push(t[e]),c.push(t[e+1]),i++)}}return new com.cognitect.transit.types.TransitMap(o,r,i)};com.cognitect.transit.types.isArrayMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap};com.cognitect.transit.types.isMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap||t instanceof com.cognitect.transit.types.TransitMap};com.cognitect.transit.types.TransitSet=function(t){this.map=t,this.size=t.size};com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)};com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()};com.cognitect.transit.types.TransitSet.prototype.add=function(t){this.map.set(t,t),this.size=this.map.size};com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add;com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0};com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear;com.cognitect.transit.types.TransitSet.prototype.delete=function(t){return t=this.map.delete(t),this.size=this.map.size,t};com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()};com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries;com.cognitect.transit.types.TransitSet.prototype.forEach=function(t,e){var n=this;this.map.forEach(function(r,o,i){t(o,n)})};com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach;com.cognitect.transit.types.TransitSet.prototype.has=function(t){return this.map.has(t)};com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has;com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()};com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys;com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()};com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet;com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()};com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values;com.cognitect.transit.types.TransitSet.prototype.clone=function(){var t=com.cognitect.transit.types.set();return this.forEach(function(e){t.add(e)}),t};com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone;com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()};com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(t){if(t instanceof com.cognitect.transit.types.TransitSet){if(this.size===t.size)return com.cognitect.transit.eq.equals(this.map,t.map)}else return!1};com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(t){return com.cognitect.transit.eq.hashCode(this.map)};com.cognitect.transit.types.set=function(t){t=t||[];for(var e={},n=[],r=0,o=0;o<t.length;o++){var i=com.cognitect.transit.eq.hashCode(t[o]),c=e[i];if(c==null)n.push(i),e[i]=[t[o],t[o]],r++;else{i=!0;for(var s=0;s<c.length;s+=2)if(com.cognitect.transit.eq.equals(c[s],t[o])){i=!1;break}i&&(c.push(t[o]),c.push(t[o]),r++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(n,e,r))};com.cognitect.transit.types.isSet=function(t){return t instanceof com.cognitect.transit.types.TransitSet};com.cognitect.transit.types.quoted=function(t){return com.cognitect.transit.types.taggedValue("'",t)};com.cognitect.transit.types.isQuoted=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="'"};com.cognitect.transit.types.list=function(t){return com.cognitect.transit.types.taggedValue("list",t)};com.cognitect.transit.types.isList=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="list"};com.cognitect.transit.types.link=function(t){return com.cognitect.transit.types.taggedValue("link",t)};com.cognitect.transit.types.isLink=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&t.tag==="link"};com.cognitect.transit.types.specialDouble=function(t){switch(t){case"-INF":return-1/0;case"INF":return 1/0;case"NaN":return NaN;default:throw Error("Invalid special double value "+t)}};com.cognitect.transit.impl={};com.cognitect.transit.impl.decoder={};com.cognitect.transit.impl.decoder.Tag=function(t){this.str=t};com.cognitect.transit.impl.decoder.tag=function(t){return new com.cognitect.transit.impl.decoder.Tag(t)};com.cognitect.transit.impl.decoder.isTag=function(t){return t&&t instanceof com.cognitect.transit.impl.decoder.Tag};com.cognitect.transit.impl.decoder.isGroundHandler=function(t){switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1};com.cognitect.transit.impl.decoder.Decoder=function(t){this.options=t||{},this.handlers={};for(var e in this.defaults.handlers)this.handlers[e]=this.defaults.handlers[e];for(e in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(e))throw Error('Cannot override handler for ground type "'+e+'"');this.handlers[e]=this.options.handlers[e]}this.preferStrings=this.options.preferStrings!=null?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=this.options.preferBuffers!=null?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder};com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(t,e){return com.cognitect.transit.types.nullValue()},"?":function(t,e){return com.cognitect.transit.types.boolValue(t)},b:function(t,e){return com.cognitect.transit.types.binary(t,e)},i:function(t,e){return com.cognitect.transit.types.intValue(t)},n:function(t,e){return com.cognitect.transit.types.bigInteger(t)},d:function(t,e){return com.cognitect.transit.types.floatValue(t)},f:function(t,e){return com.cognitect.transit.types.bigDecimalValue(t)},c:function(t,e){return com.cognitect.transit.types.charValue(t)},":":function(t,e){return com.cognitect.transit.types.keyword(t)},$:function(t,e){return com.cognitect.transit.types.symbol(t)},r:function(t,e){return com.cognitect.transit.types.uri(t)},z:function(t,e){return com.cognitect.transit.types.specialDouble(t)},"'":function(t,e){return t},m:function(t,e){return com.cognitect.transit.types.date(t)},t:function(t,e){return com.cognitect.transit.types.verboseDate(t)},u:function(t,e){return com.cognitect.transit.types.uuid(t)},set:function(t,e){return com.cognitect.transit.types.set(t)},list:function(t,e){return com.cognitect.transit.types.list(t)},link:function(t,e){return com.cognitect.transit.types.link(t)},cmap:function(t,e){return com.cognitect.transit.types.map(t,!1)}},defaultHandler:function(t,e){return com.cognitect.transit.types.taggedValue(t,e)},preferStrings:!0,preferBuffers:!0};com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(t,e,n,r){if(t==null)return null;switch(typeof t){case"string":return this.decodeString(t,e,n,r);case"object":return com.cognitect.transit.util.isArray(t)?t[0]==="^ "?this.decodeArrayHash(t,e,n,r):this.decodeArray(t,e,n,r):this.decodeHash(t,e,n,r)}return t};com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode;com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(t,e,n,r){return com.cognitect.transit.caching.isCacheable(t,n)?(t=this.parseString(t,e,!1),e&&e.write(t,n),t):com.cognitect.transit.caching.isCacheCode(t)?e.read(t,n):this.parseString(t,e,n)};com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(t,e,n,r){n=com.cognitect.transit.util.objectKeys(t);var o=n[0];if(r=n.length==1?this.decode(o,e,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(r))return t=t[o],n=this.handlers[r.str],n!=null?n(this.decode(t,e,!1,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(t,e,!1,!1));if(this.mapBuilder){if(n.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var i=[];for(r=0;r<n.length;r++)o=n[r],i.push(this.decode(o,e,!0,!1)),i.push(this.decode(t[o],e,!1,!1));return this.mapBuilder.fromArray(i,t)}for(i=this.mapBuilder.init(t),r=0;r<n.length;r++)o=n[r],i=this.mapBuilder.add(i,this.decode(o,e,!0,!1),this.decode(t[o],e,!1,!1),t);return this.mapBuilder.finalize(i,t)}for(i=[],r=0;r<n.length;r++)o=n[r],i.push(this.decode(o,e,!0,!1)),i.push(this.decode(t[o],e,!1,!1));return com.cognitect.transit.types.map(i,!1)};com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(t,e,n,r){if(this.mapBuilder){if(t.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return this.mapBuilder.fromArray(r,t)}for(r=this.mapBuilder.init(t),n=1;n<t.length;n+=2)r=this.mapBuilder.add(r,this.decode(t[n],e,!0,!1),this.decode(t[n+1],e,!1,!1),t);return this.mapBuilder.finalize(r,t)}for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return com.cognitect.transit.types.map(r,!1)};com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(t,e,n,r){if(r){var o=[];for(r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o}if(o=e&&e.idx,t.length===2&&typeof t[0]=="string"&&(r=this.decode(t[0],e,!1,!1),com.cognitect.transit.impl.decoder.isTag(r)))return t=t[1],o=this.handlers[r.str],o!=null?o=o(this.decode(t,e,n,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(t,e,n,!1));if(e&&o!=e.idx&&(e.idx=o),this.arrayBuilder){if(32>=t.length&&this.arrayBuilder.fromArray){for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return this.arrayBuilder.fromArray(o,t)}for(o=this.arrayBuilder.init(t),r=0;r<t.length;r++)o=this.arrayBuilder.add(o,this.decode(t[r],e,n,!1),t);return this.arrayBuilder.finalize(o,t)}for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o};com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(t,e,n){return t.charAt(0)===com.cognitect.transit.delimiters.ESC?(e=t.charAt(1),e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?t.substring(1):e===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(t.substring(2)):(n=this.handlers[e],n==null?this.defaultHandler(e,t.substring(2)):n(t.substring(2),this))):t};com.cognitect.transit.impl.decoder.decoder=function(t){return new com.cognitect.transit.impl.decoder.Decoder(t)};com.cognitect.transit.impl.reader={};com.cognitect.transit.impl.reader.JSONUnmarshaller=function(t){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(t)};com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(t,e){return this.decoder.decode(JSON.parse(t),e)};com.cognitect.transit.impl.reader.Reader=function(t,e){this.unmarshaller=t,this.options=e||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache};com.cognitect.transit.impl.reader.Reader.prototype.read=function(t){return t=this.unmarshaller.unmarshal(t,this.cache),this.cache.clear(),t};com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read;com.cognitect.transit.handlers={};com.cognitect.transit.handlers.ctorGuid=0;com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID();com.cognitect.transit.handlers.typeTag=function(t){if(t==null)return"null";if(t===String)return"string";if(t===Boolean)return"boolean";if(t===Number)return"number";if(t===Array)return"array";if(t===Object)return"map";var e=t[com.cognitect.transit.handlers.ctorGuidProperty];return e==null&&(typeof Object.defineProperty<"u"?(e=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(t,com.cognitect.transit.handlers.ctorGuidProperty,{value:e,enumerable:!1})):t[com.cognitect.transit.handlers.ctorGuidProperty]=e=++com.cognitect.transit.handlers.ctorGuid),e};com.cognitect.transit.handlers.constructor=function(t){return t==null?null:t.constructor};com.cognitect.transit.handlers.padZeros=function(t,e){t=t.toString();for(var n=t.length;n<e;n++)t="0"+t;return t};com.cognitect.transit.handlers.stringableKeys=function(t){t=com.cognitect.transit.util.objectKeys(t);for(var e=0;e<t.length;e++);return!0};com.cognitect.transit.handlers.NilHandler=function(){};com.cognitect.transit.handlers.NilHandler.prototype.tag=function(t){return"_"};com.cognitect.transit.handlers.NilHandler.prototype.rep=function(t){return null};com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(t){return"null"};com.cognitect.transit.handlers.StringHandler=function(){};com.cognitect.transit.handlers.StringHandler.prototype.tag=function(t){return"s"};com.cognitect.transit.handlers.StringHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(t){return t};com.cognitect.transit.handlers.NumberHandler=function(){};com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(t){return"i"};com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(t){return t.toString()};com.cognitect.transit.handlers.IntegerHandler=function(){};com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(t){return"i"};com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(t){return t.toString()};com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(t){return t.toString()};com.cognitect.transit.handlers.BooleanHandler=function(){};com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(t){return"?"};com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(t){return t.toString()};com.cognitect.transit.handlers.ArrayHandler=function(){};com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(t){return"array"};com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(t){return null};com.cognitect.transit.handlers.MapHandler=function(){};com.cognitect.transit.handlers.MapHandler.prototype.tag=function(t){return"map"};com.cognitect.transit.handlers.MapHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(t){return null};com.cognitect.transit.handlers.VerboseDateHandler=function(){};com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(t){return"t"};com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(t){return t.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(t.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(t.getUTCMilliseconds(),3)+"Z"};com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(t,e){return e.rep(t)};com.cognitect.transit.handlers.DateHandler=function(){};com.cognitect.transit.handlers.DateHandler.prototype.tag=function(t){return"m"};com.cognitect.transit.handlers.DateHandler.prototype.rep=function(t){return t.valueOf()};com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(t){return t.valueOf().toString()};com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(t){return new com.cognitect.transit.handlers.VerboseDateHandler};com.cognitect.transit.handlers.UUIDHandler=function(){};com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(t){return"u"};com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(t){return t.toString()};com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(t){return t.toString()};com.cognitect.transit.handlers.KeywordHandler=function(){};com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(t){return":"};com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(t){return t._name};com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(t,e){return e.rep(t)};com.cognitect.transit.handlers.SymbolHandler=function(){};com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(t){return"$"};com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(t){return t._name};com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(t,e){return e.rep(t)};com.cognitect.transit.handlers.TaggedHandler=function(){};com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(t){return t.tag};com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(t){return t.rep};com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.TransitSetHandler=function(){};com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(t){return"set"};com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(t){var e=[];return t.forEach(function(n,r){e.push(n)}),com.cognitect.transit.types.taggedValue("array",e)};com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.TransitArrayMapHandler=function(){};com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(t){return"map"};com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.TransitMapHandler=function(){};com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(t){return"map"};com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(t){return t};com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.BufferHandler=function(){};com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(t){return"b"};com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(t){return t.toString("base64")};com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.Uint8ArrayHandler=function(){};com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(t){return"b"};com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(t){return com.cognitect.transit.util.Uint8ToBase64(t)};com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(t,e){return null};com.cognitect.transit.handlers.defaultHandlers=function(t){return t.set(null,new com.cognitect.transit.handlers.NilHandler),t.set(String,new com.cognitect.transit.handlers.StringHandler),t.set(Number,new com.cognitect.transit.handlers.NumberHandler),t.set(module$contents$goog$math$Long_Long,new com.cognitect.transit.handlers.IntegerHandler),t.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),t.set(Array,new com.cognitect.transit.handlers.ArrayHandler),t.set(Object,new com.cognitect.transit.handlers.MapHandler),t.set(Date,new com.cognitect.transit.handlers.DateHandler),t.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),t.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),t.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),t.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),t.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),t.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),t.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),typeof goog.global.Buffer<"u"&&t.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),typeof Uint8Array<"u"&&t.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),t};com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)};com.cognitect.transit.handlers.Handlers.prototype.get=function(t){return t=typeof t=="string"?this.handlers[t]:this.handlers[com.cognitect.transit.handlers.typeTag(t)],t??this.handlers.default};com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get;com.cognitect.transit.handlers.validTag=function(t){switch(t){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0};com.cognitect.transit.handlers.Handlers.prototype.set=function(t,e){typeof t=="string"&&com.cognitect.transit.handlers.validTag(t)?this.handlers[t]=e:this.handlers[com.cognitect.transit.handlers.typeTag(t)]=e};com.cognitect.transit.impl.writer={};com.cognitect.transit.impl.writer.escape=function(t){if(0<t.length){var e=t.charAt(0);return e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+t:t}return t};com.cognitect.transit.impl.writer.JSONMarshaller=function(t){if(this.opts=t||{},this.preferStrings=this.opts.preferStrings!=null?this.opts.preferStrings:!0,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,t=this.opts.handlers){if(com.cognitect.transit.util.isArray(t)||!t.forEach)throw Error('transit writer "handlers" option must be a map');var e=this;t.forEach(function(n,r){if(r!==void 0)e.handlers.set(r,n);else throw Error("Cannot create handler for JavaScript undefined")})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(n){return com.cognitect.transit.types.isArrayMap(n)&&n.backingMap===null?n._entries:!1},this.verbose=this.opts&&this.opts.verbose||!1};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(t){var e=this.handlers.get(com.cognitect.transit.handlers.constructor(t));return e??((t=t&&t.transitTag)?this.handlers.get(t):null)};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(t,e){this.handlers.set(t,e)};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(t,e){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",t,e):null};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(t,e,n,r,o){return t=t+e+n,o?o.write(t,r):t};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(t,e,n){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"?",t.toString()[0],e,n):t};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(t,e,n){return t===1/0?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",e,n):t===-1/0?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",e,n):isNaN(t)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",e,n):e||typeof t=="string"||t instanceof module$contents$goog$math$Long_Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",t.toString(),e,n):t};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(t,e,n){return e?this.emitString(t.ESC,"d",t,e,n):t};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(t,e,n){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",t,e,n)};com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(t,e,n){if(t.verbose){t={};var r=this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n);return t[r]=com.cognitect.transit.impl.writer.marshal(this,e,!1,n),t}return[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n),com.cognitect.transit.impl.writer.marshal(this,e,!1,n)]};com.cognitect.transit.impl.writer.emitObjects=function(t,e,n){var r=[];if(com.cognitect.transit.util.isArray(e))for(var o=0;o<e.length;o++)r.push(com.cognitect.transit.impl.writer.marshal(t,e[o],!1,n));else e.forEach(function(i,c){r.push(com.cognitect.transit.impl.writer.marshal(t,i,!1,n))});return r};com.cognitect.transit.impl.writer.emitArray=function(t,e,n,r){return com.cognitect.transit.impl.writer.emitObjects(t,e,r)};com.cognitect.transit.impl.writer.isStringableKey=function(t,e){return typeof e!="string"?(t=t.handler(e))&&t.tag(e).length===1:!0};com.cognitect.transit.impl.writer.stringableKeys=function(t,e){var n=t.unpack(e),r=!0;if(n){for(e=0;e<n.length&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,n[e]),r);e+=2);return r}if(e.keys){n=e.keys();var o=null;if(n.next){for(o=n.next();!o.done&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,o.value),!!r);)o=n.next();return r}}if(e.forEach)return e.forEach(function(i,c){r=r&&com.cognitect.transit.impl.writer.isStringableKey(t,c)}),r;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(e).name)};com.cognitect.transit.impl.writer.isForeignObject=function(t){if(t.constructor.transit$isObject)return!0;var e=t.constructor.toString();return e=e.substr(9),e=e.substr(0,e.indexOf("(")),e=e=="Object",typeof Object.defineProperty<"u"?Object.defineProperty(t.constructor,"transit$isObject",{value:e,enumerable:!1}):t.constructor.transit$isObject=e,e};com.cognitect.transit.impl.writer.emitMap=function(t,e,n,r){var o=null,i=null,c=null;if(o=null,n=0,e.constructor===Object||e.forEach!=null||t.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(e)){if(t.verbose){if(e.forEach!=null)if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){var s={};e.forEach(function(u,g){s[com.cognitect.transit.impl.writer.marshal(t,g,!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,u,!1,r)})}else{if(o=t.unpack(e),i=[],c=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(u,g){i.push(com.cognitect.transit.impl.writer.marshal(t,g,!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,u,!1,r))});s={},s[c]=i}else for(o=com.cognitect.transit.util.objectKeys(e),s={};n<o.length;n++)s[com.cognitect.transit.impl.writer.marshal(t,o[n],!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r);return s}if(e.forEach!=null){if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){if(o=t.unpack(e),s=["^ "],o)for(;n<o.length;n+=2)s.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(u,g){s.push(com.cognitect.transit.impl.writer.marshal(t,g,!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,u,!1,r))});return s}if(o=t.unpack(e),i=[],c=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(u,g){i.push(com.cognitect.transit.impl.writer.marshal(t,g,!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,u,!1,r))});return[c,i]}for(s=["^ "],o=com.cognitect.transit.util.objectKeys(e);n<o.length;n++)s.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r));return s}if(t.objectBuilder!=null)return t.objectBuilder(e,function(u){return com.cognitect.transit.impl.writer.marshal(t,u,!0,r)},function(u){return com.cognitect.transit.impl.writer.marshal(t,u,!1,r)});throw n=com.cognitect.transit.handlers.constructor(e).name,o=Error("Cannot write "+n),o.data={obj:e,type:n},o};com.cognitect.transit.impl.writer.emitTaggedMap=function(t,e,n,r,o){return t.verbose?(r={},r[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o)]=com.cognitect.transit.impl.writer.marshal(t,n,!1,o),r):[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o),com.cognitect.transit.impl.writer.marshal(t,n,!1,o)]};com.cognitect.transit.impl.writer.emitEncoded=function(t,e,n,r,o,i,c){if(n.length===1){if(typeof r=="string")return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,c);if(i||t.preferStrings){if((r=t.verbose&&e.getVerboseHandler())?(n=r.tag(o),r=r.stringRep(o,r)):r=e.stringRep(o,e),r!==null)return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,c);throw t=Error('Tag "'+n+'" cannot be encoded as string'),t.data={tag:n,rep:r,obj:o},t}}return com.cognitect.transit.impl.writer.emitTaggedMap(t,n,r,i,c)};com.cognitect.transit.impl.writer.marshal=function(t,e,n,r){t.transform!==null&&(e=t.transform(e));var o=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),i=o?o.tag(e):null,c=o?o.rep(e):null;if(o!=null&&i!=null)switch(i){case"_":return t.emitNil(n,r);case"s":return t.emitString("","",com.cognitect.transit.impl.writer.escape(c),n,r);case"?":return t.emitBoolean(c,n,r);case"i":return t.emitInteger(c,n,r);case"d":return t.emitDouble(c,n,r);case"b":return t.emitBinary(c,n,r);case"'":return t.emitQuoted(t,c,r);case"array":return com.cognitect.transit.impl.writer.emitArray(t,c,n,r);case"map":return com.cognitect.transit.impl.writer.emitMap(t,c,n,r);default:return com.cognitect.transit.impl.writer.emitEncoded(t,o,i,c,e,n,r)}else throw t=com.cognitect.transit.handlers.constructor(e).name,n=Error("Cannot write "+t),n.data={obj:e,type:t},n};com.cognitect.transit.impl.writer.maybeQuoted=function(t,e){if(t=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),t!=null)return t.tag(e).length===1?com.cognitect.transit.types.quoted(e):e;t=com.cognitect.transit.handlers.constructor(e).name;var n=Error("Cannot write "+t);throw n.data={obj:e,type:t},n};com.cognitect.transit.impl.writer.marshalTop=function(t,e,n,r){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(t,com.cognitect.transit.impl.writer.maybeQuoted(t,e),n,r))};com.cognitect.transit.impl.writer.Writer=function(t,e){this._marshaller=t,this.options=e||{},this.cache=this.options.cache===!1?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache};com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller};com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller;com.cognitect.transit.impl.writer.Writer.prototype.write=function(t,e){e=e||{};var n=e.asMapKey||!1,r=this._marshaller.verbose?!1:this.cache;return t=e.marshalTop===!1?com.cognitect.transit.impl.writer.marshal(this._marshaller,t,n,r):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,t,n,r),this.cache!=null&&this.cache.clear(),t};com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write;com.cognitect.transit.impl.writer.Writer.prototype.register=function(t,e){this._marshaller.registerHandler(t,e)};com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;com.cognitect.transit.reader=function(t,e){if(t==="json"||t==="json-verbose"||t==null)return t=new com.cognitect.transit.impl.reader.JSONUnmarshaller(e),new com.cognitect.transit.impl.reader.Reader(t,e);throw Error("Cannot create reader of type "+t)};com.cognitect.transit.writer=function(t,e){if(t==="json"||t==="json-verbose"||t==null)return t==="json-verbose"&&(e==null&&(e={}),e.verbose=!0),t=new com.cognitect.transit.impl.writer.JSONMarshaller(e),new com.cognitect.transit.impl.writer.Writer(t,e);throw e=Error('Type must be "json"'),e.data={type:t},e};com.cognitect.transit.makeWriteHandler=function(t){var e=function(){};return e.prototype.tag=t.tag,e.prototype.rep=t.rep,e.prototype.stringRep=t.stringRep,e.prototype.getVerboseHandler=t.getVerboseHandler,new e};com.cognitect.transit.makeBuilder=function(t){var e=function(){};return e.prototype.init=t.init,e.prototype.add=t.add,e.prototype.finalize=t.finalize,e.prototype.fromArray=t.fromArray,new e};com.cognitect.transit.date=com.cognitect.transit.types.date;com.cognitect.transit.integer=com.cognitect.transit.types.intValue;com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger;com.cognitect.transit.uuid=com.cognitect.transit.types.uuid;com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID;com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger;com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger;com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue;com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal;com.cognitect.transit.keyword=com.cognitect.transit.types.keyword;com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword;com.cognitect.transit.symbol=com.cognitect.transit.types.symbol;com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol;com.cognitect.transit.binary=com.cognitect.transit.types.binary;com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary;com.cognitect.transit.uri=com.cognitect.transit.types.uri;com.cognitect.transit.isURI=com.cognitect.transit.types.isURI;com.cognitect.transit.map=com.cognitect.transit.types.map;com.cognitect.transit.isMap=com.cognitect.transit.types.isMap;com.cognitect.transit.set=com.cognitect.transit.types.set;com.cognitect.transit.isSet=com.cognitect.transit.types.isSet;com.cognitect.transit.list=com.cognitect.transit.types.list;com.cognitect.transit.isList=com.cognitect.transit.types.isList;com.cognitect.transit.quoted=com.cognitect.transit.types.quoted;com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted;com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue;com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue;com.cognitect.transit.link=com.cognitect.transit.types.link;com.cognitect.transit.isLink=com.cognitect.transit.types.isLink;com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode;com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike;com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike;com.cognitect.transit.equals=com.cognitect.transit.eq.equals;com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ;com.cognitect.transit.mapToObject=function(t){var e={};return t.forEach(function(n,r){if(typeof r!="string")throw Error("Cannot convert map with non-string keys");e[r]=n}),e};com.cognitect.transit.objectToMap=function(t){var e=com.cognitect.transit.map(),n;for(n in t)t.hasOwnProperty(n)&&e.set(n,t[n]);return e};com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder;com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache;com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache;com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString;com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID;com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys;transit.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache};var transitExports=transit.exports;const transitJs=getDefaultExportFromCjs(transitExports);function err(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var err_1=err,Recoil_err=err_1;function lazyProxy(t,e){return new Proxy(t,{get:(r,o)=>(!(o in r)&&o in e&&(r[o]=e[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var Recoil_lazyProxy=lazyProxy;function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}const{DefaultValue,RecoilLoadable,useRecoilSnapshot,useRecoilStoreID,useRecoilTransaction_UNSTABLE}=Recoil_index,{useCallback,useEffect,useRef}=react,DEFAULT_VALUE=new DefaultValue;function setIntersectsMap(t,e){if(t.size<=e.size){for(const n of t)if(e.has(n))return!0}else for(const n of e.keys())if(t.has(n))return!0;return!1}class Registries{constructor(){_defineProperty(this,"atomRegistries",new Map),_defineProperty(this,"nextEffectKey",0),_defineProperty(this,"storageRegistries",new Map)}getAtomRegistry(e,n){this.atomRegistries.has(e)||this.atomRegistries.set(e,new Map);const r=this.atomRegistries.get(e),o=r?.get(n);if(o!=null)return o;const i=new Map;return r?.set(n,i),i}setAtomEffect(e,n,r,o){var i;const c=this.getAtomRegistry(e,n);c.has(r.key)||c.set(r.key,{atom:r,effects:new Map});const s=this.nextEffectKey++,u={options:o,subscribedItemKeys:new Set([o.itemKey])};return(i=c.get(r.key))===null||i===void 0||i.effects.set(s,u),{effectRegistration:u,unregisterEffect:()=>{var g;return void((g=c.get(r.key))===null||g===void 0?void 0:g.effects.delete(s))}}}getStorage(e,n){var r;return(r=this.storageRegistries.get(e))===null||r===void 0?void 0:r.get(n)}setStorage(e,n,r){var o;return this.storageRegistries.has(e)||this.storageRegistries.set(e,new Map),(o=this.storageRegistries.get(e))===null||o===void 0||o.set(n,r),()=>{var i;return void((i=this.storageRegistries.get(e))===null||i===void 0?void 0:i.delete(n))}}}const registries=new Registries;function validateLoadable(t,{refine:e,actionOnFailure_UNSTABLE:n}){return RecoilLoadable.of(t).map(r=>{if(r instanceof DefaultValue)return r;const o=e(r);if(o.type==="success")return o.value;if(n==="defaultValue")return new DefaultValue;throw Recoil_err(`[${o.path.toString()}]: ${o.message}`)})}function readAtomItems(t,e,n){const{options:r}=t,o=e??(s=>RecoilLoadable.error(`Read functionality not provided for ${r.storeKey!=null?`"${r.storeKey}" `:""}store in useRecoilSync() hook while updating item "${s}".`));t.subscribedItemKeys=new Set;const i=s=>{t.subscribedItemKeys.add(s);const u=n!=null&&n.has(s)?n?.get(s):o(s);if(RecoilLoadable.isLoadable(u)){const g=u;if(g.state==="hasError")throw g.contents}return u};let c;try{c=r.read({read:i})}catch(s){return RecoilLoadable.error(s)}return c instanceof DefaultValue?null:validateLoadable(c,r)}function writeAtomItemsToDiff(t,e,n,r){if(r!=null&&r?.state!=="hasValue")return t;const o=n??(u=>{throw Recoil_err(`Read functionality not provided for ${e.storeKey!=null?`"${e.storeKey}" `:""}store in useRecoilSync() hook while writing item "${e.itemKey}".`)}),i=u=>t.has(u)?t.get(u):o(u),c=(u,g)=>void t.set(u,g),s=u=>void t.set(u,DEFAULT_VALUE);return e.write({write:c,reset:s,read:i},r==null?DEFAULT_VALUE:r.contents),t}const itemsFromSnapshot=(t,e,n)=>{const r=new Map;for(const[,{atom:i,effects:c}]of registries.getAtomRegistry(t,e))for(const[,{options:s}]of c){var o;const u=n(i);writeAtomItemsToDiff(r,s,(o=registries.getStorage(t,e))===null||o===void 0?void 0:o.read,u.isSet||s.syncDefault===!0?u.loadable:null)}return r};function getWriteInterface(t,e,n,r){return Recoil_lazyProxy({diff:n},{allItems:()=>itemsFromSnapshot(t,e,r)})}function useRecoilSync({storeKey:t,write:e,read:n,listen:r}){const o=useRecoilStoreID(),i=useRecoilSnapshot(),c=useRef(i);useEffect(()=>{if(e!=null&&i!==c.current){c.current=i;const _=new Map,m=registries.getAtomRegistry(o,t),$=i.getNodes_UNSTABLE({isModified:!0});for(const y of $){const d=m.get(y.key);if(d!=null){var l,p,h;const f=i.getInfo_UNSTABLE(d.atom);if(f.isSet&&((l=f.loadable)===null||l===void 0?void 0:l.contents)!==((p=d.pendingUpdate)===null||p===void 0?void 0:p.value)||!f.isSet&&!(((h=d.pendingUpdate)===null||h===void 0?void 0:h.value)instanceof DefaultValue))for(const[,{options:S}]of d.effects)writeAtomItemsToDiff(_,S,n,f.isSet||S.syncDefault===!0?f.loadable:null);delete d.pendingUpdate}}_.size&&e(getWriteInterface(o,t,_,i.getInfo_UNSTABLE))}},[n,o,i,t,e]);const s=useRecoilTransaction_UNSTABLE(({set:l,reset:p})=>h=>{const _=registries.getAtomRegistry(o,t);for(const[,m]of _)for(const[,$]of Array.from(m.effects).reverse()){const{options:y,subscribedItemKeys:d}=$;if(setIntersectsMap(d,h)){const f=readAtomItems($,n,h);if(f!=null){switch(f.state){case"hasValue":f.contents instanceof DefaultValue?(m.pendingUpdate={value:DEFAULT_VALUE},p(m.atom)):(m.pendingUpdate={value:f.contents},l(m.atom,f.contents));break;case"hasError":y.actionOnFailure_UNSTABLE==="errorState"&&(m.pendingUpdate={value:DEFAULT_VALUE},p(m.atom));break;case"loading":throw Recoil_err("Recoil does not yet support setting atoms to an asynchronous state")}break}else m.pendingUpdate={value:DEFAULT_VALUE},p(m.atom)}}},[o,t,n]),u=useCallback((l,p)=>{s(new Map([[l,p]]))},[s]),g=useCallback(l=>{const p=registries.getAtomRegistry(o,t);for(const[,h]of p)for(const[,{subscribedItemKeys:_}]of h.effects)for(const m of _)l.has(m)||l.set(m,DEFAULT_VALUE);s(l)},[o,t,s]);useEffect(()=>r?.({updateItem:u,updateItems:s,updateAllKnownItems:g}),[u,s,g,r]),registries.setStorage(o,t,{write:e,read:n}),useEffect(()=>registries.setStorage(o,t,{write:e,read:n}),[o,t,n,e])}function RecoilSync({children:t,...e}){return useRecoilSync(e),t}function syncEffect(t){return({node:e,trigger:n,storeID:r,setSelf:o,getLoadable:i,getInfo_UNSTABLE:c})=>{var s;const u=(s=t.itemKey)!==null&&s!==void 0?s:e.key,g={itemKey:u,read:({read:m})=>m(u),write:({write:m},$)=>m(u,$),syncDefault:!1,actionOnFailure_UNSTABLE:"errorState",...t},{storeKey:l}=g,p=registries.getStorage(r,l),{effectRegistration:h,unregisterEffect:_}=registries.setAtomEffect(r,l,e,g);if(n==="get"){const m=p?.read;if(m!=null)try{const y=readAtomItems(h,m);if(y!=null)switch(y.state){case"hasValue":y.contents instanceof DefaultValue||o(y.contents);break;case"hasError":if(g.actionOnFailure_UNSTABLE==="errorState")throw y.contents;break;case"loading":o(y.toPromise());break}}catch(y){if(g.actionOnFailure_UNSTABLE==="errorState")throw y}const $=p?.write;g.syncDefault===!0&&$!=null&&window.setTimeout(()=>{const y=i(e);if(y.state==="hasValue"){const d=writeAtomItemsToDiff(new Map,g,p?.read,y);$(getWriteInterface(r,l,d,c))}},0)}return _}}var RecoilSync_1={useRecoilSync,RecoilSync,syncEffect,registries_FOR_TESTING:registries},RecoilSync_2=RecoilSync_1.useRecoilSync,RecoilSync_3=RecoilSync_1.RecoilSync,RecoilSync_4=RecoilSync_1.syncEffect,RecoilSync_5=RecoilSync_1.registries_FOR_TESTING,RecoilSync$1=Object.freeze({__proto__:null,useRecoilSync:RecoilSync_2,RecoilSync:RecoilSync_3,syncEffect:RecoilSync_4,registries_FOR_TESTING:RecoilSync_5});function raiseError(t,e){if(e!=null){const n=e.path.toString(),r=e.message;throw Recoil_err(`[refine.js (path=${n}, message=${r})]: ${t}`)}throw Recoil_err(`[refine.js (null result)]: ${t}`)}function assertion(t,e="assertion error"){return n=>{const r=t(n);return r.type==="success"?r.value:raiseError(e,r)}}function coercion(t,e){return n=>{const r=t(n);return e?.(r),r.type==="success"?r.value:null}}var Refine_API={assertion,coercion};class Path{constructor(e=null,n="<root>"){_defineProperty(this,"parent",void 0),_defineProperty(this,"field",void 0),this.parent=e,this.field=n}extend(e){return new Path(this,e)}toString(){const e=[];let n=this;for(;n!=null;){const{field:r,parent:o}=n;e.push(r),n=o}return e.reverse().join("")}}function success(t,e){return{type:"success",value:t,warnings:e}}function failure(t,e){return{type:"failure",message:t,path:e}}function compose(t,e){return(n,r=new Path)=>{const o=t(n,r);return o.type==="failure"?o:e(o,r)}}var Refine_Checkers={Path,success,failure,compose},Refine_Checkers_1=Refine_Checkers.Path,Refine_Checkers_2=Refine_Checkers.success,Refine_Checkers_3=Refine_Checkers.failure,Refine_Checkers_4=Refine_Checkers.compose,Refine_Checkers$1=Object.freeze({__proto__:null,Path:Refine_Checkers_1,success:Refine_Checkers_2,failure:Refine_Checkers_3,compose:Refine_Checkers_4});const{Path:Path$1,compose:compose$1,failure:failure$1,success:success$1}=Refine_Checkers$1;function isPlainObject(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function array(t){return(e,n=new Path$1)=>{if(!Array.isArray(e))return failure$1("value is not an array",n);const r=e.length,o=new Array(r),i=[];for(let c=0;c<r;c++){const s=e[c],u=t(s,n.extend(`[${c}]`));if(u.type==="failure")return failure$1(u.message,u.path);o[c]=u.value,u.warnings.length!==0&&i.push(...u.warnings)}return success$1(o,i)}}function tuple(...t){return(e,n=new Path$1)=>{if(!Array.isArray(e))return failure$1("value is not an array",n);const r=new Array(t.length),o=[];for(const[i,c]of t.entries()){const s=c(e[i],n.extend(`[${i}]`));if(s.type==="failure")return failure$1(s.message,s.path);r[i]=s.value,s.warnings.length!==0&&o.push(...s.warnings)}return success$1(r,o)}}function dict(t){return(e,n=new Path$1)=>{if(typeof e!="object"||e===null||!isPlainObject(e))return failure$1("value is not an object",n);const r={},o=[];for(const[i,c]of Object.entries(e)){const s=t(c,n.extend(`.${i}`));if(s.type==="failure")return failure$1(s.message,s.path);r[i]=s.value,s.warnings.length!==0&&o.push(...s.warnings)}return success$1(r,o)}}class OptionalProperty{constructor(e){_defineProperty(this,"checker",void 0),this.checker=e}}function optional(t){return new OptionalProperty((e,n=new Path$1)=>{const r=t(e,n);return r.type==="failure"?{...r,message:"(optional property) "+r.message}:r})}function object(t){const e=Object.keys(t);return(n,r=new Path$1)=>{if(typeof n!="object"||n===null||!isPlainObject(n))return failure$1("value is not an object",r);const o={},i=[];for(const c of e){const s=t[c];let u,g;if(s instanceof OptionalProperty){if(u=s.checker,!n.hasOwnProperty(c))continue;g=n[c]}else u=s,g=n.hasOwnProperty(c)?n[c]:void 0;const l=u(g,r.extend(`.${c}`));if(l.type==="failure")return failure$1(l.message,l.path);o[c]=l.value,l.warnings.length!==0&&i.push(...l.warnings)}return success$1(o,i)}}function set(t){return(e,n=new Path$1)=>{if(!(e instanceof Set))return failure$1("value is not a Set",n);const r=new Set,o=[];for(const i of e){const c=t(i,n.extend("[]"));if(c.type==="failure")return failure$1(c.message,c.path);r.add(c.value),c.warnings.length&&o.push(...c.warnings)}return success$1(r,o)}}function map(t,e){return(n,r=new Path$1)=>{if(!(n instanceof Map))return failure$1("value is not a Map",r);const o=new Map,i=[];for(const[c,s]of n.entries()){const u=t(c,r.extend(`[${c}] key`));if(u.type==="failure")return failure$1(u.message,u.path);const g=e(s,r.extend(`[${c}]`));if(g.type==="failure")return failure$1(g.message,g.path);o.set(c,s),i.push(...u.warnings,...g.warnings)}return success$1(o,i)}}function writableArray(t){return compose$1(array(t),({value:e,warnings:n})=>success$1([...e],n))}function writableDict(t){return compose$1(dict(t),({value:e,warnings:n})=>success$1({...e},n))}function writableObject(t){return compose$1(object(t),({value:e,warnings:n})=>success$1({...e},n))}var Refine_ContainerCheckers={array,tuple,object,optional,dict,set,map,writableArray,writableDict,writableObject},Refine_ContainerCheckers_1=Refine_ContainerCheckers.array,Refine_ContainerCheckers_2=Refine_ContainerCheckers.tuple,Refine_ContainerCheckers_3=Refine_ContainerCheckers.object,Refine_ContainerCheckers_4=Refine_ContainerCheckers.optional,Refine_ContainerCheckers_5=Refine_ContainerCheckers.dict,Refine_ContainerCheckers_6=Refine_ContainerCheckers.set,Refine_ContainerCheckers_7=Refine_ContainerCheckers.map,Refine_ContainerCheckers_8=Refine_ContainerCheckers.writableArray,Refine_ContainerCheckers_9=Refine_ContainerCheckers.writableDict,Refine_ContainerCheckers_10=Refine_ContainerCheckers.writableObject,Refine_ContainerCheckers$1=Object.freeze({__proto__:null,array:Refine_ContainerCheckers_1,tuple:Refine_ContainerCheckers_2,object:Refine_ContainerCheckers_3,optional:Refine_ContainerCheckers_4,dict:Refine_ContainerCheckers_5,set:Refine_ContainerCheckers_6,map:Refine_ContainerCheckers_7,writableArray:Refine_ContainerCheckers_8,writableDict:Refine_ContainerCheckers_9,writableObject:Refine_ContainerCheckers_10});const{assertion:assertion$1}=Refine_API;function tryParseJSONMixed(t,e){if(t==null)return null;try{return JSON.parse(t,e)}catch{return null}}function jsonParserEnforced(t,e){const n=assertion$1(t,e??"value is invalid");return r=>n(tryParseJSONMixed(r??""))}function jsonParser(t){return e=>{const n=t(tryParseJSONMixed(e));return n.type==="success"?n.value:null}}var Refine_JSON={jsonParserEnforced,jsonParser};const{Path:Path$2,compose:compose$2,failure:failure$2,success:success$2}=Refine_Checkers$1;function mixed(){return MIXED_CHECKER}const MIXED_CHECKER=t=>success$2(t,[]);function literal(t){const e=n=>JSON.stringify(n);return(n,r=new Path$2)=>{var o;return n===t?success$2(t,[]):failure$2(`value is not literal ${(o=e(t))!==null&&o!==void 0?o:"void"}`,r)}}function bool(){return(t,e=new Path$2)=>typeof t=="boolean"?success$2(t,[]):failure$2("value is not a boolean",e)}function number(){return(t,e=new Path$2)=>typeof t=="number"?success$2(t,[]):failure$2("value is not a number",e)}function string(t){return(e,n=new Path$2)=>typeof e!="string"?failure$2("value is not a string",n):t!=null&&!t.test(e)?failure$2(`value does not match regex: ${t.toString()}`,n):success$2(e,[])}function stringLiterals(t){return(e,n=new Path$2)=>{if(typeof e!="string")return failure$2("value must be a string",n);const r=t[e];return r==null?failure$2(`value is not one of ${Object.keys(t).join(", ")}`,n):success$2(r,[])}}function enumObject(t){const e=Object.keys(t).reduce((r,o)=>Object.assign(r,{[t[o]]:t[o]}),{}),n=stringLiterals(e);return(r,o=new Path$2)=>{const i=typeof r=="number"?r.toString():r,c=n(i,o);return c.type==="success"&&typeof c.value!=typeof r?failure$2("input must be the same type as the enum values",o):c}}function date(){return(t,e=new Path$2)=>t instanceof Date?isNaN(t)?failure$2("invalid date",e):success$2(t,[]):failure$2("value is not a date",e)}function jsonDate(){return compose$2(string(),({value:t,warnings:e},n)=>{const r=new Date(t);return Number.isNaN(r)?failure$2("value is not valid date string",n):success$2(r,e)})}var Refine_PrimitiveCheckers={mixed,literal,bool,number,string,stringLiterals,date,jsonDate,enumObject};const{Path:Path$3,compose:compose$3,failure:failure$3,success:success$3}=Refine_Checkers$1;function asType(t,e){return compose$3(t,({value:n,warnings:r})=>success$3(e(n),r))}function unionFailure(t,e,n){return failure$3(`${t}: ${n.map(r=>r.message).join(", ")}`,e)}function or(t,e){return(n,r=new Path$3)=>{const o=t(n,r);if(o.type==="success")return success$3(o.value,o.warnings);const i=e(n,r);return i.type==="success"?success$3(i.value,i.warnings):unionFailure("value did not match any types in or()",r,[o,i])}}function union(...t){return(e,n=new Path$3)=>{const r=[];for(const o of t){const i=o(e,n);if(i.type==="success")return success$3(i.value,i.warnings);r.push(i)}return unionFailure("value did not match any types in union",n,r)}}function match(...t){return union(...t)}function nullable(t,e){const{nullWithWarningWhenInvalid:n=!1}=e??{};return(r,o=new Path$3)=>{if(r==null)return success$3(r,[]);const i=t(r,o);if(i.type==="success")return success$3(i.value,i.warnings);if(n)return success$3(null,[i]);const{message:c,path:s}=i;return failure$3(c,s)}}function voidable(t,e){const{undefinedWithWarningWhenInvalid:n=!1}=e??{};return(r,o=new Path$3)=>{if(r===void 0)return success$3(void 0,[]);const i=t(r,o);if(i.type==="success")return success$3(i.value,i.warnings);if(n)return success$3(void 0,[i]);const{message:c,path:s}=i;return failure$3(c,s)}}function withDefault(t,e){return(n,r=new Path$3)=>{if(n==null)return success$3(e,[]);const o=t(n,r);return o.type==="failure"||o.value!=null?o:success$3(e,[])}}function constraint(t,e){return compose$3(t,({value:n,warnings:r},o)=>{const i=e(n),[c,s]=typeof i=="boolean"?[i,"value failed constraint check"]:i;return c?success$3(n,r):failure$3(s,o)})}function lazy(t){return(e,n=new Path$3)=>t()(e,n)}function custom(t,e="failed to return non-null from custom checker."){return(n,r=new Path$3)=>{try{const o=t(n);return o!=null?success$3(o,[]):failure$3(e,r)}catch(o){return failure$3(o.message,r)}}}var Refine_UtilityCheckers={or,union,match,nullable,voidable,withDefault,constraint,asType,lazy,custom};const{assertion:assertion$2,coercion:coercion$1}=Refine_API,{Path:Path$4}=Refine_Checkers$1,{array:array$1,dict:dict$1,map:map$1,object:object$1,optional:optional$1,set:set$1,tuple:tuple$1,writableArray:writableArray$1,writableDict:writableDict$1,writableObject:writableObject$1}=Refine_ContainerCheckers$1,{jsonParser:jsonParser$1,jsonParserEnforced:jsonParserEnforced$1}=Refine_JSON,{bool:bool$1,date:date$1,enumObject:enumObject$1,jsonDate:jsonDate$1,literal:literal$1,mixed:mixed$1,number:number$1,string:string$1,stringLiterals:stringLiterals$1}=Refine_PrimitiveCheckers,{asType:asType$1,constraint:constraint$1,custom:custom$1,lazy:lazy$1,match:match$1,nullable:nullable$1,or:or$1,union:union$1,voidable:voidable$1,withDefault:withDefault$1}=Refine_UtilityCheckers;var Refine_index={assertion:assertion$2,coercion:coercion$1,jsonParser:jsonParser$1,jsonParserEnforced:jsonParserEnforced$1,Path:Path$4,mixed:mixed$1,literal:literal$1,bool:bool$1,number:number$1,string:string$1,stringLiterals:stringLiterals$1,enumObject:enumObject$1,date:date$1,jsonDate:jsonDate$1,asType:asType$1,or:or$1,union:union$1,match:match$1,nullable:nullable$1,voidable:voidable$1,withDefault:withDefault$1,constraint:constraint$1,lazy:lazy$1,custom:custom$1,array:array$1,tuple:tuple$1,dict:dict$1,object:object$1,optional:optional$1,set:set$1,map:map$1,writableArray:writableArray$1,writableDict:writableDict$1,writableObject:writableObject$1};const{DefaultValue:DefaultValue$1,RecoilLoadable:RecoilLoadable$1}=Recoil_index,{syncEffect:syncEffect$1,useRecoilSync:useRecoilSync$1}=RecoilSync$1,{useCallback:useCallback$1,useEffect:useEffect$1,useMemo,useRef:useRef$1}=react,{assertion:assertion$3,mixed:mixed$2,writableDict:writableDict$2}=Refine_index,registries$1=new Map,itemStateChecker=writableDict$2(mixed$2()),refineState=assertion$3(itemStateChecker),wrapState=t=>new Map(Array.from(Object.entries(refineState(t)))),unwrapState=t=>Object.fromEntries(Array.from(t.entries()).filter(([,e])=>!(e instanceof DefaultValue$1)));function parseURL(t,e,n){const r=new URL(t);switch(e.part){case"href":return wrapState(n(`${r.pathname}${r.search}${r.hash}`));case"hash":return r.hash?wrapState(n(decodeURIComponent(r.hash.substr(1)))):null;case"search":return r.search?wrapState(n(decodeURIComponent(r.search.substr(1)))):null;case"queryParams":{const o=new URLSearchParams(r.search),{param:i}=e;if(i!=null){const c=o.get(i);return c!=null?wrapState(n(c)):new Map}return new Map(Array.from(o.entries()).map(([c,s])=>{try{return[c,n(s)]}catch(u){return[c,RecoilLoadable$1.error(u)]}}))}}throw Recoil_err(`Unknown URL location part: "${e.part}"`)}function encodeURL(t,e,n,r){const o=new URL(t);switch(e.part){case"href":return r(unwrapState(n));case"hash":o.hash=encodeURIComponent(r(unwrapState(n)));break;case"search":o.search=encodeURIComponent(r(unwrapState(n)));break;case"queryParams":{const{param:i}=e,c=new URLSearchParams(o.search);if(i!=null)c.set(i,r(unwrapState(n)));else for(const[s,u]of n.entries())u instanceof DefaultValue$1?c.delete(s):c.set(s,r(u));o.search=c.toString();break}default:throw Recoil_err(`Unknown URL location part: "${e.part}"`)}return o.href}const DEFAULT_BROWSER_INTERFACE={replaceURL:t=>history.replaceState(null,"",t),pushURL:t=>history.pushState(null,"",t),getURL:()=>window.document.location,listenChangeURL:t=>(window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t))};function RecoilURLSync({storeKey:t,location:e,serialize:n,deserialize:r,browserInterface:o,children:i}){const{getURL:c,replaceURL:s,pushURL:u,listenChangeURL:g}={...DEFAULT_BROWSER_INTERFACE,...o??{}},l=useMemo(()=>e,[e.part,e.queryParam]),p=useCallback$1(()=>{h.current=parseURL(c(),l,r)},[c,l,r]),h=useRef$1(null),_=useRef$1(!0);_.current&&p(),_.current=!1,useEffect$1(p,[p]);const m=useCallback$1(({diff:d,allItems:f})=>{p();const S=registries$1.get(t),E=S!=null?new Set(Array.from(S).filter(([,{history:R,itemKeys:w}])=>R==="push"&&Array.from(w).some(v=>d.has(v))).map(([,{itemKeys:R}])=>R).reduce((R,w)=>R.concat(Array.from(w)),[])):null;if(E!=null&&E.size&&h.current!=null){const R=h.current;for(const[w,v]of f)E.has(w)||R.set(w,v);s(encodeURL(c(),e,R,n)),u(encodeURL(c(),e,f,n))}else s(encodeURL(c(),e,f,n));h.current=f},[c,e,u,s,n,t,p]),$=useCallback$1(d=>{var f,S;return(f=h.current)!==null&&f!==void 0&&f.has(d)?(S=h.current)===null||S===void 0?void 0:S.get(d):new DefaultValue$1},[]),y=useCallback$1(({updateAllKnownItems:d})=>{function f(){p(),h.current!=null&&d(h.current)}return g(f)},[g,p]);return useRecoilSync$1({storeKey:t,read:$,write:m,listen:y}),i}function urlSyncEffect({history:t="replace",...e}){const n=syncEffect$1(e);return r=>{var o;registries$1.has(e.storeKey)||registries$1.set(e.storeKey,new Map);const i=registries$1.get(e.storeKey);if(i==null)throw Recoil_err("Error with atom registration");i.set(r.node.key,{history:t,itemKeys:new Set([(o=e.itemKey)!==null&&o!==void 0?o:r.node.key])});const c=n(r);return()=>{i.delete(r.node.key),c?.()}}}var RecoilSync_URL={RecoilURLSync,urlSyncEffect};function nullthrows(t,e){if(t!=null)return t;throw Recoil_err(e??"Got unexpected null or undefined")}var Recoil_nullthrows=nullthrows;const{RecoilURLSync:RecoilURLSync$1}=RecoilSync_URL,{useCallback:useCallback$2}=react;function RecoilURLSyncJSON(t){if(t.location.part==="href")throw Recoil_err('"href" location is not supported for JSON encoding');const e=useCallback$2(r=>r===void 0?"":Recoil_nullthrows(JSON.stringify(r),"Unable to serialize state with JSON"),[]),n=useCallback$2(r=>JSON.parse(r),[]);return react.createElement(RecoilURLSync$1,_extends({},t,{serialize:e,deserialize:n}))}var RecoilSync_URLJSON={RecoilURLSyncJSON},RecoilSync_URLJSON_1=RecoilSync_URLJSON.RecoilURLSyncJSON,RecoilSync_URLJSON$1=Object.freeze({__proto__:null,RecoilURLSyncJSON:RecoilSync_URLJSON_1});const{useEffect:useEffect$2,useRef:useRef$2}=react;function usePrevious(t){const e=useRef$2();return useEffect$2(()=>{e.current=t}),e.current}var Recoil_usePrevious=usePrevious;const{DefaultValue:DefaultValue$2}=Recoil_index,{RecoilURLSync:RecoilURLSync$2}=RecoilSync_URL,{useCallback:useCallback$3,useEffect:useEffect$3,useMemo:useMemo$1}=react,BUILTIN_HANDLERS=[{tag:"Date",class:Date,write:t=>t.toISOString(),read:t=>new Date(t)},{tag:"Set",class:Set,write:t=>Array.from(t),read:t=>new Set(t)},{tag:"Map",class:Map,write:t=>Array.from(t.entries()),read:t=>new Map(t)},{tag:"__DV",class:DefaultValue$2,write:()=>0,read:()=>new DefaultValue$2}];function RecoilURLSyncTransit({handlers:t,...e}){if(e.location.part==="href")throw Recoil_err('"href" location is not supported for Transit encoding');const n=Recoil_usePrevious(t);useEffect$3(()=>{},[n,t]);const r=useMemo$1(()=>[...BUILTIN_HANDLERS,...t??[]],[t]),o=useMemo$1(()=>transitJs.writer("json",{handlers:transitJs.map(r.map(u=>[u.class,transitJs.makeWriteHandler({tag:()=>u.tag,rep:u.write})]).flat(1))}),[r]),i=useCallback$3(u=>o.write(u),[o]),c=useMemo$1(()=>transitJs.reader("json",{handlers:r.reduce((u,{tag:g,read:l})=>(u[g]=l,u),{}),mapBuilder:{init:()=>({}),add:(u,g,l)=>(u[g]=l,u),finalize:u=>u}}),[r]),s=useCallback$3(u=>c.read(u),[c]);return react.createElement(RecoilURLSync$2,_extends({},e,{serialize:i,deserialize:s}))}var RecoilSync_URLTransit={RecoilURLSyncTransit},RecoilSync_URLTransit_1=RecoilSync_URLTransit.RecoilURLSyncTransit,RecoilSync_URLTransit$1=Object.freeze({__proto__:null,RecoilURLSyncTransit:RecoilSync_URLTransit_1});const{RecoilSync:RecoilSync$2,syncEffect:syncEffect$2}=RecoilSync$1,{RecoilURLSync:RecoilURLSync$3,urlSyncEffect:urlSyncEffect$1}=RecoilSync_URL,{RecoilURLSyncJSON:RecoilURLSyncJSON$1}=RecoilSync_URLJSON$1,{RecoilURLSyncTransit:RecoilURLSyncTransit$1}=RecoilSync_URLTransit$1;var RecoilSync_index={RecoilSync:RecoilSync$2,syncEffect:syncEffect$2,RecoilURLSync:RecoilURLSync$3,RecoilURLSyncJSON:RecoilURLSyncJSON$1,RecoilURLSyncTransit:RecoilURLSyncTransit$1,urlSyncEffect:urlSyncEffect$1},RecoilSync_index_2=RecoilSync_index.syncEffect;const currentUserState=Recoil_index_8({key:"t",default:0,effects:[RecoilSync_index_2({refine:Refine_index_9()})]}),urlState=urlSyncAtom({type:"query",key:"urlSync/atom"});Recoil_index_9({key:"urlaa/state",get:({get:t})=>{const e=t(urlState);console.log("------>",e)}});const Demo=()=>{useLocation();const[{id:t},e]=useParams$1(),[n,r]=useQuery(!0),[o,i]=Recoil_index_22(currentUserState),c=useNavigate();Recoil_index_20(urlState);const s=Recoil_index_20(mixURLSyncState);return console.log(":::---> URLSync",s),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{onClick:()=>{r({t:Math.random()},["a"])},children:"Demo"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{onClick:()=>{i(Math.random())},children:["tttttttttttttttttttttttttt -- ",o," ",typeof o]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{c("-",{params:{id:t+1}})},children:["params: ",t]}),jsxRuntimeExports.jsxs("div",{onClick:()=>{e({id:t+1}),i(t+1)},children:["set params: ",t]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Outlet,{})})]})},Demo$1=Demo;export{Demo$1 as Component};
